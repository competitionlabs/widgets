/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/javascript/leaderboard.v3-selfinit.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/css-vars-ponyfill/dist/css-vars-ponyfill.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/css-vars-ponyfill/dist/css-vars-ponyfill.esm.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*!
 * css-vars-ponyfill
 * v2.3.2
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function _extends() {
    _extends = Object.assign || function(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i];
            for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                    target[key] = source[key];
                }
            }
        }
        return target;
    };
    return _extends.apply(this, arguments);
}

function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}

function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}

function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);
}

function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
    return arr2;
}

function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

/*!
 * get-css-data
 * v1.8.0
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */ function getUrls(urls) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var settings = {
        mimeType: options.mimeType || null,
        onBeforeSend: options.onBeforeSend || Function.prototype,
        onSuccess: options.onSuccess || Function.prototype,
        onError: options.onError || Function.prototype,
        onComplete: options.onComplete || Function.prototype
    };
    var urlArray = Array.isArray(urls) ? urls : [ urls ];
    var urlQueue = Array.apply(null, Array(urlArray.length)).map((function(x) {
        return null;
    }));
    function isValidCss() {
        var cssText = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var isHTML = cssText.trim().charAt(0) === "<";
        return !isHTML;
    }
    function onError(xhr, urlIndex) {
        settings.onError(xhr, urlArray[urlIndex], urlIndex);
    }
    function onSuccess(responseText, urlIndex) {
        var returnVal = settings.onSuccess(responseText, urlArray[urlIndex], urlIndex);
        responseText = returnVal === false ? "" : returnVal || responseText;
        urlQueue[urlIndex] = responseText;
        if (urlQueue.indexOf(null) === -1) {
            settings.onComplete(urlQueue);
        }
    }
    var parser = document.createElement("a");
    urlArray.forEach((function(url, i) {
        parser.setAttribute("href", url);
        parser.href = String(parser.href);
        var isIElte9 = Boolean(document.all && !window.atob);
        var isIElte9CORS = isIElte9 && parser.host.split(":")[0] !== location.host.split(":")[0];
        if (isIElte9CORS) {
            var isSameProtocol = parser.protocol === location.protocol;
            if (isSameProtocol) {
                var xdr = new XDomainRequest;
                xdr.open("GET", url);
                xdr.timeout = 0;
                xdr.onprogress = Function.prototype;
                xdr.ontimeout = Function.prototype;
                xdr.onload = function() {
                    if (isValidCss(xdr.responseText)) {
                        onSuccess(xdr.responseText, i);
                    } else {
                        onError(xdr, i);
                    }
                };
                xdr.onerror = function(err) {
                    onError(xdr, i);
                };
                setTimeout((function() {
                    xdr.send();
                }), 0);
            } else {
                console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(url, ")"));
                onError(null, i);
            }
        } else {
            var xhr = new XMLHttpRequest;
            xhr.open("GET", url);
            if (settings.mimeType && xhr.overrideMimeType) {
                xhr.overrideMimeType(settings.mimeType);
            }
            settings.onBeforeSend(xhr, url, i);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200 && isValidCss(xhr.responseText)) {
                        onSuccess(xhr.responseText, i);
                    } else {
                        onError(xhr, i);
                    }
                }
            };
            xhr.send();
        }
    }));
}

/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */ function getCssData(options) {
    var regex = {
        cssComments: /\/\*[\s\S]+?\*\//g,
        cssImports: /(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g
    };
    var settings = {
        rootElement: options.rootElement || document,
        include: options.include || 'style,link[rel="stylesheet"]',
        exclude: options.exclude || null,
        filter: options.filter || null,
        skipDisabled: options.skipDisabled !== false,
        useCSSOM: options.useCSSOM || false,
        onBeforeSend: options.onBeforeSend || Function.prototype,
        onSuccess: options.onSuccess || Function.prototype,
        onError: options.onError || Function.prototype,
        onComplete: options.onComplete || Function.prototype
    };
    var sourceNodes = Array.apply(null, settings.rootElement.querySelectorAll(settings.include)).filter((function(node) {
        return !matchesSelector(node, settings.exclude);
    }));
    var cssArray = Array.apply(null, Array(sourceNodes.length)).map((function(x) {
        return null;
    }));
    function handleComplete() {
        var isComplete = cssArray.indexOf(null) === -1;
        if (isComplete) {
            var cssText = cssArray.join("");
            settings.onComplete(cssText, cssArray, sourceNodes);
        }
    }
    function handleSuccess(cssText, cssIndex, node, sourceUrl) {
        var returnVal = settings.onSuccess(cssText, node, sourceUrl);
        cssText = returnVal !== undefined && Boolean(returnVal) === false ? "" : returnVal || cssText;
        resolveImports(cssText, node, sourceUrl, (function(resolvedCssText, errorData) {
            if (cssArray[cssIndex] === null) {
                errorData.forEach((function(data) {
                    return settings.onError(data.xhr, node, data.url);
                }));
                if (!settings.filter || settings.filter.test(resolvedCssText)) {
                    cssArray[cssIndex] = resolvedCssText;
                } else {
                    cssArray[cssIndex] = "";
                }
                handleComplete();
            }
        }));
    }
    function parseImportData(cssText, baseUrl) {
        var ignoreRules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
        var importData = {};
        importData.rules = (cssText.replace(regex.cssComments, "").match(regex.cssImports) || []).filter((function(rule) {
            return ignoreRules.indexOf(rule) === -1;
        }));
        importData.urls = importData.rules.map((function(rule) {
            return rule.replace(regex.cssImports, "$1");
        }));
        importData.absoluteUrls = importData.urls.map((function(url) {
            return getFullUrl(url, baseUrl);
        }));
        importData.absoluteRules = importData.rules.map((function(rule, i) {
            var oldUrl = importData.urls[i];
            var newUrl = getFullUrl(importData.absoluteUrls[i], baseUrl);
            return rule.replace(oldUrl, newUrl);
        }));
        return importData;
    }
    function resolveImports(cssText, node, baseUrl, callbackFn) {
        var __errorData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];
        var __errorRules = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];
        var importData = parseImportData(cssText, baseUrl, __errorRules);
        if (importData.rules.length) {
            getUrls(importData.absoluteUrls, {
                onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {
                    settings.onBeforeSend(xhr, node, url);
                },
                onSuccess: function onSuccess(cssText, url, urlIndex) {
                    var returnVal = settings.onSuccess(cssText, node, url);
                    cssText = returnVal === false ? "" : returnVal || cssText;
                    var responseImportData = parseImportData(cssText, url, __errorRules);
                    responseImportData.rules.forEach((function(rule, i) {
                        cssText = cssText.replace(rule, responseImportData.absoluteRules[i]);
                    }));
                    return cssText;
                },
                onError: function onError(xhr, url, urlIndex) {
                    __errorData.push({
                        xhr: xhr,
                        url: url
                    });
                    __errorRules.push(importData.rules[urlIndex]);
                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);
                },
                onComplete: function onComplete(responseArray) {
                    responseArray.forEach((function(importText, i) {
                        cssText = cssText.replace(importData.rules[i], importText);
                    }));
                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);
                }
            });
        } else {
            callbackFn(cssText, __errorData);
        }
    }
    if (sourceNodes.length) {
        sourceNodes.forEach((function(node, i) {
            var linkHref = node.getAttribute("href");
            var linkRel = node.getAttribute("rel");
            var isLink = node.nodeName === "LINK" && linkHref && linkRel && linkRel.toLowerCase().indexOf("stylesheet") !== -1;
            var isSkip = settings.skipDisabled === false ? false : node.disabled;
            var isStyle = node.nodeName === "STYLE";
            if (isLink && !isSkip) {
                getUrls(linkHref, {
                    mimeType: "text/css",
                    onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {
                        settings.onBeforeSend(xhr, node, url);
                    },
                    onSuccess: function onSuccess(cssText, url, urlIndex) {
                        var sourceUrl = getFullUrl(linkHref);
                        handleSuccess(cssText, i, node, sourceUrl);
                    },
                    onError: function onError(xhr, url, urlIndex) {
                        cssArray[i] = "";
                        settings.onError(xhr, node, url);
                        handleComplete();
                    }
                });
            } else if (isStyle && !isSkip) {
                var cssText = node.textContent;
                if (settings.useCSSOM) {
                    cssText = Array.apply(null, node.sheet.cssRules).map((function(rule) {
                        return rule.cssText;
                    })).join("");
                }
                handleSuccess(cssText, i, node, location.href);
            } else {
                cssArray[i] = "";
                handleComplete();
            }
        }));
    } else {
        settings.onComplete("", []);
    }
}

function getFullUrl(url, base) {
    var d = document.implementation.createHTMLDocument("");
    var b = d.createElement("base");
    var a = d.createElement("a");
    d.head.appendChild(b);
    d.body.appendChild(a);
    b.href = base || document.baseURI || (document.querySelector("base") || {}).href || location.href;
    a.href = url;
    return a.href;
}

function matchesSelector(elm, selector) {
    var matches = elm.matches || elm.matchesSelector || elm.webkitMatchesSelector || elm.mozMatchesSelector || elm.msMatchesSelector || elm.oMatchesSelector;
    return matches.call(elm, selector);
}

var balancedMatch = balanced;

function balanced(a, b, str) {
    if (a instanceof RegExp) a = maybeMatch(a, str);
    if (b instanceof RegExp) b = maybeMatch(b, str);
    var r = range(a, b, str);
    return r && {
        start: r[0],
        end: r[1],
        pre: str.slice(0, r[0]),
        body: str.slice(r[0] + a.length, r[1]),
        post: str.slice(r[1] + b.length)
    };
}

function maybeMatch(reg, str) {
    var m = str.match(reg);
    return m ? m[0] : null;
}

balanced.range = range;

function range(a, b, str) {
    var begs, beg, left, right, result;
    var ai = str.indexOf(a);
    var bi = str.indexOf(b, ai + 1);
    var i = ai;
    if (ai >= 0 && bi > 0) {
        begs = [];
        left = str.length;
        while (i >= 0 && !result) {
            if (i == ai) {
                begs.push(i);
                ai = str.indexOf(a, i + 1);
            } else if (begs.length == 1) {
                result = [ begs.pop(), bi ];
            } else {
                beg = begs.pop();
                if (beg < left) {
                    left = beg;
                    right = bi;
                }
                bi = str.indexOf(b, i + 1);
            }
            i = ai < bi && ai >= 0 ? ai : bi;
        }
        if (begs.length) {
            result = [ left, right ];
        }
    }
    return result;
}

function parseCss(css) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var defaults = {
        preserveStatic: true,
        removeComments: false
    };
    var settings = _extends({}, defaults, options);
    var errors = [];
    function error(msg) {
        throw new Error("CSS parse error: ".concat(msg));
    }
    function match(re) {
        var m = re.exec(css);
        if (m) {
            css = css.slice(m[0].length);
            return m;
        }
    }
    function open() {
        return match(/^{\s*/);
    }
    function close() {
        return match(/^}/);
    }
    function whitespace() {
        match(/^\s*/);
    }
    function comment() {
        whitespace();
        if (css[0] !== "/" || css[1] !== "*") {
            return;
        }
        var i = 2;
        while (css[i] && (css[i] !== "*" || css[i + 1] !== "/")) {
            i++;
        }
        if (!css[i]) {
            return error("end of comment is missing");
        }
        var str = css.slice(2, i);
        css = css.slice(i + 2);
        return {
            type: "comment",
            comment: str
        };
    }
    function comments() {
        var cmnts = [];
        var c;
        while (c = comment()) {
            cmnts.push(c);
        }
        return settings.removeComments ? [] : cmnts;
    }
    function selector() {
        whitespace();
        while (css[0] === "}") {
            error("extra closing bracket");
        }
        var m = match(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);
        if (m) {
            return m[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g, "").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g, (function(m) {
                return m.replace(/,/g, "‌");
            })).split(/\s*(?![^(]*\)),\s*/).map((function(s) {
                return s.replace(/\u200C/g, ",");
            }));
        }
    }
    function declaration() {
        if (css[0] === "@") {
            return at_rule();
        }
        match(/^([;\s]*)+/);
        var comment_regexp = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;
        var prop = match(/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);
        if (!prop) {
            return;
        }
        prop = prop[0].trim();
        if (!match(/^:\s*/)) {
            return error("property missing ':'");
        }
        var val = match(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/);
        var ret = {
            type: "declaration",
            property: prop.replace(comment_regexp, ""),
            value: val ? val[0].replace(comment_regexp, "").trim() : ""
        };
        match(/^[;\s]*/);
        return ret;
    }
    function declarations() {
        if (!open()) {
            return error("missing '{'");
        }
        var d;
        var decls = comments();
        while (d = declaration()) {
            decls.push(d);
            decls = decls.concat(comments());
        }
        if (!close()) {
            return error("missing '}'");
        }
        return decls;
    }
    function keyframe() {
        whitespace();
        var vals = [];
        var m;
        while (m = match(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)) {
            vals.push(m[1]);
            match(/^,\s*/);
        }
        if (vals.length) {
            return {
                type: "keyframe",
                values: vals,
                declarations: declarations()
            };
        }
    }
    function at_keyframes() {
        var m = match(/^@([-\w]+)?keyframes\s*/);
        if (!m) {
            return;
        }
        var vendor = m[1];
        m = match(/^([-\w]+)\s*/);
        if (!m) {
            return error("@keyframes missing name");
        }
        var name = m[1];
        if (!open()) {
            return error("@keyframes missing '{'");
        }
        var frame;
        var frames = comments();
        while (frame = keyframe()) {
            frames.push(frame);
            frames = frames.concat(comments());
        }
        if (!close()) {
            return error("@keyframes missing '}'");
        }
        return {
            type: "keyframes",
            name: name,
            vendor: vendor,
            keyframes: frames
        };
    }
    function at_page() {
        var m = match(/^@page */);
        if (m) {
            var sel = selector() || [];
            return {
                type: "page",
                selectors: sel,
                declarations: declarations()
            };
        }
    }
    function at_page_margin_box() {
        var m = match(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);
        if (m) {
            var name = "".concat(m[1], "-").concat(m[2]) + (m[3] ? "-".concat(m[3]) : "");
            return {
                type: "page-margin-box",
                name: name,
                declarations: declarations()
            };
        }
    }
    function at_fontface() {
        var m = match(/^@font-face\s*/);
        if (m) {
            return {
                type: "font-face",
                declarations: declarations()
            };
        }
    }
    function at_supports() {
        var m = match(/^@supports *([^{]+)/);
        if (m) {
            return {
                type: "supports",
                supports: m[1].trim(),
                rules: rules()
            };
        }
    }
    function at_host() {
        var m = match(/^@host\s*/);
        if (m) {
            return {
                type: "host",
                rules: rules()
            };
        }
    }
    function at_media() {
        var m = match(/^@media([^{]+)*/);
        if (m) {
            return {
                type: "media",
                media: (m[1] || "").trim(),
                rules: rules()
            };
        }
    }
    function at_custom_m() {
        var m = match(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);
        if (m) {
            return {
                type: "custom-media",
                name: m[1].trim(),
                media: m[2].trim()
            };
        }
    }
    function at_document() {
        var m = match(/^@([-\w]+)?document *([^{]+)/);
        if (m) {
            return {
                type: "document",
                document: m[2].trim(),
                vendor: m[1] ? m[1].trim() : null,
                rules: rules()
            };
        }
    }
    function at_x() {
        var m = match(/^@(import|charset|namespace)\s*([^;]+);/);
        if (m) {
            return {
                type: m[1],
                name: m[2].trim()
            };
        }
    }
    function at_rule() {
        whitespace();
        if (css[0] === "@") {
            var ret = at_x() || at_fontface() || at_media() || at_keyframes() || at_supports() || at_document() || at_custom_m() || at_host() || at_page() || at_page_margin_box();
            if (ret && !settings.preserveStatic) {
                var hasVarFunc = false;
                if (ret.declarations) {
                    hasVarFunc = ret.declarations.some((function(decl) {
                        return /var\(/.test(decl.value);
                    }));
                } else {
                    var arr = ret.keyframes || ret.rules || [];
                    hasVarFunc = arr.some((function(obj) {
                        return (obj.declarations || []).some((function(decl) {
                            return /var\(/.test(decl.value);
                        }));
                    }));
                }
                return hasVarFunc ? ret : {};
            }
            return ret;
        }
    }
    function rule() {
        if (!settings.preserveStatic) {
            var balancedMatch$1 = balancedMatch("{", "}", css);
            if (balancedMatch$1) {
                var hasVarDecl = /:(?:root|host)(?![.:#(])/.test(balancedMatch$1.pre) && /--\S*\s*:/.test(balancedMatch$1.body);
                var hasVarFunc = /var\(/.test(balancedMatch$1.body);
                if (!hasVarDecl && !hasVarFunc) {
                    css = css.slice(balancedMatch$1.end + 1);
                    return {};
                }
            }
        }
        var sel = selector() || [];
        var decls = settings.preserveStatic ? declarations() : declarations().filter((function(decl) {
            var hasVarDecl = sel.some((function(s) {
                return /:(?:root|host)(?![.:#(])/.test(s);
            })) && /^--\S/.test(decl.property);
            var hasVarFunc = /var\(/.test(decl.value);
            return hasVarDecl || hasVarFunc;
        }));
        if (!sel.length) {
            error("selector missing");
        }
        return {
            type: "rule",
            selectors: sel,
            declarations: decls
        };
    }
    function rules(core) {
        if (!core && !open()) {
            return error("missing '{'");
        }
        var node;
        var rules = comments();
        while (css.length && (core || css[0] !== "}") && (node = at_rule() || rule())) {
            if (node.type) {
                rules.push(node);
            }
            rules = rules.concat(comments());
        }
        if (!core && !close()) {
            return error("missing '}'");
        }
        return rules;
    }
    return {
        type: "stylesheet",
        stylesheet: {
            rules: rules(true),
            errors: errors
        }
    };
}

function parseVars(cssData) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var defaults = {
        parseHost: false,
        store: {},
        onWarning: function onWarning() {}
    };
    var settings = _extends({}, defaults, options);
    var reVarDeclSelectors = new RegExp(":".concat(settings.parseHost ? "host" : "root", "$"));
    if (typeof cssData === "string") {
        cssData = parseCss(cssData, settings);
    }
    cssData.stylesheet.rules.forEach((function(rule) {
        if (rule.type !== "rule" || !rule.selectors.some((function(s) {
            return reVarDeclSelectors.test(s);
        }))) {
            return;
        }
        rule.declarations.forEach((function(decl, i) {
            var prop = decl.property;
            var value = decl.value;
            if (prop && prop.indexOf("--") === 0) {
                settings.store[prop] = value;
            }
        }));
    }));
    return settings.store;
}

function stringifyCss(tree) {
    var delim = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var cb = arguments.length > 2 ? arguments[2] : undefined;
    var renderMethods = {
        charset: function charset(node) {
            return "@charset " + node.name + ";";
        },
        comment: function comment(node) {
            return node.comment.indexOf("__CSSVARSPONYFILL") === 0 ? "/*" + node.comment + "*/" : "";
        },
        "custom-media": function customMedia(node) {
            return "@custom-media " + node.name + " " + node.media + ";";
        },
        declaration: function declaration(node) {
            return node.property + ":" + node.value + ";";
        },
        document: function document(node) {
            return "@" + (node.vendor || "") + "document " + node.document + "{" + visit(node.rules) + "}";
        },
        "font-face": function fontFace(node) {
            return "@font-face" + "{" + visit(node.declarations) + "}";
        },
        host: function host(node) {
            return "@host" + "{" + visit(node.rules) + "}";
        },
        import: function _import(node) {
            return "@import " + node.name + ";";
        },
        keyframe: function keyframe(node) {
            return node.values.join(",") + "{" + visit(node.declarations) + "}";
        },
        keyframes: function keyframes(node) {
            return "@" + (node.vendor || "") + "keyframes " + node.name + "{" + visit(node.keyframes) + "}";
        },
        media: function media(node) {
            return "@media " + node.media + "{" + visit(node.rules) + "}";
        },
        namespace: function namespace(node) {
            return "@namespace " + node.name + ";";
        },
        page: function page(node) {
            return "@page " + (node.selectors.length ? node.selectors.join(", ") : "") + "{" + visit(node.declarations) + "}";
        },
        "page-margin-box": function pageMarginBox(node) {
            return "@" + node.name + "{" + visit(node.declarations) + "}";
        },
        rule: function rule(node) {
            var decls = node.declarations;
            if (decls.length) {
                return node.selectors.join(",") + "{" + visit(decls) + "}";
            }
        },
        supports: function supports(node) {
            return "@supports " + node.supports + "{" + visit(node.rules) + "}";
        }
    };
    function visit(nodes) {
        var buf = "";
        for (var i = 0; i < nodes.length; i++) {
            var n = nodes[i];
            if (cb) {
                cb(n);
            }
            var txt = renderMethods[n.type](n);
            if (txt) {
                buf += txt;
                if (txt.length && n.selectors) {
                    buf += delim;
                }
            }
        }
        return buf;
    }
    return visit(tree.stylesheet.rules);
}

function walkCss(node, fn) {
    node.rules.forEach((function(rule) {
        if (rule.rules) {
            walkCss(rule, fn);
            return;
        }
        if (rule.keyframes) {
            rule.keyframes.forEach((function(keyframe) {
                if (keyframe.type === "keyframe") {
                    fn(keyframe.declarations, rule);
                }
            }));
            return;
        }
        if (!rule.declarations) {
            return;
        }
        fn(rule.declarations, node);
    }));
}

var VAR_PROP_IDENTIFIER = "--";

var VAR_FUNC_IDENTIFIER = "var";

function transformCss(cssData) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var defaults = {
        preserveStatic: true,
        preserveVars: false,
        variables: {},
        onWarning: function onWarning() {}
    };
    var settings = _extends({}, defaults, options);
    if (typeof cssData === "string") {
        cssData = parseCss(cssData, settings);
    }
    walkCss(cssData.stylesheet, (function(declarations, node) {
        for (var i = 0; i < declarations.length; i++) {
            var decl = declarations[i];
            var type = decl.type;
            var prop = decl.property;
            var value = decl.value;
            if (type !== "declaration") {
                continue;
            }
            if (!settings.preserveVars && prop && prop.indexOf(VAR_PROP_IDENTIFIER) === 0) {
                declarations.splice(i, 1);
                i--;
                continue;
            }
            if (value.indexOf(VAR_FUNC_IDENTIFIER + "(") !== -1) {
                var resolvedValue = resolveValue(value, settings);
                if (resolvedValue !== decl.value) {
                    resolvedValue = fixNestedCalc(resolvedValue);
                    if (!settings.preserveVars) {
                        decl.value = resolvedValue;
                    } else {
                        declarations.splice(i, 0, {
                            type: type,
                            property: prop,
                            value: resolvedValue
                        });
                        i++;
                    }
                }
            }
        }
    }));
    return stringifyCss(cssData);
}

function fixNestedCalc(value) {
    var reCalcVal = /calc\(([^)]+)\)/g;
    (value.match(reCalcVal) || []).forEach((function(match) {
        var newVal = "calc".concat(match.split("calc").join(""));
        value = value.replace(match, newVal);
    }));
    return value;
}

function resolveValue(value) {
    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var __recursiveFallback = arguments.length > 2 ? arguments[2] : undefined;
    if (value.indexOf("var(") === -1) {
        return value;
    }
    var valueData = balancedMatch("(", ")", value);
    function resolveFunc(value) {
        var name = value.split(",")[0].replace(/[\s\n\t]/g, "");
        var fallback = (value.match(/(?:\s*,\s*){1}(.*)?/) || [])[1];
        var match = Object.prototype.hasOwnProperty.call(settings.variables, name) ? String(settings.variables[name]) : undefined;
        var replacement = match || (fallback ? String(fallback) : undefined);
        var unresolvedFallback = __recursiveFallback || value;
        if (!match) {
            settings.onWarning('variable "'.concat(name, '" is undefined'));
        }
        if (replacement && replacement !== "undefined" && replacement.length > 0) {
            return resolveValue(replacement, settings, unresolvedFallback);
        } else {
            return "var(".concat(unresolvedFallback, ")");
        }
    }
    if (!valueData) {
        if (value.indexOf("var(") !== -1) {
            settings.onWarning('missing closing ")" in the value "'.concat(value, '"'));
        }
        return value;
    } else if (valueData.pre.slice(-3) === "var") {
        var isEmptyVarFunc = valueData.body.trim().length === 0;
        if (isEmptyVarFunc) {
            settings.onWarning("var() must contain a non-whitespace string");
            return value;
        } else {
            return valueData.pre.slice(0, -3) + resolveFunc(valueData.body) + resolveValue(valueData.post, settings);
        }
    } else {
        return valueData.pre + "(".concat(resolveValue(valueData.body, settings), ")") + resolveValue(valueData.post, settings);
    }
}

var isBrowser = typeof window !== "undefined";

var isNativeSupport = isBrowser && window.CSS && window.CSS.supports && window.CSS.supports("(--a: 0)");

var counters = {
    group: 0,
    job: 0
};

var defaults = {
    rootElement: isBrowser ? document : null,
    shadowDOM: false,
    include: "style,link[rel=stylesheet]",
    exclude: "",
    variables: {},
    onlyLegacy: true,
    preserveStatic: true,
    preserveVars: false,
    silent: false,
    updateDOM: true,
    updateURLs: true,
    watch: null,
    onBeforeSend: function onBeforeSend() {},
    onError: function onError() {},
    onWarning: function onWarning() {},
    onSuccess: function onSuccess() {},
    onComplete: function onComplete() {},
    onFinally: function onFinally() {}
};

var regex = {
    cssComments: /\/\*[\s\S]+?\*\//g,
    cssKeyframes: /@(?:-\w*-)?keyframes/,
    cssMediaQueries: /@media[^{]+\{([\s\S]+?})\s*}/g,
    cssUrls: /url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,
    cssVarDeclRules: /(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,
    cssVarDecls: /(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,
    cssVarFunc: /var\(\s*--[\w-]/,
    cssVars: /(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/
};

var variableStore = {
    dom: {},
    job: {},
    user: {}
};

var cssVarsIsRunning = false;

var cssVarsObserver = null;

var cssVarsSrcNodeCount = 0;

var debounceTimer = null;

var isShadowDOMReady = false;

/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (—), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */ function cssVars() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var msgPrefix = "cssVars(): ";
    var settings = _extends({}, defaults, options);
    function handleError(message, sourceNode, xhr, url) {
        if (!settings.silent && window.console) {
            console.error("".concat(msgPrefix).concat(message, "\n"), sourceNode);
        }
        settings.onError(message, sourceNode, xhr, url);
    }
    function handleWarning(message) {
        if (!settings.silent && window.console) {
            console.warn("".concat(msgPrefix).concat(message));
        }
        settings.onWarning(message);
    }
    function handleFinally(hasChanged) {
        settings.onFinally(Boolean(hasChanged), isNativeSupport, getTimeStamp() - settings.__benchmark);
    }
    if (!isBrowser) {
        return;
    }
    if (settings.watch) {
        settings.watch = defaults.watch;
        addMutationObserver(settings);
        cssVars(settings);
        return;
    } else if (settings.watch === false && cssVarsObserver) {
        cssVarsObserver.disconnect();
        cssVarsObserver = null;
    }
    if (!settings.__benchmark) {
        if (cssVarsIsRunning === settings.rootElement) {
            cssVarsDebounced(options);
            return;
        }
        settings.__benchmark = getTimeStamp();
        settings.exclude = [ cssVarsObserver ? '[data-cssvars]:not([data-cssvars=""])' : '[data-cssvars="out"]', settings.exclude ].filter((function(selector) {
            return selector;
        })).join(",");
        settings.variables = fixVarNames(settings.variables);
        if (!cssVarsObserver) {
            var outNodes = Array.apply(null, settings.rootElement.querySelectorAll('[data-cssvars="out"]'));
            outNodes.forEach((function(outNode) {
                var dataGroup = outNode.getAttribute("data-cssvars-group");
                var srcNode = dataGroup ? settings.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(dataGroup, '"]')) : null;
                if (!srcNode) {
                    outNode.parentNode.removeChild(outNode);
                }
            }));
            if (cssVarsSrcNodeCount) {
                var srcNodes = settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])');
                if (srcNodes.length < cssVarsSrcNodeCount) {
                    cssVarsSrcNodeCount = srcNodes.length;
                    variableStore.dom = {};
                }
            }
        }
    }
    if (document.readyState !== "loading") {
        if (isNativeSupport && settings.onlyLegacy) {
            var hasVarChange = false;
            if (settings.updateDOM) {
                var targetElm = settings.rootElement.host || (settings.rootElement === document ? document.documentElement : settings.rootElement);
                Object.keys(settings.variables).forEach((function(key) {
                    var varValue = settings.variables[key];
                    hasVarChange = hasVarChange || varValue !== getComputedStyle(targetElm).getPropertyValue(key);
                    targetElm.style.setProperty(key, varValue);
                }));
            }
            handleFinally(hasVarChange);
        } else if (!isShadowDOMReady && (settings.shadowDOM || settings.rootElement.shadowRoot || settings.rootElement.host)) {
            getCssData({
                rootElement: defaults.rootElement,
                include: defaults.include,
                exclude: settings.exclude,
                skipDisabled: false,
                onSuccess: function onSuccess(cssText, node, url) {
                    cssText = cssText.replace(regex.cssComments, "").replace(regex.cssMediaQueries, "");
                    cssText = (cssText.match(regex.cssVarDeclRules) || []).join("");
                    return cssText || false;
                },
                onComplete: function onComplete(cssText, cssArray, nodeArray) {
                    parseVars(cssText, {
                        store: variableStore.dom,
                        onWarning: handleWarning
                    });
                    isShadowDOMReady = true;
                    cssVars(settings);
                }
            });
        } else {
            cssVarsIsRunning = settings.rootElement;
            getCssData({
                rootElement: settings.rootElement,
                include: settings.include,
                exclude: settings.exclude,
                skipDisabled: false,
                onBeforeSend: settings.onBeforeSend,
                onError: function onError(xhr, node, url) {
                    var responseUrl = xhr.responseURL || getFullUrl$1(url, location.href);
                    var statusText = xhr.statusText ? "(".concat(xhr.statusText, ")") : "Unspecified Error" + (xhr.status === 0 ? " (possibly CORS related)" : "");
                    var errorMsg = "CSS XHR Error: ".concat(responseUrl, " ").concat(xhr.status, " ").concat(statusText);
                    handleError(errorMsg, node, xhr, responseUrl);
                },
                onSuccess: function onSuccess(cssText, node, url) {
                    var isLink = node.tagName === "LINK";
                    var isStyleImport = node.tagName === "STYLE" && cssText !== node.textContent;
                    var returnVal = settings.onSuccess(cssText, node, url);
                    cssText = returnVal !== undefined && Boolean(returnVal) === false ? "" : returnVal || cssText;
                    if (settings.updateURLs && (isLink || isStyleImport)) {
                        cssText = fixRelativeCssUrls(cssText, url);
                    }
                    return cssText;
                },
                onComplete: function onComplete(cssText, cssArray) {
                    var nodeArray = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
                    var currentVars = _extends({}, variableStore.dom, variableStore.user);
                    var hasVarChange = false;
                    variableStore.job = {};
                    nodeArray.forEach((function(node, i) {
                        var nodeCSS = cssArray[i];
                        if (regex.cssVars.test(nodeCSS)) {
                            try {
                                var cssTree = parseCss(nodeCSS, {
                                    preserveStatic: settings.preserveStatic,
                                    removeComments: true
                                });
                                parseVars(cssTree, {
                                    parseHost: Boolean(settings.rootElement.host),
                                    store: variableStore.dom,
                                    onWarning: handleWarning
                                });
                                node.__cssVars = {
                                    tree: cssTree
                                };
                            } catch (err) {
                                handleError(err.message, node);
                            }
                        }
                    }));
                    _extends(variableStore.job, variableStore.dom);
                    if (settings.updateDOM) {
                        _extends(variableStore.user, settings.variables);
                        _extends(variableStore.job, variableStore.user);
                    } else {
                        _extends(variableStore.job, variableStore.user, settings.variables);
                        _extends(currentVars, settings.variables);
                    }
                    hasVarChange = counters.job > 0 && Boolean(Object.keys(variableStore.job).length > Object.keys(currentVars).length || Boolean(Object.keys(currentVars).length && Object.keys(variableStore.job).some((function(key) {
                        return variableStore.job[key] !== currentVars[key];
                    }))));
                    if (hasVarChange) {
                        resetCssNodes(settings.rootElement);
                        cssVars(settings);
                    } else {
                        var outCssArray = [];
                        var outNodeArray = [];
                        var hasKeyframesWithVars = false;
                        if (settings.updateDOM) {
                            counters.job++;
                        }
                        nodeArray.forEach((function(node, i) {
                            var isSkip = !node.__cssVars;
                            if (node.__cssVars) {
                                try {
                                    transformCss(node.__cssVars.tree, _extends({}, settings, {
                                        variables: variableStore.job,
                                        onWarning: handleWarning
                                    }));
                                    var outCss = stringifyCss(node.__cssVars.tree);
                                    if (settings.updateDOM) {
                                        var nodeCSS = cssArray[i];
                                        var hasCSSVarFunc = regex.cssVarFunc.test(nodeCSS);
                                        if (!node.getAttribute("data-cssvars")) {
                                            node.setAttribute("data-cssvars", "src");
                                        }
                                        if (outCss.length && hasCSSVarFunc) {
                                            var dataGroup = node.getAttribute("data-cssvars-group") || ++counters.group;
                                            var outCssNoSpaces = outCss.replace(/\s/g, "");
                                            var outNode = settings.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(dataGroup, '"]')) || document.createElement("style");
                                            hasKeyframesWithVars = hasKeyframesWithVars || regex.cssKeyframes.test(outCss);
                                            if (settings.preserveStatic) {
                                                node.sheet.disabled = true;
                                            }
                                            if (!outNode.hasAttribute("data-cssvars")) {
                                                outNode.setAttribute("data-cssvars", "out");
                                            }
                                            if (outCssNoSpaces === node.textContent.replace(/\s/g, "")) {
                                                isSkip = true;
                                                if (outNode && outNode.parentNode) {
                                                    node.removeAttribute("data-cssvars-group");
                                                    outNode.parentNode.removeChild(outNode);
                                                }
                                            } else if (outCssNoSpaces !== outNode.textContent.replace(/\s/g, "")) {
                                                [ node, outNode ].forEach((function(n) {
                                                    n.setAttribute("data-cssvars-job", counters.job);
                                                    n.setAttribute("data-cssvars-group", dataGroup);
                                                }));
                                                outNode.textContent = outCss;
                                                outCssArray.push(outCss);
                                                outNodeArray.push(outNode);
                                                if (!outNode.parentNode) {
                                                    node.parentNode.insertBefore(outNode, node.nextSibling);
                                                }
                                            }
                                        }
                                    } else {
                                        if (node.textContent.replace(/\s/g, "") !== outCss) {
                                            outCssArray.push(outCss);
                                        }
                                    }
                                } catch (err) {
                                    handleError(err.message, node);
                                }
                            }
                            if (isSkip) {
                                node.setAttribute("data-cssvars", "skip");
                            }
                            if (!node.hasAttribute("data-cssvars-job")) {
                                node.setAttribute("data-cssvars-job", counters.job);
                            }
                        }));
                        cssVarsSrcNodeCount = settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length;
                        if (settings.shadowDOM) {
                            var elms = [ settings.rootElement ].concat(_toConsumableArray(settings.rootElement.querySelectorAll("*")));
                            for (var i = 0, elm; elm = elms[i]; ++i) {
                                if (elm.shadowRoot && elm.shadowRoot.querySelector("style")) {
                                    var shadowSettings = _extends({}, settings, {
                                        rootElement: elm.shadowRoot
                                    });
                                    cssVars(shadowSettings);
                                }
                            }
                        }
                        if (settings.updateDOM && hasKeyframesWithVars) {
                            fixKeyframes(settings.rootElement);
                        }
                        cssVarsIsRunning = false;
                        settings.onComplete(outCssArray.join(""), outNodeArray, JSON.parse(JSON.stringify(variableStore.job)), getTimeStamp() - settings.__benchmark);
                        handleFinally(outNodeArray.length);
                    }
                }
            });
        }
    } else {
        document.addEventListener("DOMContentLoaded", (function init(evt) {
            cssVars(options);
            document.removeEventListener("DOMContentLoaded", init);
        }));
    }
}

cssVars.reset = function() {
    counters.job = 0;
    counters.group = 0;
    cssVarsIsRunning = false;
    if (cssVarsObserver) {
        cssVarsObserver.disconnect();
        cssVarsObserver = null;
    }
    cssVarsSrcNodeCount = 0;
    debounceTimer = null;
    isShadowDOMReady = false;
    for (var prop in variableStore) {
        variableStore[prop] = {};
    }
};

function addMutationObserver(settings) {
    function isDisabled(node) {
        var isDisabledAttr = node.hasAttribute("disabled");
        var isDisabledSheet = (node.sheet || {}).disabled;
        return isDisabledAttr || isDisabledSheet;
    }
    function isLink(node) {
        var isStylesheet = node.tagName === "LINK" && (node.getAttribute("rel") || "").indexOf("stylesheet") !== -1;
        return isStylesheet && !isDisabled(node);
    }
    function isStyle(node) {
        return node.tagName === "STYLE" && !isDisabled(node);
    }
    function isValidAddMutation(mutationNodes) {
        return Array.apply(null, mutationNodes).some((function(node) {
            var isElm = node.nodeType === 1;
            var hasAttr = isElm && node.hasAttribute("data-cssvars");
            var isStyleWithVars = isStyle(node) && regex.cssVars.test(node.textContent);
            var isValid = !hasAttr && (isLink(node) || isStyleWithVars);
            return isValid;
        }));
    }
    function isValidRemoveMutation(mutationNodes) {
        return Array.apply(null, mutationNodes).some((function(node) {
            var isElm = node.nodeType === 1;
            var isOutNode = isElm && node.getAttribute("data-cssvars") === "out";
            var isSrcNode = isElm && node.getAttribute("data-cssvars") === "src";
            var isValid = isSrcNode;
            if (isSrcNode || isOutNode) {
                var dataGroup = node.getAttribute("data-cssvars-group");
                var orphanNode = settings.rootElement.querySelector('[data-cssvars-group="'.concat(dataGroup, '"]'));
                if (isSrcNode) {
                    resetCssNodes(settings.rootElement);
                    variableStore.dom = {};
                }
                if (orphanNode) {
                    orphanNode.parentNode.removeChild(orphanNode);
                }
            }
            return isValid;
        }));
    }
    if (!window.MutationObserver) {
        return;
    }
    if (cssVarsObserver) {
        cssVarsObserver.disconnect();
        cssVarsObserver = null;
    }
    cssVarsObserver = new MutationObserver((function(mutations) {
        var hasValidMutation = mutations.some((function(mutation) {
            var isValid = false;
            if (mutation.type === "attributes") {
                isValid = isLink(mutation.target);
            } else if (mutation.type === "childList") {
                isValid = isValidAddMutation(mutation.addedNodes) || isValidRemoveMutation(mutation.removedNodes);
            }
            return isValid;
        }));
        if (hasValidMutation) {
            cssVars(settings);
        }
    }));
    cssVarsObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: [ "disabled", "href" ],
        childList: true,
        subtree: true
    });
}

function cssVarsDebounced(settings) {
    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout((function() {
        settings.__benchmark = null;
        cssVars(settings);
    }), delay);
}

function fixKeyframes(rootElement) {
    var animationNameProp = [ "animation-name", "-moz-animation-name", "-webkit-animation-name" ].filter((function(prop) {
        return getComputedStyle(document.body)[prop];
    }))[0];
    if (animationNameProp) {
        var allNodes = rootElement.getElementsByTagName("*");
        var keyframeNodes = [];
        var nameMarker = "__CSSVARSPONYFILL-KEYFRAMES__";
        for (var i = 0, len = allNodes.length; i < len; i++) {
            var node = allNodes[i];
            var animationName = getComputedStyle(node)[animationNameProp];
            if (animationName !== "none") {
                node.style[animationNameProp] += nameMarker;
                keyframeNodes.push(node);
            }
        }
        void document.body.offsetHeight;
        for (var _i = 0, _len = keyframeNodes.length; _i < _len; _i++) {
            var nodeStyle = keyframeNodes[_i].style;
            nodeStyle[animationNameProp] = nodeStyle[animationNameProp].replace(nameMarker, "");
        }
    }
}

function fixRelativeCssUrls(cssText, baseUrl) {
    var cssUrls = cssText.replace(regex.cssComments, "").match(regex.cssUrls) || [];
    cssUrls.forEach((function(cssUrl) {
        var oldUrl = cssUrl.replace(regex.cssUrls, "$1");
        var newUrl = getFullUrl$1(oldUrl, baseUrl);
        cssText = cssText.replace(cssUrl, cssUrl.replace(oldUrl, newUrl));
    }));
    return cssText;
}

function fixVarNames() {
    var varObj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var reLeadingHyphens = /^-{2}/;
    return Object.keys(varObj).reduce((function(obj, value) {
        var key = reLeadingHyphens.test(value) ? value : "--".concat(value.replace(/^-+/, ""));
        obj[key] = varObj[value];
        return obj;
    }), {});
}

function getFullUrl$1(url) {
    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : location.href;
    var d = document.implementation.createHTMLDocument("");
    var b = d.createElement("base");
    var a = d.createElement("a");
    d.head.appendChild(b);
    d.body.appendChild(a);
    b.href = base;
    a.href = url;
    return a.href;
}

function getTimeStamp() {
    return isBrowser && (window.performance || {}).now ? window.performance.now() : (new Date).getTime();
}

function resetCssNodes(rootElement) {
    var resetNodes = Array.apply(null, rootElement.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));
    resetNodes.forEach((function(node) {
        return node.setAttribute("data-cssvars", "");
    }));
}

/* harmony default export */ __webpack_exports__["default"] = (cssVars);
//# sourceMappingURL=css-vars-ponyfill.esm.js.map


/***/ }),

/***/ "./node_modules/identicon.js/identicon.js":
/*!************************************************!*\
  !*** ./node_modules/identicon.js/identicon.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {/**
 * Identicon.js 2.3.3
 * http://github.com/stewartlord/identicon.js
 *
 * PNGLib required for PNG output
 * http://www.xarg.org/download/pnglib.js
 *
 * Copyright 2018, Stewart Lord
 * Released under the BSD license
 * http://www.opensource.org/licenses/bsd-license.php
 */

(function() {
    var PNGlib;
    if ( true && typeof module.exports !== 'undefined') {
        PNGlib = __webpack_require__(/*! ./pnglib */ "./node_modules/identicon.js/pnglib.js");
    } else {
        PNGlib = window.PNGlib;
    }

    var Identicon = function(hash, options){
        if (typeof(hash) !== 'string' || hash.length < 15) {
            throw 'A hash of at least 15 characters is required.';
        }

        this.defaults = {
            background: [240, 240, 240, 255],
            margin:     0.08,
            size:       64,
            saturation: 0.7,
            brightness: 0.5,
            format:     'png'
        };

        this.options = typeof(options) === 'object' ? options : this.defaults;

        // backward compatibility with old constructor (hash, size, margin)
        if (typeof(arguments[1]) === 'number') { this.options.size   = arguments[1]; }
        if (arguments[2])                      { this.options.margin = arguments[2]; }

        this.hash        = hash
        this.background  = this.options.background || this.defaults.background;
        this.size        = this.options.size       || this.defaults.size;
        this.format      = this.options.format     || this.defaults.format;
        this.margin      = this.options.margin !== undefined ? this.options.margin : this.defaults.margin;

        // foreground defaults to last 7 chars as hue at 70% saturation, 50% brightness
        var hue          = parseInt(this.hash.substr(-7), 16) / 0xfffffff;
        var saturation   = this.options.saturation || this.defaults.saturation;
        var brightness   = this.options.brightness || this.defaults.brightness;
        this.foreground  = this.options.foreground || this.hsl2rgb(hue, saturation, brightness);
    };

    Identicon.prototype = {
        background: null,
        foreground: null,
        hash:       null,
        margin:     null,
        size:       null,
        format:     null,

        image: function(){
            return this.isSvg()
                ? new Svg(this.size, this.foreground, this.background)
                : new PNGlib(this.size, this.size, 256);
        },

        render: function(){
            var image      = this.image(),
                size       = this.size,
                baseMargin = Math.floor(size * this.margin),
                cell       = Math.floor((size - (baseMargin * 2)) / 5),
                margin     = Math.floor((size - cell * 5) / 2),
                bg         = image.color.apply(image, this.background),
                fg         = image.color.apply(image, this.foreground);

            // the first 15 characters of the hash control the pixels (even/odd)
            // they are drawn down the middle first, then mirrored outwards
            var i, color;
            for (i = 0; i < 15; i++) {
                color = parseInt(this.hash.charAt(i), 16) % 2 ? bg : fg;
                if (i < 5) {
                    this.rectangle(2 * cell + margin, i * cell + margin, cell, cell, color, image);
                } else if (i < 10) {
                    this.rectangle(1 * cell + margin, (i - 5) * cell + margin, cell, cell, color, image);
                    this.rectangle(3 * cell + margin, (i - 5) * cell + margin, cell, cell, color, image);
                } else if (i < 15) {
                    this.rectangle(0 * cell + margin, (i - 10) * cell + margin, cell, cell, color, image);
                    this.rectangle(4 * cell + margin, (i - 10) * cell + margin, cell, cell, color, image);
                }
            }

            return image;
        },

        rectangle: function(x, y, w, h, color, image){
            if (this.isSvg()) {
                image.rectangles.push({x: x, y: y, w: w, h: h, color: color});
            } else {
                var i, j;
                for (i = x; i < x + w; i++) {
                    for (j = y; j < y + h; j++) {
                        image.buffer[image.index(i, j)] = color;
                    }
                }
            }
        },

        // adapted from: https://gist.github.com/aemkei/1325937
        hsl2rgb: function(h, s, b){
            h *= 6;
            s = [
                b += s *= b < .5 ? b : 1 - b,
                b - h % 1 * s * 2,
                b -= s *= 2,
                b,
                b + h % 1 * s,
                b + s
            ];

            return[
                s[ ~~h    % 6 ] * 255, // red
                s[ (h|16) % 6 ] * 255, // green
                s[ (h|8)  % 6 ] * 255  // blue
            ];
        },

        toString: function(raw){
            // backward compatibility with old toString, default to base64
            if (raw) {
                return this.render().getDump();
            } else {
                return this.render().getBase64();
            }
        },

        isSvg: function(){
            return this.format.match(/svg/i)
        }
    };

    var Svg = function(size, foreground, background){
        this.size       = size;
        this.foreground = this.color.apply(this, foreground);
        this.background = this.color.apply(this, background);
        this.rectangles = [];
    };

    Svg.prototype = {
        size:       null,
        foreground: null,
        background: null,
        rectangles: null,

        color: function(r, g, b, a){
            var values = [r, g, b].map(Math.round);
            values.push((a >= 0) && (a <= 255) ? a/255 : 1);
            return 'rgba(' + values.join(',') + ')';
        },

        getDump: function(){
          var i,
                xml,
                rect,
                fg     = this.foreground,
                bg     = this.background,
                stroke = this.size * 0.005;

            xml = "<svg xmlns='http://www.w3.org/2000/svg'"
                + " width='" + this.size + "' height='" + this.size + "'"
                + " style='background-color:" + bg + ";'>"
                + "<g style='fill:" + fg + "; stroke:" + fg + "; stroke-width:" + stroke + ";'>";

            for (i = 0; i < this.rectangles.length; i++) {
                rect = this.rectangles[i];
                if (rect.color == bg) continue;
                xml += "<rect "
                    + " x='"      + rect.x + "'"
                    + " y='"      + rect.y + "'"
                    + " width='"  + rect.w + "'"
                    + " height='" + rect.h + "'"
                    + "/>";
            }
            xml += "</g></svg>"

            return xml;
        },

        getBase64: function(){
            if ('function' === typeof btoa) {
                return btoa(this.getDump());
            } else if (Buffer) {
                return new Buffer(this.getDump(), 'binary').toString('base64');
            } else {
                throw 'Cannot generate base64 output';
            }
        }
    };

    if ( true && typeof module.exports !== 'undefined') {
        module.exports = Identicon;
    } else {
        window.Identicon = Identicon;
    }
})();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/identicon.js/pnglib.js":
/*!*********************************************!*\
  !*** ./node_modules/identicon.js/pnglib.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/

(function() {

	// helper functions for that ctx
	function write(buffer, offs) {
		for (var i = 2; i < arguments.length; i++) {
			for (var j = 0; j < arguments[i].length; j++) {
				buffer[offs++] = arguments[i].charAt(j);
			}
		}
	}

	function byte2(w) {
		return String.fromCharCode((w >> 8) & 255, w & 255);
	}

	function byte4(w) {
		return String.fromCharCode((w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w & 255);
	}

	function byte2lsb(w) {
		return String.fromCharCode(w & 255, (w >> 8) & 255);
	}

	// modified from original source to support NPM
	var PNGlib = function(width,height,depth) {

		this.width   = width;
		this.height  = height;
		this.depth   = depth;

		// pixel data and row filter identifier size
		this.pix_size = height * (width + 1);

		// deflate header, pix_size, block headers, adler32 checksum
		this.data_size = 2 + this.pix_size + 5 * Math.floor((0xfffe + this.pix_size) / 0xffff) + 4;

		// offsets and sizes of Png chunks
		this.ihdr_offs = 0;									// IHDR offset and size
		this.ihdr_size = 4 + 4 + 13 + 4;
		this.plte_offs = this.ihdr_offs + this.ihdr_size;	// PLTE offset and size
		this.plte_size = 4 + 4 + 3 * depth + 4;
		this.trns_offs = this.plte_offs + this.plte_size;	// tRNS offset and size
		this.trns_size = 4 + 4 + depth + 4;
		this.idat_offs = this.trns_offs + this.trns_size;	// IDAT offset and size
		this.idat_size = 4 + 4 + this.data_size + 4;
		this.iend_offs = this.idat_offs + this.idat_size;	// IEND offset and size
		this.iend_size = 4 + 4 + 4;
		this.buffer_size  = this.iend_offs + this.iend_size;	// total PNG size

		this.buffer  = new Array();
		this.palette = new Object();
		this.pindex  = 0;

		var _crc32 = new Array();

		// initialize buffer with zero bytes
		for (var i = 0; i < this.buffer_size; i++) {
			this.buffer[i] = "\x00";
		}

		// initialize non-zero elements
		write(this.buffer, this.ihdr_offs, byte4(this.ihdr_size - 12), 'IHDR', byte4(width), byte4(height), "\x08\x03");
		write(this.buffer, this.plte_offs, byte4(this.plte_size - 12), 'PLTE');
		write(this.buffer, this.trns_offs, byte4(this.trns_size - 12), 'tRNS');
		write(this.buffer, this.idat_offs, byte4(this.idat_size - 12), 'IDAT');
		write(this.buffer, this.iend_offs, byte4(this.iend_size - 12), 'IEND');

		// initialize deflate header
		var header = ((8 + (7 << 4)) << 8) | (3 << 6);
		header+= 31 - (header % 31);

		write(this.buffer, this.idat_offs + 8, byte2(header));

		// initialize deflate block headers
		for (var i = 0; (i << 16) - 1 < this.pix_size; i++) {
			var size, bits;
			if (i + 0xffff < this.pix_size) {
				size = 0xffff;
				bits = "\x00";
			} else {
				size = this.pix_size - (i << 16) - i;
				bits = "\x01";
			}
			write(this.buffer, this.idat_offs + 8 + 2 + (i << 16) + (i << 2), bits, byte2lsb(size), byte2lsb(~size));
		}

		/* Create crc32 lookup table */
		for (var i = 0; i < 256; i++) {
			var c = i;
			for (var j = 0; j < 8; j++) {
				if (c & 1) {
					c = -306674912 ^ ((c >> 1) & 0x7fffffff);
				} else {
					c = (c >> 1) & 0x7fffffff;
				}
			}
			_crc32[i] = c;
		}

		// compute the index into a png for a given pixel
		this.index = function(x,y) {
			var i = y * (this.width + 1) + x + 1;
			var j = this.idat_offs + 8 + 2 + 5 * Math.floor((i / 0xffff) + 1) + i;
			return j;
		}

		// convert a color and build up the palette
		this.color = function(red, green, blue, alpha) {

			alpha = alpha >= 0 ? alpha : 255;
			var color = (((((alpha << 8) | red) << 8) | green) << 8) | blue;

			if (typeof this.palette[color] == "undefined") {
				if (this.pindex == this.depth) return "\x00";

				var ndx = this.plte_offs + 8 + 3 * this.pindex;

				this.buffer[ndx + 0] = String.fromCharCode(red);
				this.buffer[ndx + 1] = String.fromCharCode(green);
				this.buffer[ndx + 2] = String.fromCharCode(blue);
				this.buffer[this.trns_offs+8+this.pindex] = String.fromCharCode(alpha);

				this.palette[color] = String.fromCharCode(this.pindex++);
			}
			return this.palette[color];
		}

		// output a PNG string, Base64 encoded
		this.getBase64 = function() {

			var s = this.getDump();

			var ch = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
			var c1, c2, c3, e1, e2, e3, e4;
			var l = s.length;
			var i = 0;
			var r = "";

			do {
				c1 = s.charCodeAt(i);
				e1 = c1 >> 2;
				c2 = s.charCodeAt(i+1);
				e2 = ((c1 & 3) << 4) | (c2 >> 4);
				c3 = s.charCodeAt(i+2);
				if (l < i+2) { e3 = 64; } else { e3 = ((c2 & 0xf) << 2) | (c3 >> 6); }
				if (l < i+3) { e4 = 64; } else { e4 = c3 & 0x3f; }
				r+= ch.charAt(e1) + ch.charAt(e2) + ch.charAt(e3) + ch.charAt(e4);
			} while ((i+= 3) < l);
			return r;
		}

		// output a PNG string
		this.getDump = function() {

			// compute adler32 of output pixels + row filter bytes
			var BASE = 65521; /* largest prime smaller than 65536 */
			var NMAX = 5552;  /* NMAX is the largest n such that 255n(n+1)/2 + (n+1)(BASE-1) <= 2^32-1 */
			var s1 = 1;
			var s2 = 0;
			var n = NMAX;

			for (var y = 0; y < this.height; y++) {
				for (var x = -1; x < this.width; x++) {
					s1+= this.buffer[this.index(x, y)].charCodeAt(0);
					s2+= s1;
					if ((n-= 1) == 0) {
						s1%= BASE;
						s2%= BASE;
						n = NMAX;
					}
				}
			}
			s1%= BASE;
			s2%= BASE;
			write(this.buffer, this.idat_offs + this.idat_size - 8, byte4((s2 << 16) | s1));

			// compute crc32 of the PNG chunks
			function crc32(png, offs, size) {
				var crc = -1;
				for (var i = 4; i < size-4; i += 1) {
					crc = _crc32[(crc ^ png[offs+i].charCodeAt(0)) & 0xff] ^ ((crc >> 8) & 0x00ffffff);
				}
				write(png, offs+size-4, byte4(crc ^ -1));
			}

			crc32(this.buffer, this.ihdr_offs, this.ihdr_size);
			crc32(this.buffer, this.plte_offs, this.plte_size);
			crc32(this.buffer, this.trns_offs, this.trns_size);
			crc32(this.buffer, this.idat_offs, this.idat_size);
			crc32(this.buffer, this.iend_offs, this.iend_size);

			// convert PNG to string
			return "\x89PNG\r\n\x1a\n"+this.buffer.join('');
		}
	}

	// modified from original source to support NPM
	if ( true && typeof module.exports !== 'undefined') {
		module.exports = PNGlib;
	} else {
		window.PNGlib = PNGlib;
	}
})();


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/jssha/dist/sha.mjs":
/*!*****************************************!*\
  !*** ./node_modules/jssha/dist/sha.mjs ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * A JavaScript implementation of the SHA family of hashes - defined in FIPS PUB 180-4, FIPS PUB 202,
 * and SP 800-185 - as well as the corresponding HMAC implementation as defined in FIPS PUB 198-1.
 *
 * Copyright 2008-2020 Brian Turek, 1998-2009 Paul Johnston & Contributors
 * Distributed under the BSD License
 * See http://caligatio.github.com/jsSHA/ for more information
 */
const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function n(t,n,e,r){let i,s,o;const h=n||[0],u=(e=e||0)>>>3,w=-1===r?3:0;for(i=0;i<t.length;i+=1)o=i+u,s=o>>>2,h.length<=s&&h.push(0),h[s]|=t[i]<<8*(w+r*(o%4));return{value:h,binLen:8*t.length+e}}function e(e,r,i){switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(i=0;i<t.length;i+=2){if(s=parseInt(t.substr(i,2),16),isNaN(s))throw new Error("String of HEX type contains invalid characters");for(h=(i>>>1)+w,o=h>>>2;u.length<=o;)u.push(0);u[o]|=s<<8*(c+r*(h%4))}return{value:u,binLen:4*t.length+e}}(t,n,e,i)};case"TEXT":return function(t,n,e){return function(t,n,e,r,i){let s,o,h,u,w,c,f,a,l=0;const A=e||[0],E=(r=r||0)>>>3;if("UTF8"===n)for(f=-1===i?3:0,h=0;h<t.length;h+=1)for(s=t.charCodeAt(h),o=[],128>s?o.push(s):2048>s?(o.push(192|s>>>6),o.push(128|63&s)):55296>s||57344<=s?o.push(224|s>>>12,128|s>>>6&63,128|63&s):(h+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(h)),o.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),u=0;u<o.length;u+=1){for(c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=o[u]<<8*(f+i*(c%4)),l+=1}else for(f=-1===i?2:0,a="UTF16LE"===n&&1!==i||"UTF16LE"!==n&&1===i,h=0;h<t.length;h+=1){for(s=t.charCodeAt(h),!0===a&&(u=255&s,s=u<<8|s>>>8),c=l+E,w=c>>>2;A.length<=w;)A.push(0);A[w]|=s<<8*(f+i*(c%4)),l+=2}return{value:A,binLen:8*l+r}}(t,r,n,e,i)};case"B64":return function(n,e,r){return function(n,e,r,i){let s,o,h,u,w,c,f,a=0;const l=e||[0],A=(r=r||0)>>>3,E=-1===i?3:0,H=n.indexOf("=");if(-1===n.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(n=n.replace(/=/g,""),-1!==H&&H<n.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<n.length;o+=4){for(w=n.substr(o,4),u=0,h=0;h<w.length;h+=1)s=t.indexOf(w.charAt(h)),u|=s<<18-6*h;for(h=0;h<w.length-1;h+=1){for(f=a+A,c=f>>>2;l.length<=c;)l.push(0);l[c]|=(u>>>16-8*h&255)<<8*(E+i*(f%4)),a+=1}}return{value:l,binLen:8*a+r}}(n,e,r,i)};case"BYTES":return function(t,n,e){return function(t,n,e,r){let i,s,o,h;const u=n||[0],w=(e=e||0)>>>3,c=-1===r?3:0;for(s=0;s<t.length;s+=1)i=t.charCodeAt(s),h=s+w,o=h>>>2,u.length<=o&&u.push(0),u[o]|=i<<8*(c+r*(h%4));return{value:u,binLen:8*t.length+e}}(t,n,e,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t,e,r){return function(t,e,r,i){return n(new Uint8Array(t),e,r,i)}(t,e,r,i)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t,e,r){return n(t,e,r,i)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(n,e,r,i){switch(n){case"HEX":return function(t){return function(t,n,e,r){let i,s,o="";const h=n/8,u=-1===e?3:0;for(i=0;i<h;i+=1)s=t[i>>>2]>>>8*(u+e*(i%4)),o+="0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(15&s);return r.outputUpper?o.toUpperCase():o}(t,e,r,i)};case"B64":return function(n){return function(n,e,r,i){let s,o,h,u,w,c="";const f=e/8,a=-1===r?3:0;for(s=0;s<f;s+=3)for(u=s+1<f?n[s+1>>>2]:0,w=s+2<f?n[s+2>>>2]:0,h=(n[s>>>2]>>>8*(a+r*(s%4))&255)<<16|(u>>>8*(a+r*((s+1)%4))&255)<<8|w>>>8*(a+r*((s+2)%4))&255,o=0;o<4;o+=1)c+=8*s+6*o<=e?t.charAt(h>>>6*(3-o)&63):i.b64Pad;return c}(n,e,r,i)};case"BYTES":return function(t){return function(t,n,e){let r,i,s="";const o=n/8,h=-1===e?3:0;for(r=0;r<o;r+=1)i=t[r>>>2]>>>8*(h+e*(r%4))&255,s+=String.fromCharCode(i);return s}(t,e,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,n,e){let r;const i=n/8,s=new ArrayBuffer(i),o=new Uint8Array(s),h=-1===e?3:0;for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(h+e*(r%4))&255;return s}(t,e,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,n,e){let r;const i=n/8,s=-1===e?3:0,o=new Uint8Array(i);for(r=0;r<i;r+=1)o[r]=t[r>>>2]>>>8*(s+e*(r%4))&255;return o}(t,e,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],h="Chosen SHA variant is not supported";function u(t,n){let e,r;const i=t.binLen>>>3,s=n.binLen>>>3,o=i<<3,h=4-i<<3;if(i%4!=0){for(e=0;e<s;e+=4)r=i+e>>>2,t.value[r]|=n.value[e>>>2]<<o,t.value.push(0),t.value[r+1]|=n.value[e>>>2]>>>h;return(t.value.length<<2)-4>=s+i&&t.value.pop(),{value:t.value,binLen:t.binLen+n.binLen}}return{value:t.value.concat(n.value),binLen:t.binLen+n.binLen}}function w(t){const n={outputUpper:!1,b64Pad:"=",outputLen:-1},e=t||{},r="Output length must be a multiple of 8";if(n.outputUpper=e.outputUpper||!1,e.b64Pad&&(n.b64Pad=e.b64Pad),e.outputLen){if(e.outputLen%8!=0)throw new Error(r);n.outputLen=e.outputLen}else if(e.shakeLen){if(e.shakeLen%8!=0)throw new Error(r);n.outputLen=e.shakeLen}if("boolean"!=typeof n.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw new Error("Invalid b64Pad formatting option");return n}function c(t,n,r,i){const s=t+" must include a value and format";if(!n){if(!i)throw new Error(s);return i}if(void 0===n.value||!n.format)throw new Error(s);return e(n.format,n.encoding||"UTF8",r)(n.value)}class f{constructor(t,n,e){const r=e||{};if(this.t=n,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=t,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(t){let n,e=0;const r=this.p>>>5,i=this.m(t,this.o,this.h),s=i.binLen,o=i.value,h=s>>>5;for(n=0;n<h;n+=r)e+this.p<=s&&(this.C=this.R(o.slice(n,n+r),this.C),e+=this.p);this.l+=e,this.o=o.slice(e>>>5),this.h=s%this.p,this.u=!0}getHash(t,n){let e,i,s=this.U;const o=w(n);if(this.v){if(-1===o.outputLen)throw new Error("Output length must be specified in options");s=o.outputLen}const h=r(t,s,this.K,o);if(this.A&&this.T)return h(this.T(o));for(i=this.F(this.o.slice(),this.h,this.l,this.g(this.C),s),e=1;e<this.numRounds;e+=1)this.v&&s%32!=0&&(i[i.length-1]&=16777215>>>24-s%32),i=this.F(i,s,0,this.B(this.s),s);return h(i)}setHMACKey(t,n,r){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const i=e(n,(r||{}).encoding||"UTF8",this.K);this.M(i(t))}M(t){const n=this.p>>>3,e=n/4-1;let r;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(n<t.binLen/8&&(t.value=this.F(t.value,t.binLen,0,this.B(this.s),this.U));t.value.length<=e;)t.value.push(0);for(r=0;r<=e;r+=1)this.H[r]=909522486^t.value[r],this.S[r]=1549556828^t.value[r];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(t,n){const e=w(n);return r(t,this.U,this.K,e)(this.k())}k(){let t;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const n=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return t=this.R(this.S,this.B(this.s)),t=this.F(n,this.U,this.p,t,this.U),t}}function a(t,n){return t<<n|t>>>32-n}function l(t,n){return t>>>n|t<<32-n}function A(t,n){return t>>>n}function E(t,n,e){return t^n^e}function H(t,n,e){return t&n^~t&e}function S(t,n,e){return t&n^t&e^n&e}function b(t){return l(t,2)^l(t,13)^l(t,22)}function p(t,n){const e=(65535&t)+(65535&n);return(65535&(t>>>16)+(n>>>16)+(e>>>16))<<16|65535&e}function d(t,n,e,r){const i=(65535&t)+(65535&n)+(65535&e)+(65535&r);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16))<<16|65535&i}function m(t,n,e,r,i){const s=(65535&t)+(65535&n)+(65535&e)+(65535&r)+(65535&i);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(r>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function C(t){return l(t,7)^l(t,18)^A(t,3)}function y(t){return l(t,6)^l(t,11)^l(t,25)}function R(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function U(t,n){let e,r,i,s,o,h,u;const w=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],u=0;u<80;u+=1)w[u]=u<16?t[u]:a(w[u-3]^w[u-8]^w[u-14]^w[u-16],1),h=u<20?m(a(e,5),H(r,i,s),o,1518500249,w[u]):u<40?m(a(e,5),E(r,i,s),o,1859775393,w[u]):u<60?m(a(e,5),S(r,i,s),o,2400959708,w[u]):m(a(e,5),E(r,i,s),o,3395469782,w[u]),o=s,s=i,i=a(r,30),r=e,e=h;return n[0]=p(e,n[0]),n[1]=p(r,n[1]),n[2]=p(i,n[2]),n[3]=p(s,n[3]),n[4]=p(o,n[4]),n}function v(t,n,e,r){let i;const s=15+(n+65>>>9<<4),o=n+e;for(;t.length<=s;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[s]=4294967295&o,t[s-1]=o/4294967296|0,i=0;i<t.length;i+=16)r=U(t.slice(i,i+16),r);return r}class K extends f{constructor(t,n,r){if("SHA-1"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.L=!0,this.T=this.k,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=U,this.g=function(t){return t.slice()},this.B=R,this.F=v,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}function T(t){let n;return n="SHA-224"==t?s.slice():o.slice(),n}function F(t,n){let e,r,s,o,h,u,w,c,f,a,E;const R=[];for(e=n[0],r=n[1],s=n[2],o=n[3],h=n[4],u=n[5],w=n[6],c=n[7],E=0;E<64;E+=1)R[E]=E<16?t[E]:d(l(U=R[E-2],17)^l(U,19)^A(U,10),R[E-7],C(R[E-15]),R[E-16]),f=m(c,y(h),H(h,u,w),i[E],R[E]),a=p(b(e),S(e,r,s)),c=w,w=u,u=h,h=p(o,f),o=s,s=r,r=e,e=p(f,a);var U;return n[0]=p(e,n[0]),n[1]=p(r,n[1]),n[2]=p(s,n[2]),n[3]=p(o,n[3]),n[4]=p(h,n[4]),n[5]=p(u,n[5]),n[6]=p(w,n[6]),n[7]=p(c,n[7]),n}class g extends f{constructor(t,n,r){if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=F,this.g=function(t){return t.slice()},this.B=T,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,o;const h=15+(n+65>>>9<<4),u=n+e;for(;t.length<=h;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[h]=4294967295&u,t[h-1]=u/4294967296|0,s=0;s<t.length;s+=16)r=F(t.slice(s,s+16),r);return o="SHA-224"===i?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r,o}(n,e,r,i,t)},this.C=T(t),this.p=512,this.U="SHA-224"===t?224:256,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}class B{constructor(t,n){this.Y=t,this.N=n}}function L(t,n){let e;return n>32?(e=64-n,new B(t.N<<n|t.Y>>>e,t.Y<<n|t.N>>>e)):0!==n?(e=32-n,new B(t.Y<<n|t.N>>>e,t.N<<n|t.Y>>>e)):t}function M(t,n){let e;return n<32?(e=32-n,new B(t.Y>>>n|t.N<<e,t.N>>>n|t.Y<<e)):(e=64-n,new B(t.N>>>n|t.Y<<e,t.Y>>>n|t.N<<e))}function k(t,n){return new B(t.Y>>>n,t.N>>>n|t.Y<<32-n)}function Y(t,n,e){return new B(t.Y&n.Y^t.Y&e.Y^n.Y&e.Y,t.N&n.N^t.N&e.N^n.N&e.N)}function N(t){const n=M(t,28),e=M(t,34),r=M(t,39);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function I(t,n){let e,r;e=(65535&t.N)+(65535&n.N),r=(t.N>>>16)+(n.N>>>16)+(e>>>16);const i=(65535&r)<<16|65535&e;return e=(65535&t.Y)+(65535&n.Y)+(r>>>16),r=(t.Y>>>16)+(n.Y>>>16)+(e>>>16),new B((65535&r)<<16|65535&e,i)}function X(t,n,e,r){let i,s;i=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N),s=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i>>>16);const o=(65535&s)<<16|65535&i;return i=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&r.Y)+(s>>>16),s=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(r.Y>>>16)+(i>>>16),new B((65535&s)<<16|65535&i,o)}function z(t,n,e,r,i){let s,o;s=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&r.N)+(65535&i.N),o=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(r.N>>>16)+(i.N>>>16)+(s>>>16);const h=(65535&o)<<16|65535&s;return s=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&r.Y)+(65535&i.Y)+(o>>>16),o=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(r.Y>>>16)+(i.Y>>>16)+(s>>>16),new B((65535&o)<<16|65535&s,h)}function x(t,n){return new B(t.Y^n.Y,t.N^n.N)}function _(t){const n=M(t,19),e=M(t,61),r=k(t,6);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function O(t){const n=M(t,1),e=M(t,8),r=k(t,7);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}function P(t){const n=M(t,14),e=M(t,18),r=M(t,41);return new B(n.Y^e.Y^r.Y,n.N^e.N^r.N)}const V=[new B(i[0],3609767458),new B(i[1],602891725),new B(i[2],3964484399),new B(i[3],2173295548),new B(i[4],4081628472),new B(i[5],3053834265),new B(i[6],2937671579),new B(i[7],3664609560),new B(i[8],2734883394),new B(i[9],1164996542),new B(i[10],1323610764),new B(i[11],3590304994),new B(i[12],4068182383),new B(i[13],991336113),new B(i[14],633803317),new B(i[15],3479774868),new B(i[16],2666613458),new B(i[17],944711139),new B(i[18],2341262773),new B(i[19],2007800933),new B(i[20],1495990901),new B(i[21],1856431235),new B(i[22],3175218132),new B(i[23],2198950837),new B(i[24],3999719339),new B(i[25],766784016),new B(i[26],2566594879),new B(i[27],3203337956),new B(i[28],1034457026),new B(i[29],2466948901),new B(i[30],3758326383),new B(i[31],168717936),new B(i[32],1188179964),new B(i[33],1546045734),new B(i[34],1522805485),new B(i[35],2643833823),new B(i[36],2343527390),new B(i[37],1014477480),new B(i[38],1206759142),new B(i[39],344077627),new B(i[40],1290863460),new B(i[41],3158454273),new B(i[42],3505952657),new B(i[43],106217008),new B(i[44],3606008344),new B(i[45],1432725776),new B(i[46],1467031594),new B(i[47],851169720),new B(i[48],3100823752),new B(i[49],1363258195),new B(i[50],3750685593),new B(i[51],3785050280),new B(i[52],3318307427),new B(i[53],3812723403),new B(i[54],2003034995),new B(i[55],3602036899),new B(i[56],1575990012),new B(i[57],1125592928),new B(i[58],2716904306),new B(i[59],442776044),new B(i[60],593698344),new B(i[61],3733110249),new B(i[62],2999351573),new B(i[63],3815920427),new B(3391569614,3928383900),new B(3515267271,566280711),new B(3940187606,3454069534),new B(4118630271,4000239992),new B(116418474,1914138554),new B(174292421,2731055270),new B(289380356,3203993006),new B(460393269,320620315),new B(685471733,587496836),new B(852142971,1086792851),new B(1017036298,365543100),new B(1126000580,2618297676),new B(1288033470,3409855158),new B(1501505948,4234509866),new B(1607167915,987167468),new B(1816402316,1246189591)];function Z(t){return"SHA-384"===t?[new B(3418070365,s[0]),new B(1654270250,s[1]),new B(2438529370,s[2]),new B(355462360,s[3]),new B(1731405415,s[4]),new B(41048885895,s[5]),new B(3675008525,s[6]),new B(1203062813,s[7])]:[new B(o[0],4089235720),new B(o[1],2227873595),new B(o[2],4271175723),new B(o[3],1595750129),new B(o[4],2917565137),new B(o[5],725511199),new B(o[6],4215389547),new B(o[7],327033209)]}function j(t,n){let e,r,i,s,o,h,u,w,c,f,a,l;const A=[];for(e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],h=n[5],u=n[6],w=n[7],a=0;a<80;a+=1)a<16?(l=2*a,A[a]=new B(t[l],t[l+1])):A[a]=X(_(A[a-2]),A[a-7],O(A[a-15]),A[a-16]),c=z(w,P(o),(H=h,S=u,new B((E=o).Y&H.Y^~E.Y&S.Y,E.N&H.N^~E.N&S.N)),V[a],A[a]),f=I(N(e),Y(e,r,i)),w=u,u=h,h=o,o=I(s,c),s=i,i=r,r=e,e=I(c,f);var E,H,S;return n[0]=I(e,n[0]),n[1]=I(r,n[1]),n[2]=I(i,n[2]),n[3]=I(s,n[3]),n[4]=I(o,n[4]),n[5]=I(h,n[5]),n[6]=I(u,n[6]),n[7]=I(w,n[7]),n}class q extends f{constructor(t,n,r){if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(h);super(t,n,r);const i=r||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=j,this.g=function(t){return t.slice()},this.B=Z,this.F=function(n,e,r,i){return function(t,n,e,r,i){let s,o;const h=31+(n+129>>>10<<5),u=n+e;for(;t.length<=h;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[h]=4294967295&u,t[h-1]=u/4294967296|0,s=0;s<t.length;s+=32)r=j(t.slice(s,s+32),r);return o="SHA-384"===i?[(r=r)[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N]:[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N,r[6].Y,r[6].N,r[7].Y,r[7].N],o}(n,e,r,i,t)},this.C=Z(t),this.p=1024,this.U="SHA-384"===t?384:512,this.v=!1,i.hmacKey&&this.M(c("hmacKey",i.hmacKey,this.K))}}const D=[new B(0,1),new B(0,32898),new B(2147483648,32906),new B(2147483648,2147516416),new B(0,32907),new B(0,2147483649),new B(2147483648,2147516545),new B(2147483648,32777),new B(0,138),new B(0,136),new B(0,2147516425),new B(0,2147483658),new B(0,2147516555),new B(2147483648,139),new B(2147483648,32905),new B(2147483648,32771),new B(2147483648,32770),new B(2147483648,128),new B(0,32778),new B(2147483648,2147483658),new B(2147483648,2147516545),new B(2147483648,32896),new B(0,2147483649),new B(2147483648,2147516424)],G=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function J(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=[new B(0,0),new B(0,0),new B(0,0),new B(0,0),new B(0,0)];return e}function Q(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=t[n].slice();return e}function W(t,n){let e,r,i,s;const o=[],h=[];if(null!==t)for(r=0;r<t.length;r+=2)n[(r>>>1)%5][(r>>>1)/5|0]=x(n[(r>>>1)%5][(r>>>1)/5|0],new B(t[r+1],t[r]));for(e=0;e<24;e+=1){for(s=J(),r=0;r<5;r+=1)o[r]=(u=n[r][0],w=n[r][1],c=n[r][2],f=n[r][3],a=n[r][4],new B(u.Y^w.Y^c.Y^f.Y^a.Y,u.N^w.N^c.N^f.N^a.N));for(r=0;r<5;r+=1)h[r]=x(o[(r+4)%5],L(o[(r+1)%5],1));for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=x(n[r][i],h[r]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)s[i][(2*r+3*i)%5]=L(n[r][i],G[r][i]);for(r=0;r<5;r+=1)for(i=0;i<5;i+=1)n[r][i]=x(s[r][i],new B(~s[(r+1)%5][i].Y&s[(r+2)%5][i].Y,~s[(r+1)%5][i].N&s[(r+2)%5][i].N));n[0][0]=x(n[0][0],D[e])}var u,w,c,f,a;return n}function $(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/4294967296&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r+1>>2]|=e<<8*(r+1),r+=1);return r=0!==r?r:1,i[0]|=r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}function tt(t){return u($(t.binLen),t)}function nt(t,n){let e,r=$(n);r=u(r,t);const i=n>>>2,s=(i-r.value.length%i)%i;for(e=0;e<s;e++)r.value.push(0);return r.value}class et extends f{constructor(t,n,r){let i=6,s=0;super(t,n,r);const o=r||{};if(1!==this.numRounds){if(o.kmacKey||o.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=e(this.t,this.i,this.K),this.R=W,this.g=Q,this.B=J,this.C=J(),this.v=!1,t){case"SHA3-224":this.p=s=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=s=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=s=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=s=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":i=31,this.p=s=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":i=31,this.p=s=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":i=4,this.p=s=1344,this.I(r),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":i=4,this.p=s=1088,this.I(r),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=s=1344,i=this._(r),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=s=1088,i=this._(r),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(h)}this.F=function(t,n,e,r,o){return function(t,n,e,r,i,s,o){let h,u,w=0;const c=[],f=i>>>5,a=n>>>5;for(h=0;h<a&&n>=i;h+=f)r=W(t.slice(h,h+f),r),n-=i;for(t=t.slice(h),n%=i;t.length<f;)t.push(0);for(h=n>>>3,t[h>>2]^=s<<h%4*8,t[f-1]^=2147483648,r=W(t,r);32*c.length<o&&(u=r[w%5][w/5|0],c.push(u.N),!(32*c.length>=o));)c.push(u.Y),w+=1,0==64*w%i&&(W(null,r),w=0);return c}(t,n,0,r,s,i,o)},o.hmacKey&&this.M(c("hmacKey",o.hmacKey,this.K))}_(t,n){const e=function(t){const n=t||{};return{funcName:c("funcName",n.funcName,1,{value:[],binLen:0}),customization:c("Customization",n.customization,1,{value:[],binLen:0})}}(t||{});n&&(e.funcName=n);const r=u(tt(e.funcName),tt(e.customization));if(0!==e.customization.binLen||0!==e.funcName.binLen){const t=nt(r,this.p>>>3);for(let n=0;n<t.length;n+=this.p>>>5)this.C=this.R(t.slice(n,n+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(t){const n=function(t){const n=t||{};return{kmacKey:c("kmacKey",n.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:c("Customization",n.customization,1,{value:[],binLen:0})}}(t||{});this._(t,n.funcName);const e=nt(tt(n.kmacKey),this.p>>>3);for(let t=0;t<e.length;t+=this.p>>>5)this.C=this.R(e.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(t){const n=u({value:this.o.slice(),binLen:this.h},function(t){let n,e,r=0;const i=[0,0],s=[4294967295&t,t/4294967296&2097151];for(n=6;n>=0;n--)e=s[n>>2]>>>8*n&255,0===e&&0===r||(i[r>>2]|=e<<8*r,r+=1);return r=0!==r?r:1,i[r>>2]|=r<<8*r,{value:r+1>4?i:[i[0]],binLen:8+8*r}}(t.outputLen));return this.F(n.value,n.binLen,this.l,this.g(this.C),t.outputLen)}}/* harmony default export */ __webpack_exports__["default"] = (class{constructor(t,n,e){if("SHA-1"==t)this.O=new K(t,n,e);else if("SHA-224"==t||"SHA-256"==t)this.O=new g(t,n,e);else if("SHA-384"==t||"SHA-512"==t)this.O=new q(t,n,e);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(h);this.O=new et(t,n,e)}}update(t){this.O.update(t)}getHash(t,n){return this.O.getHash(t,n)}setHMACKey(t,n,e){this.O.setHMACKey(t,n,e)}getHMAC(t,n){return this.O.getHMAC(t,n)}});
//# sourceMappingURL=sha.mjs.map


/***/ }),

/***/ "./node_modules/moment/moment.js":
/*!***************************************!*\
  !*** ./node_modules/moment/moment.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var require;//! moment.js

;(function (global, factory) {
     true ? module.exports = factory() :
    undefined
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false,
            parsedDateParts : [],
            meridiem        : null,
            rfc2822         : false,
            weekdayMismatch : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));

            if (m._strict) {
                isNowValid = isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }

            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid (flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false &&
                (typeof console !==  'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) &&
                    !hasOwnProp(childConfig, prop) &&
                    isObject(parentConfig[prop])) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function calendar (key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        ss : '%d seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match3to4      = /\d\d\d\d?/;     //     999 - 9999
    var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    // includes scottish gaelic two word and hyphenated months
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;

    var regexes = {};

    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PRIORITIES

    addUnitPriority('year', 1);

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get (mom, unit) {
        return mom.isValid() ?
            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1 (mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    // MOMENTS

    function stringGet (units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }


    function stringSet (units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PRIORITY

    addUnitPriority('month', 8);

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m, format) {
        if (!m) {
            return isArray(this._months) ? this._months :
                this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] :
            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort :
                this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;
    function monthsShortRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ?
                this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;
    function monthsRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ?
                this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate (y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date;
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            date = new Date(y + 400, m, d, h, M, s, ms);
            if (isFinite(date.getFullYear())) {
                date.setFullYear(y);
            }
        } else {
            date = new Date(y, m, d, h, M, s, ms);
        }

        return date;
    }

    function createUTCDate (y) {
        var date;
        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            var args = Array.prototype.slice.call(arguments);
            // preserve leap years using a full 400 year cycle, then reset
            args[0] = y + 400;
            date = new Date(Date.UTC.apply(null, args));
            if (isFinite(date.getUTCFullYear())) {
                date.setUTCFullYear(y);
            }
        } else {
            date = new Date(Date.UTC.apply(null, arguments));
        }

        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek, resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PRIORITIES

    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 6th is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PRIORITY
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd',   function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd',   function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES
    function shiftWeekdays (ws, n) {
        return ws.slice(n, 7).concat(ws.slice(0, n));
    }

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m, format) {
        var weekdays = isArray(this._weekdays) ? this._weekdays :
            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];
        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)
            : (m) ? weekdays[m.day()] : weekdays;
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)
            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)
            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse (weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;
    function weekdaysRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ?
                this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;
    function weekdaysShortRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ?
                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;
    function weekdaysMinRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ?
                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }


    function computeWeekdaysParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PRIORITY
    addUnitPriority('hour', 13);

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('k',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour they want. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse
    };

    // internal storage for locale config files
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                !(function webpackMissingModule() { var e = new Error("Cannot find module 'undefined'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
                getSetGlobalLocale(oldLocale);
            } catch (e) {}
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
            else {
                if ((typeof console !==  'undefined') && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride',
                        'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);


            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            // MERGE
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            var curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from beginning of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to beginning of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
        ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
        ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
        ['YYYY-DDD', /\d{4}-\d{3}/],
        ['YYYY-MM', /\d{4}-\d\d/, false],
        ['YYYYYYMMDD', /[+-]\d{10}/],
        ['YYYYMMDD', /\d{8}/],
        // YYYYMM is NOT allowed by the standard
        ['GGGG[W]WWE', /\d{4}W\d{3}/],
        ['GGGG[W]WW', /\d{4}W\d{2}/, false],
        ['YYYYDDD', /\d{7}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        if (match) {
            getParsingFlags(config).iso = true;

            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10)
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        // Final attempt, use Input Fallback
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
        'discouraged and will be removed in an upcoming major release. Please refer to ' +
        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        }  else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if ((isObject(input) && isObjectEmpty(input)) ||
                (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other < this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other > this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };

    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }

        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function absRound (number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // FORMATTING

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);

        if (matches === null) {
            return null;
        }

        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ?
          0 :
          parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            }
            else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset () {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc () {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    // and further modified to allow for strings containing both week and day
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])                         * sign,
                h  : toInt(match[HOUR])                         * sign,
                m  : toInt(match[MINUTE])                       * sign,
                s  : toInt(match[SECOND])                       * sign,
                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                w : parseIso(match[4], sign),
                d : parseIso(match[5], sign),
                h : parseIso(match[6], sign),
                m : parseIso(match[7], sign),
                s : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add      = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1 (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';

        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween (from, to, units, inclusivity) {
        var localFrom = isMoment(from) ? from : createLocal(from),
            localTo = isMoment(to) ? to : createLocal(to);
        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
            return false;
        }
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&
            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));
    }

    function isSame (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter (input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
    }

    function isSameOrBefore (input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
    }

    function diff (input, units, asFloat) {
        var that,
            zoneDelta,
            output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year': output = monthDiff(this, that) / 12; break;
            case 'month': output = monthDiff(this, that); break;
            case 'quarter': output = monthDiff(this, that) / 3; break;
            case 'second': output = (this - that) / 1e3; break; // 1000
            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60
            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60
            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst
            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default: output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect () {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format (inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow (withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow (withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    var MS_PER_SECOND = 1000;
    var MS_PER_MINUTE = 60 * MS_PER_SECOND;
    var MS_PER_HOUR = 60 * MS_PER_MINUTE;
    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;

    // actual modulo - handles negative numbers (for dates before 1970):
    function mod$1(dividend, divisor) {
        return (dividend % divisor + divisor) % divisor;
    }

    function localStartOfDate(y, m, d) {
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return new Date(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return new Date(y, m, d).valueOf();
        }
    }

    function utcStartOfDate(y, m, d) {
        // Date.UTC remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return Date.UTC(y, m, d);
        }
    }

    function startOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year(), 0, 1);
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);
                break;
            case 'month':
                time = startOfDate(this.year(), this.month(), 1);
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date());
                break;
            case 'hour':
                time = this._d.valueOf();
                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);
                break;
            case 'minute':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_MINUTE);
                break;
            case 'second':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_SECOND);
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function endOf (units) {
        var time;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year() + 1, 0, 1) - 1;
                break;
            case 'quarter':
                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;
                break;
            case 'month':
                time = startOfDate(this.year(), this.month() + 1, 1) - 1;
                break;
            case 'week':
                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
                break;
            case 'isoWeek':
                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
                break;
            case 'hour':
                time = this._d.valueOf();
                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;
                break;
            case 'minute':
                time = this._d.valueOf();
                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
                break;
            case 'second':
                time = this._d.valueOf();
                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function valueOf () {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate () {
        return new Date(this.valueOf());
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON () {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2 () {
        return isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PRIORITY

    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);


    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input,
                this.week(),
                this.weekday(),
                this.localeData()._week.dow,
                this.localeData()._week.doy);
    }

    function getSetISOWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PRIORITY

    addUnitPriority('quarter', 7);

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PRIORITY
    addUnitPriority('date', 9);

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PRIORITY
    addUnitPriority('dayOfYear', 4);

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PRIORITY

    addUnitPriority('minute', 14);

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PRIORITY

    addUnitPriority('second', 15);

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PRIORITY

    addUnitPriority('millisecond', 16);

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$1;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = from;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$2;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix (input) {
        return createLocal(input * 1000);
    }

    function createInZone () {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat (string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar        = calendar;
    proto$1.longDateFormat  = longDateFormat;
    proto$1.invalidDate     = invalidDate;
    proto$1.ordinal         = ordinal;
    proto$1.preparse        = preParsePostFormat;
    proto$1.postformat      = preParsePostFormat;
    proto$1.relativeTime    = relativeTime;
    proto$1.pastFuture      = pastFuture;
    proto$1.set             = set;

    proto$1.months            =        localeMonths;
    proto$1.monthsShort       =        localeMonthsShort;
    proto$1.monthsParse       =        localeMonthsParse;
    proto$1.monthsRegex       = monthsRegex;
    proto$1.monthsShortRegex  = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays       =        localeWeekdays;
    proto$1.weekdaysMin    =        localeWeekdaysMin;
    proto$1.weekdaysShort  =        localeWeekdaysShort;
    proto$1.weekdaysParse  =        localeWeekdaysParse;

    proto$1.weekdaysRegex       =        weekdaysRegex;
    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1 (format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl (format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl (localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0;

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths (format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort (format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports

    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

    var mathAbs = Math.abs;

    function abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function addSubtract$1 (duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1 (input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1 (input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'quarter' || units === 'year') {
            days = this._days + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            switch (units) {
                case 'month':   return months;
                case 'quarter': return months / 3;
                case 'year':    return months / 12;
            }
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function valueOf$1 () {
        if (!this.isValid()) {
            return NaN;
        }
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asQuarters     = makeAs('Q');
    var asYears        = makeAs('y');

    function clone$1 () {
        return createDuration(this);
    }

    function get$2 (units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        ss: 44,         // a few seconds to seconds
        s : 45,         // seconds to minute
        m : 45,         // minutes to hour
        h : 22,         // hours to day
        d : 26,         // days to month
        M : 11          // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds <= thresholds.ss && ['s', seconds]  ||
                seconds < thresholds.s   && ['ss', seconds] ||
                minutes <= 1             && ['m']           ||
                minutes < thresholds.m   && ['mm', minutes] ||
                hours   <= 1             && ['h']           ||
                hours   < thresholds.h   && ['hh', hours]   ||
                days    <= 1             && ['d']           ||
                days    < thresholds.d   && ['dd', days]    ||
                months  <= 1             && ['M']           ||
                months  < thresholds.M   && ['MM', months]  ||
                years   <= 1             && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding (roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof(roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize (withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000;
        var days         = abs$1(this._days);
        var months       = abs$1(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return totalSign + 'P' +
            (Y ? ymSign + Y + 'Y' : '') +
            (M ? ymSign + M + 'M' : '') +
            (D ? daysSign + D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? hmsSign + h + 'H' : '') +
            (m ? hmsSign + m + 'M' : '') +
            (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid        = isValid$1;
    proto$2.abs            = abs;
    proto$2.add            = add$1;
    proto$2.subtract       = subtract$1;
    proto$2.as             = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds      = asSeconds;
    proto$2.asMinutes      = asMinutes;
    proto$2.asHours        = asHours;
    proto$2.asDays         = asDays;
    proto$2.asWeeks        = asWeeks;
    proto$2.asMonths       = asMonths;
    proto$2.asQuarters     = asQuarters;
    proto$2.asYears        = asYears;
    proto$2.valueOf        = valueOf$1;
    proto$2._bubble        = bubble;
    proto$2.clone          = clone$1;
    proto$2.get            = get$2;
    proto$2.milliseconds   = milliseconds;
    proto$2.seconds        = seconds;
    proto$2.minutes        = minutes;
    proto$2.hours          = hours;
    proto$2.days           = days;
    proto$2.weeks          = weeks;
    proto$2.months         = months;
    proto$2.years          = years;
    proto$2.humanize       = humanize;
    proto$2.toISOString    = toISOString$1;
    proto$2.toString       = toISOString$1;
    proto$2.toJSON         = toISOString$1;
    proto$2.locale         = locale;
    proto$2.localeData     = localeData;

    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;

    // Side effect imports

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    hooks.version = '2.24.0';

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD',                             // <input type="date" />
        TIME: 'HH:mm',                                  // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss',                       // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS',                        // <input type="time" step="0.001" />
        WEEK: 'GGGG-[W]WW',                             // <input type="week" />
        MONTH: 'YYYY-MM'                                // <input type="month" />
    };

    return hooks;

})));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./src/i18n sync recursive ^\\.\\/translation_.*\\.json$":
/*!**************************************************!*\
  !*** ./src/i18n sync ^\.\/translation_.*\.json$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./translation_en.json": "./src/i18n/translation_en.json"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./src/i18n sync recursive ^\\.\\/translation_.*\\.json$";

/***/ }),

/***/ "./src/i18n/translation_en.json":
/*!**************************************!*\
  !*** ./src/i18n/translation_en.json ***!
  \**************************************/
/*! exports provided: time, achievements, tournaments, leaderboard, miniLeaderboard, rewards, messages, global, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"time\":{\"days\":\"d\",\"hours\":\"h\",\"minutesShortHand\":\"min\",\"minutes\":\"m\",\"seconds\":\"s\"},\"achievements\":{\"label\":\"Achievements\",\"more\":\"More\",\"complete\":\"complete 100%\"},\"tournaments\":{\"label\":\"Tournaments\",\"enter\":\"Enter Tournament\",\"readyCompetitions\":\"Upcoming Tournaments\",\"activeCompetitions\":\"Active Tournaments\",\"finishedCompetitions\":\"Finished Tournaments\",\"finishing\":\"Finishing\",\"finished\":\"Finished\",\"registered\":\"Registered\",\"noAvailableCompetitions\":\"No available competition\"},\"leaderboard\":{\"rank\":\"Rank\",\"name\":\"Name\",\"points\":\"Points\",\"prize\":\"Prize\",\"you\":\"You\"},\"miniLeaderboard\":{\"highScore\":\"High Score\",\"lastScore\":\"Last Score\",\"rank\":\"Rank\",\"startsIn\":\"Starting In\",\"starting\":\"starting\",\"finishing\":\"finishing\",\"finished\":\"finished\"},\"rewards\":{\"label\":\"Rewards\",\"claim\":\"Claim Now\",\"claimed\":\"Claimed\",\"availableRewards\":\"Available Rewards\",\"rewards\":\"Claimed Rewards\",\"expiredRewards\":\"Expired Rewards\"},\"messages\":{\"label\":\"Messages\"},\"global\":{\"copy\":\"Powered By CompetitionLabs\"}}");

/***/ }),

/***/ "./src/javascript/leaderboard.v3-selfinit.js":
/*!***************************************************!*\
  !*** ./src/javascript/leaderboard.v3-selfinit.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills */ "./src/javascript/polyfills/index.js");
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_polyfills__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _polyfills_cssVars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./polyfills/cssVars */ "./src/javascript/polyfills/cssVars.js");
/* harmony import */ var _modules_setTimeoutGlobal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/setTimeoutGlobal */ "./src/javascript/modules/setTimeoutGlobal.js");
/* harmony import */ var _modules_setTimeoutGlobal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_setTimeoutGlobal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _modules_LbWidget__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/LbWidget */ "./src/javascript/modules/LbWidget.js");
/*
 COMPETITION LABS LTD v1.0.5
 (c) 2015-2020 Aleksandr Bernotas
 License: www.competitionlabs.com/terms-of-service
*/





(function () {
  if (typeof window._clLeaderBoardV3SelfInit === 'undefined') {
    window._clLeaderBoardV3SelfInit = _modules_LbWidget__WEBPACK_IMPORTED_MODULE_3__["LbWidget"];
  } else {
    console.warn('window._clLeaderBoardV3SelfInit is already defined');
  }
})();

/***/ }),

/***/ "./src/javascript/modules/Ajax.js":
/*!****************************************!*\
  !*** ./src/javascript/modules/Ajax.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _utils_sizeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/sizeof */ "./src/javascript/utils/sizeof.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



/**
 * Ajax method
 *
 * @class Ajax
 * @constructor
 */

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax = function () {
  this.xhr = new XMLHttpRequest();
};

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.createCORSRequest = function (method, url) {
  var obj = this;

  if ('withCredentials' in obj.xhr) {
    // Most browsers.
    obj.xhr.open(method, url, true);
  } else if (typeof XDomainRequest !== 'undefined') {
    // IE8 & IE9

    /* eslint no-undef: "off" */
    obj.xhr = new XDomainRequest();
    url = url.indexOf('https') > -1 && location.protocol !== 'https:' ? url.replace('https', 'http') : url;
    obj.xhr.open(method, url);
  } else {
    // CORS not supported.
    obj.xhr = null;
  }

  return obj.xhr;
};

_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.abort = function () {
  var _this = this;

  if (_this.xhr && typeof _this.xhr.readyState !== 'undefined' && _this.xhr.readyState !== 4 && _this.xhr.readyState > 0) {
    // console.error("aborting Ajax", _this.xhr.readyState, _this.xhr);
    _this.xhr.abort();
  }

  return _this;
};
/**
 * Retrieves data from a URL without page refresh
 *
 * @method getData
 * @param {Object} configuration object
 *  - object contains: HTTP method "type: POST, GET", url: to send the request to, data: {object}
 * @return {String} in success object
 */


_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax.prototype.getData = function (data) {
  var obj = this;

  try {
    data.type = data.type !== undefined && typeof data.type === 'string' && data.type.length > 0 ? data.type : 'POST';
    data.data = data.data !== undefined && _typeof(data.data) === 'object' ? data.data : {};
    data.url = data.url !== undefined && typeof data.url === 'string' && data.url.length > 0 ? data.url : '';
    data.success = data.success !== undefined ? data.success : function () {};
    data.error = data.error !== undefined ? data.error : function () {};
    data.headers = data.headers !== undefined ? data.headers : {};
    data.extraCallback = data.extraCallback !== undefined ? data.extraCallback : function () {}; // cross browser CORS support

    obj.xhr = this.createCORSRequest(data.type, data.url);

    obj.xhr.onload = function () {
      data.extraCallback(data, obj.xhr);
      data.success(obj.xhr.responseText, data, obj.xhr);
    };

    obj.xhr.onerror = function () {
      data.error(obj.xhr.status);
    };

    if (typeof XDomainRequest === 'undefined') {
      if (Object(_utils_sizeof__WEBPACK_IMPORTED_MODULE_1__["default"])(data.headers) > 0) {
        var item;

        for (item in data.headers) {
          obj.xhr.setRequestHeader(item, data.headers[item]);
        }
      } else if ((data.type === 'POST' || data.type === 'PUT') && Object(_utils_sizeof__WEBPACK_IMPORTED_MODULE_1__["default"])(data.headers) === 0) {
        obj.xhr.setRequestHeader('Content-Type', 'application/json');
      } else {
        obj.xhr.setRequestHeader('Content-Type', 'text/plain');
      }
    }

    obj.xhr.send(JSON.stringify(data.data));
    return obj.xhr;
  } catch (err) {
    console.log(err);
  }
};

/***/ }),

/***/ "./src/javascript/modules/LbWidget.js":
/*!********************************************!*\
  !*** ./src/javascript/modules/LbWidget.js ***!
  \********************************************/
/*! exports provided: LbWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LbWidget", function() { return LbWidget; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var identicon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! identicon.js */ "./node_modules/identicon.js/identicon.js");
/* harmony import */ var identicon_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(identicon_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jssha__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jssha */ "./node_modules/jssha/dist/sha.mjs");
/* harmony import */ var _utils_mergeObjects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/mergeObjects */ "./src/javascript/utils/mergeObjects.js");
/* harmony import */ var _utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/formatNumberLeadingZeros */ "./src/javascript/utils/formatNumberLeadingZeros.js");
/* harmony import */ var _utils_stringContains__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/stringContains */ "./src/javascript/utils/stringContains.js");
/* harmony import */ var _utils_objectIterator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_closest__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/closest */ "./src/javascript/utils/closest.js");
/* harmony import */ var _utils_isMobileTablet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/isMobileTablet */ "./src/javascript/utils/isMobileTablet.js");
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _Ajax__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Ajax */ "./src/javascript/modules/Ajax.js");
/* harmony import */ var _Notifications__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Notifications */ "./src/javascript/modules/Notifications.js");
/* harmony import */ var _MiniScoreBoard__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./MiniScoreBoard */ "./src/javascript/modules/MiniScoreBoard.js");
/* harmony import */ var _MainWidget__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./MainWidget */ "./src/javascript/modules/MainWidget.js");



















var translation = __webpack_require__("./src/i18n sync recursive ^\\.\\/translation_.*\\.json$")("./translation_".concat(process.env.LANG, ".json"));
/**
 * Main leaderboard widget, controls all actions and initiation logic.
 * Main responsibility is to control the interactions between different widgets/plugins and user even actions
 * @param options {Object} setting parameters used to overwrite the default settings
 * @constructor
 */


var LbWidget = function LbWidget(options) {
  this.settings = {
    debug: true,
    bindContainer: document.body,
    autoStart: true,
    sseMessaging: null,
    notifications: null,
    miniScoreBoard: null,
    enableNotifications: true,
    mainWidget: null,
    globalAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax(),
    checkAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax(),
    language: process.env.LANG,
    currency: '',
    spaceName: '',
    memberId: '',
    groups: '',
    gameId: '',
    enforceGameLookup: false,
    // tournament lookup will include/exclude game only requests
    apiKey: '',
    member: null,
    competition: {
      activeCompetitionId: null,
      activeContestId: null,
      activeCompetition: null,
      activeContest: null,
      refreshInterval: null,
      refreshIntervalMillis: 10000,
      extractImageHeader: true // will extract the first found image inside the body tag and move it on top

    },
    achievements: {
      list: [],
      availableRewards: [],
      rewards: [],
      expiredRewards: [],
      extractImageHeader: true // will extract the first found image inside the body tag and move it on top

    },
    rewards: {
      availableRewards: [],
      rewards: [],
      expiredRewards: [],
      rewardFormatter: function rewardFormatter(reward) {
        var defaultRewardValue = reward.value;

        if (typeof reward.unitOfMeasure !== 'undefined' && typeof reward.unitOfMeasure.symbol !== 'undefined' && reward.unitOfMeasure.symbol !== null) {
          defaultRewardValue = reward.unitOfMeasure.symbol + reward.value;
        }

        return defaultRewardValue;
      }
    },
    messages: {
      enable: true,
      messages: []
    },
    tournaments: {
      activeCompetitionId: null,
      readyCompetitions: [],
      // statusCode 3
      activeCompetitions: [],
      // statusCode 5
      finishedCompetitions: [] // statusCode 7

    },
    leaderboard: {
      fullLeaderboardSize: 100,
      refreshIntervalMillis: 3000,
      refreshInterval: null,
      refreshLbDataInterval: null,
      leaderboardData: [],
      loadLeaderboardHistory: {}
    },
    uri: {
      gatewayDomain: _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].api.url,
      members: '/api/v1/:space/members/reference/:id',
      assets: '/assets/attachments/:attachmentId',
      memberSSE: '/api/v1/:space/sse/reference/:id',
      memberSSEHeartbeat: '/api/v1/:space/sse/reference/:id/heartbeat',
      competitions: '/api/v1/:space/competitions',
      competitionById: '/api/v1/:space/competitions/:id',
      contestLeaderboard: '/api/v1/:space/contests/:id/leaderboard',
      achievement: '/api/v1/:space/achievements/:id',
      achievements: '/api/v1/:space/achievements/members/reference/:id',
      // achievements: "/api/v1/:space/achievements",
      achievementsProgression: '/api/v1/:space/members/reference/:id/achievements',
      achievementsIssued: '/api/v1/:space/members/reference/:id/achievements/issued',
      messages: '/api/v1/:space/members/reference/:id/messages',
      messageById: '/api/v1/:space/members/reference/:id/messages/:messageId',
      memberReward: '/api/v1/:space/members/reference/:id/award/:awardId',
      memberRewardClaim: '/api/v1/:space/members/reference/:id/award/:awardId/award',
      memberCompetitions: '/api/v1/:space/members/reference/:id/competitions',
      memberCompetitionById: '/api/v1/:space/members/reference/:id/competition/:competitionId',
      memberCompetitionOptIn: '/api/v1/:space/members/reference/:id/competition/:competitionId/optin',
      memberCompetitionOptInCheck: '/api/v1/:space/members/reference/:id/competition/:competitionId/optin-check',
      translationPath: '' // ../i18n/translation_:language.json

    },
    loadTranslations: true,
    translation: translation,
    resources: [_cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].api.url + '/assets/widgets/leaderboard_v3/css/style.css?t=' + new Date().getTime(), _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].api.url + '/assets/widgets/leaderboard_v3/css/fonts.css?t=' + new Date().getTime()],
    layoutBuildCallback: function layoutBuildCallback(layout, instance) {}
  };

  if (typeof options !== 'undefined') {
    this.settings = Object(_utils_mergeObjects__WEBPACK_IMPORTED_MODULE_3__["default"])(this.settings, options);
  }

  this.log = function (message) {
    if (this.settings.debug) {
      console.error(message);
    }
  };
  /**
   * Format duration of Date Time from moment() object
   * @param duration {moment}
   * @returns {string}
   */


  this.formatDateTime = function (duration) {
    var _this = this;

    var largeResult = [];
    var result = [];
    if (duration.days()) largeResult.push(duration.days() + '<span class="time-ind">' + _this.settings.translation.time.days + '</span>');

    if (duration.hours() || duration.days() > 0) {
      result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(duration.hours(), 2) + '<span class="time-ind">' + _this.settings.translation.time.hours + '</span>');
    } else result.push('00<span class="time-ind">' + _this.settings.translation.time.hours + '</span>');

    if (duration.minutes() || duration.hours() > 0 || duration.days() > 0) {
      result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(duration.minutes(), 2) + (duration.days() > 0 ? '<span class="time-ind">' + _this.settings.translation.time.minutes + '</span>' : '<span class="time-ind">' + _this.settings.translation.time.minutesShortHand + '</span>'));
    } else result.push('00' + (duration.days() > 0 ? '<span class="time-ind">' + _this.settings.translation.time.minutes + '</span>' : '<span class="time-ind">' + _this.settings.translation.time.minutesShortHand + '</span>')); // if (duration.seconds() && duration.days() === 0){ result.push( formatNumberLeadingZeros(duration.seconds(), 2) + '<span class="time-ind">s</span>' ) }else if(duration.days() === 0){result.push( '00<span class="time-ind">s</span>' )};


    result.push(Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(duration.seconds(), 2) + '<span class="time-ind">' + _this.settings.translation.time.seconds + '</span>');
    return largeResult.length > 0 ? largeResult.join(' ') + ' ' + result.join(':') : result.join(':');
  };

  this.populateIdenticonBase64Image = function (str) {
    if (str.length > 0) {
      /* eslint new-cap: "off" */
      var shaObj = new jssha__WEBPACK_IMPORTED_MODULE_2__["default"]('SHA-512', 'TEXT');
      shaObj.update(str);
      var hash = shaObj.getHash('HEX', 1);
      var data = new identicon_js__WEBPACK_IMPORTED_MODULE_1___default.a(hash, {
        background: [255, 255, 255, 255],
        // rgba white
        margin: 0.1,
        // 20% margin
        size: 22,
        // 420px square
        format: 'svg' // use SVG instead of PNG

      }).toString();
      var icon = 'data:image/svg+xml;base64,' + data;
      return icon;
    } else {
      return '';
    }
  };
  /**
   * get a list of available competition filtered by provided global criteria
   * @param callback {Function}
   */


  var competitionCheckAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableCompetitions = function (callback, ajaxInstance) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitions.replace(':space', _this.settings.spaceName) : _this.settings.uri.memberCompetitions.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);
    var filters = ['statusCode>==3', 'statusCode<==5', '_sortByFields=options.scheduledDates.end:desc', '_lang=' + _this.settings.language];
    var ajaxInstanceToUse = typeof ajaxInstance !== 'undefined' && ajaxInstance !== null ? ajaxInstance : competitionCheckAjax;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey' + _this.settings.currency);
    }

    if (_this.settings.gameId.length > 0 && _this.settings.enforceGameLookup) {
      filters.push('options.products.productRefId=' + _this.settings.gameId);
    }

    if (_this.settings.groups.length > 0 && _this.settings.memberId.length === 0) {
      filters.push('options.limitEntrantsTo=' + _this.settings.groups);
    }

    ajaxInstanceToUse.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.tournaments.readyCompetitions = [];
          _this.settings.tournaments.activeCompetitions = [];
          window.mapObject(json.data, function (comp) {
            if (comp.statusCode === 3) {
              _this.settings.tournaments.readyCompetitions.push(comp);
            } else if (comp.statusCode === 5) {
              _this.settings.tournaments.activeCompetitions.push(comp);
            }
          });

          _this.checkForFinishedCompetitions(callback, ajaxInstance);
        } else {
          _this.log('failed to checkForActiveCompetitions ' + response);
        }
      }
    });
  };
  /**
   * get a list of finished competition filtered by provided global criteria
   * @param callback {Function}
   */


  var competitionFinishedCheckAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForFinishedCompetitions = function (callback, ajaxInstance) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitions.replace(':space', _this.settings.spaceName) : _this.settings.uri.memberCompetitions.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);
    var filters = ['statusCode=7', '_limit=10', '_sortByFields=options.scheduledDates.end:desc', '_lang=' + _this.settings.language];
    var ajaxInstanceToUse = typeof ajaxInstance !== 'undefined' && ajaxInstance !== null ? ajaxInstance : competitionFinishedCheckAjax;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey' + _this.settings.currency);
    }

    if (_this.settings.gameId.length > 0 && _this.settings.enforceGameLookup) {
      filters.push('options.products.productRefId=' + _this.settings.gameId);
    }

    if (_this.settings.groups.length > 0 && _this.settings.memberId.length === 0) {
      filters.push('options.limitEntrantsTo=' + _this.settings.groups);
    }

    ajaxInstanceToUse.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.tournaments.finishedCompetitions = [];
          window.mapObject(json.data, function (comp) {
            if (comp.statusCode === 7) {
              _this.settings.tournaments.finishedCompetitions.push(comp);
            }
          });

          if (typeof callback === 'function') {
            callback();
          }
        } else {
          _this.log('failed to checkForActiveCompetitions ' + response);
        }
      }
    });
  };

  this.prepareActiveCompetition = function (callback) {
    var _this = this;

    var activeCompetition = null;
    var activeCompetitionId = null;

    if (_this.settings.tournaments.activeCompetitionId !== null) {
      window.mapObject(_this.settings.tournaments.activeCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });
      window.mapObject(_this.settings.tournaments.readyCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });
      window.mapObject(_this.settings.tournaments.finishedCompetitions, function (comp) {
        if (comp.id === _this.settings.tournaments.activeCompetitionId) {
          activeCompetition = comp;
        }
      });

      if (activeCompetition !== null) {
        activeCompetitionId = _this.settings.tournaments.activeCompetitionId;
      } else {
        _this.settings.tournaments.activeCompetitionId = null;
      }
    }

    if (activeCompetition === null && _this.settings.tournaments.activeCompetitions.length > 0) {
      activeCompetition = _this.settings.tournaments.activeCompetitions[0];
      activeCompetitionId = activeCompetition.id;
    } else if (activeCompetition === null && _this.settings.tournaments.readyCompetitions.length > 0) {
      activeCompetition = _this.settings.tournaments.readyCompetitions[0];
      activeCompetitionId = activeCompetition.id;
    }

    if (activeCompetitionId === null) {
      // no active or ready competitions found
      _this.deactivateCompetitionsAndLeaderboards();
    } else {
      if (_this.settings.competition.activeCompetitionId !== activeCompetitionId && activeCompetitionId !== null) {
        _this.settings.competition.activeCompetition = activeCompetition;
        _this.settings.competition.activeCompetitionId = activeCompetitionId;
      }

      if (activeCompetitionId !== null) {
        _this.loadActiveCompetition(function (json) {
          _this.setActiveCompetition(json, callback);
        });
      } else if (typeof callback === 'function') {
        callback();
      }
    }
  };

  this.loadActiveCompetition = function (callback) {
    var _this = this;

    var url = _this.settings.memberId.length === 0 ? _this.settings.uri.competitionById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.competition.activeCompetitionId) : _this.settings.uri.memberCompetitionById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':competitionId', _this.settings.competition.activeCompetitionId);
    var filters = ['_include=strategy', '_lang=' + _this.settings.language];

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey' + _this.settings.currency);
    }

    _this.settings.globalAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);

          if (typeof callback === 'function') {
            callback(json);
          }
        } else {
          _this.log('failed to loadActiveCompetition ' + response);
        }
      }
    });
  };

  this.setActiveCompetition = function (json, callback) {
    var _this = this;

    _this.settings.competition.activeCompetition = json.data;
    _this.settings.competition.activeContest = null;
    _this.settings.competition.activeContestId = null;

    if (typeof json.data.contests !== 'undefined' && json.data.contests.length > 0) {
      window.mapObject(json.data.contests, function (contest) {
        if (contest.statusCode < 7 && _this.settings.competition.activeContest === null) {
          _this.settings.competition.activeContest = contest;
          _this.settings.competition.activeContestId = contest.id;

          if (typeof _this.settings.competition.activeContest.rewards === 'undefined') {
            _this.settings.competition.activeContest.rewards = [];
          }

          var rewards = [];
          window.mapObject(_this.settings.competition.activeContest.rewards, function (reward) {
            if (typeof reward.rewardRank === 'string') {
              var rankParts = reward.rewardRank.split(',');
              var rewardRank = [];
              window.mapObject(rankParts, function (part) {
                if (Object(_utils_stringContains__WEBPACK_IMPORTED_MODULE_5__["default"])(part, '-')) {
                  var rankRange = part.split('-');
                  var rageStart = parseInt(rankRange[0]);
                  var rangeEnd = parseInt(rankRange[1]);

                  for (var i = rageStart; i <= rangeEnd; i++) {
                    rewardRank.push(i);
                  }
                } else {
                  rewardRank.push(parseInt(part));
                }
              });
              reward.rewardRank = rewardRank;
            }

            rewards.push(reward);
          });
          _this.settings.competition.activeContest.rewards = rewards;
        }
      });
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.getLeaderboardData = function (count, callback) {
    if (this.settings.competition.activeContestId !== null) {
      var _this = this;

      var url = _this.settings.uri.contestLeaderboard.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.competition.activeContestId);

      var filters = ['_limit=' + count, 'rankings=2'];

      if (typeof _this.settings.memberId === 'string' && _this.settings.memberId.length > 0) {
        filters.push('memberId=' + _this.settings.memberId);
      }

      _this.settings.globalAjax.abort().getData({
        type: 'GET',
        url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
        headers: {
          'X-API-KEY': _this.settings.apiKey
        },
        success: function success(response, dataObj, xhr) {
          if (xhr.status === 200) {
            var json = JSON.parse(response); // if(
            //   typeof _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] === "undefined"
            //   ||
            //   (
            //     typeof _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] !== "undefined"
            //     &&
            //     _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] !== data
            //   )
            // ) {
            //   _this.settings.loadLeaderboardHistory[_this.settings.competition.activeContestId] = {
            //     changed: true,
            //     data: JSON.stringify(json.data)
            //   };
            // }

            _this.settings.leaderboard.leaderboardData = json.data;
            callback(json.data);
          } else {
            _this.log('failed to getLeaderboardData ' + response);
          }
        }
      });
    } else {
      callback();
    }
  };

  var checkAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableAchievements = function (callback) {
    var _this = this;

    var url = _this.settings.uri.achievements.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    var filters = ['_limit=100', '_include=rewards', '_lang=' + _this.settings.language];
    var withGroups = false;

    if (typeof _this.settings.currency === 'string' && _this.settings.currency.length > 0) {
      filters.push('_uomKey' + _this.settings.currency);
    }

    if (typeof _this.settings.member.groups !== 'undefined' && _this.settings.member.groups.length > 0) {
      withGroups = true;
      filters.push('memberGroups=' + _this.settings.member.groups.join(','));
    }

    checkAchievementsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_lang=' + _this.settings.language + '&_uomKey' + _this.settings.currency,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.achievements.list = [];
          window.mapObject(jsonForAll.data, function (ach) {
            _this.settings.achievements.list.push(ach);
          });

          if (withGroups) {
            checkAchievementsAjax.abort().getData({
              type: 'GET',
              url: _this.settings.uri.gatewayDomain + url + '?' + filters.join('&'),
              headers: {
                'X-API-KEY': _this.settings.apiKey
              },
              success: function success(response, dataObj, xhr) {
                if (xhr.status === 200) {
                  var json = JSON.parse(response);
                  window.mapObject(json.data, function (ach) {
                    _this.settings.achievements.list.push(ach);
                  });
                  if (typeof callback === 'function') callback(_this.settings.achievements.list);
                } else {
                  _this.log('failed to checkForAvailableAchievements ' + response);
                }
              }
            });
          } else {
            if (typeof callback === 'function') callback(jsonForAll.data);
          }
        } else {
          _this.log('failed to checkForAvailableAchievements ' + response);
        }
      }
    });
  };

  var getAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.getAchievement = function (achievementId, callback) {
    var _this = this;

    getAchievementsAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.achievement.replace(':space', _this.settings.spaceName).replace(':id', achievementId) + '?_lang=' + _this.settings.language + '&_uomKey' + _this.settings.currency,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var getRewardAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.getReward = function (rewardId, callback) {
    var _this = this;

    getRewardAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.memberReward.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':awardId', rewardId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var getMessageAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.getMessage = function (messageId, callback) {
    var _this = this;

    getMessageAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.messageById.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':messageId', messageId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'GET',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var claimRewardAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.claimReward = function (rewardId, callback) {
    var _this = this;

    claimRewardAjax.abort().getData({
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.memberRewardClaim.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':awardId', rewardId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      type: 'POST',
      success: function success(response, dataObj, xhr) {
        var json = null;

        if (xhr.status === 200) {
          try {
            json = JSON.parse(response);
          } catch (e) {}
        }

        if (typeof callback === 'function') {
          callback(json);
        }
      },
      error: function error() {
        if (typeof callback === 'function') {
          callback(null);
        }
      }
    });
  };

  var checkForMemberAchievementsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForMemberAchievementsIssued = function (callback) {
    var _this = this;

    var url = _this.settings.uri.achievementsIssued.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    checkForMemberAchievementsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          var idList = [];

          if (typeof json.aggregations !== 'undefined' && json.aggregations.length > 0) {
            window.mapObject(json.aggregations[0].items, function (item) {
              idList.push(item.value);
            });
          }

          if (typeof callback === 'function') callback(idList);
        } else {
          _this.log('failed to checkForMemberAchievementsIssued ' + response);
        }
      }
    });
  };

  var checkForMemberAchievementsProgressionAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForMemberAchievementsProgression = function (idList, callback) {
    var _this = this;

    var url = _this.settings.uri.achievementsProgression.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    checkForMemberAchievementsProgressionAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + (idList.length > 0 ? '?id=' + idList.join(',') : ''),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          if (typeof callback === 'function') callback(json.data);
        } else {
          _this.log('failed to checkForMemberAchievementsProgression ' + response);
        }
      }
    });
  };

  var checkForAvailableRewardsAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableRewards = function (callback) {
    var _this = this;

    var url = _this.settings.uri.messages.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId); // claimed rewards


    checkForAvailableRewardsAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&messageType=Reward&prize.claimed=true&_hasValuesFor=prize&_limit=100',
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.rewards.rewards = [];
          _this.settings.rewards.availableRewards = [];
          _this.settings.rewards.expiredRewards = [];
          window.mapObject(jsonForAll.data, function (message) {
            var expired = typeof message.expiry === 'undefined' ? false : moment__WEBPACK_IMPORTED_MODULE_0___default()(message.expiry).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()()) < 0;

            if (!expired) {
              _this.settings.rewards.rewards.push(message);
            }
          }); // not-claimed rewards

          checkForAvailableRewardsAjax.abort().getData({
            type: 'GET',
            url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&messageType=Reward&prize.claimed=false&_hasValuesFor=prize&_limit=100',
            headers: {
              'X-API-KEY': _this.settings.apiKey
            },
            success: function success(response, dataObj, xhr) {
              if (xhr.status === 200) {
                var jsonForAll = JSON.parse(response);
                window.mapObject(jsonForAll.data, function (message) {
                  var expired = typeof message.expiry === 'undefined' ? false : moment__WEBPACK_IMPORTED_MODULE_0___default()(message.expiry).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()()) < 0;

                  if (!expired) {
                    _this.settings.rewards.availableRewards.push(message);
                  }
                }); // expired rewards

                var date = new Date();
                var utcDate = date.getUTCFullYear() + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCMonth() + 1, 2) + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCDate(), 2) + 'T' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCHours(), 2) + ':' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getUTCMinutes(), 2) + ':00';

                _this.settings.globalAjax.abort().getData({
                  type: 'GET',
                  url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&_limit=100&messageType=Reward&_hasValuesFor=expiry&expiry<==' + utcDate,
                  headers: {
                    'X-API-KEY': _this.settings.apiKey
                  },
                  success: function success(response, dataObj, xhr) {
                    if (xhr.status === 200) {
                      var jsonForAll = JSON.parse(response);
                      window.mapObject(jsonForAll.data, function (message) {
                        _this.settings.rewards.expiredRewards.push(message);
                      });
                      if (typeof callback === 'function') callback(_this.settings.rewards.rewards, _this.settings.rewards.availableRewards, _this.settings.rewards.expiredRewards);
                    } else {
                      _this.log('failed to checkForAvailableRewards expired ' + response);
                    }
                  }
                });
              } else {
                _this.log('failed to checkForAvailableRewards not-claimed ' + response);
              }
            }
          });
        } else {
          _this.log('failed to checkForAvailableRewards claimed ' + response);
        }
      }
    });
  };

  var checkForAvailableMessagesAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.checkForAvailableMessages = function (callback) {
    var _this = this;

    var url = _this.settings.uri.messages.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId);

    var date = new Date();
    date.setDate(date.getMonth() - 1);
    var createdDateFilter = date.getFullYear() + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getMonth() + 1, 2) + '-' + Object(_utils_formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_4__["default"])(date.getDate(), 2);
    checkForAvailableMessagesAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url + '?_sortByFields=created:desc&_hasNoValuesFor=prize&_limit=100&created>==' + createdDateFilter,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var jsonForAll = JSON.parse(response);
          _this.settings.messages.messages = [];
          window.mapObject(jsonForAll.data, function (message) {
            _this.settings.messages.messages.push(message);
          });
          if (typeof callback === 'function') callback(_this.settings.messages.messages);
        } else {
          _this.log('failed to checkForAvailableMessages ' + response);
        }
      }
    });
  };

  var optInMemberAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.optInMemberToActiveCompetition = function (callback) {
    var _this = this;

    var url = _this.settings.uri.memberCompetitionOptIn.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId).replace(':competitionId', _this.settings.competition.activeCompetitionId);

    optInMemberAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + url,
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          callback();
        } else {
          _this.log('failed to optInMemberToActiveCompetition ' + response);
        }
      }
    });
  };

  var revalidationCount = 0;

  this.revalidateIfSuccessfullOptIn = function (callback) {
    var _this = this;

    _this.loadActiveCompetition(function (competitionJson) {
      if (typeof competitionJson.data.optin === 'boolean' && !competitionJson.data.optin) {
        revalidationCount++;

        if (revalidationCount < 5) {
          setTimeout(function () {
            _this.revalidateIfSuccessfullOptIn(callback);
          }, 100);
        } else {
          revalidationCount = 0;
        }
      } else if (typeof competitionJson.data.optin === 'boolean' && competitionJson.data.optin) {
        callback(competitionJson);
      }
    });
  };

  this.leaderboardDataRefresh = function () {
    var _this = this;

    if (_this.settings.leaderboard.refreshLbDataInterval) {
      clearTimeout(_this.settings.leaderboard.refreshLbDataInterval);
    }

    if (_this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optinRequired === 'boolean' && !_this.settings.competition.activeCompetition.optinRequired || typeof _this.settings.competition.activeCompetition.optin === 'boolean' && _this.settings.competition.activeCompetition.optin) {
      var count = _this.settings.miniScoreBoard.settings.active ? 0 : _this.settings.leaderboard.fullLeaderboardSize;

      _this.getLeaderboardData(count, function (data) {
        if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();
        if (_this.settings.mainWidget.settings.active) _this.settings.mainWidget.loadLeaderboard();
      });
    }

    _this.settings.leaderboard.refreshLbDataInterval = setTimeout(function () {
      _this.leaderboardDataRefresh();
    }, _this.settings.leaderboard.refreshIntervalMillis);
  };

  this.activeCompetitionDataRefresh = function (callback) {
    var _this = this;

    if (_this.settings.competition.refreshInterval) {
      clearTimeout(_this.settings.competition.refreshInterval);
    }

    _this.checkForAvailableCompetitions(function () {
      _this.prepareActiveCompetition(function () {
        var count = _this.settings.miniScoreBoard.settings.active ? 0 : _this.settings.leaderboard.fullLeaderboardSize; // clear to not clash with LB refresh that could happen at same time

        if (_this.settings.leaderboard.refreshInterval) {
          clearTimeout(_this.settings.leaderboard.refreshInterval);
        }

        if (_this.settings.miniScoreBoard.settings.active || _this.settings.mainWidget.settings.active) {
          if (_this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optinRequired === 'boolean' && !_this.settings.competition.activeCompetition.optinRequired || _this.settings.competition.activeCompetition !== null && typeof _this.settings.competition.activeCompetition.optin === 'boolean' && _this.settings.competition.activeCompetition.optin) {
            _this.getLeaderboardData(count, function (data) {
              if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();
              if (_this.settings.mainWidget.settings.active) _this.settings.mainWidget.loadLeaderboard(); // re-start leaderboard refresh

              _this.leaderboardDataRefresh();

              if (typeof callback === 'function') {
                callback();
              }
            });
          } else {
            if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();

            if (_this.settings.mainWidget.settings.active) {
              _this.getLeaderboardData(count, function (data) {
                _this.settings.mainWidget.loadLeaderboard();
              });
            } // restart leaderboard refresh


            _this.leaderboardDataRefresh();

            if (typeof callback === 'function') {
              callback();
            }
          }
        } else {
          if (_this.settings.miniScoreBoard.settings.active) _this.settings.miniScoreBoard.loadScoreBoard();

          if (typeof callback === 'function') {
            callback();
          }
        }
      });
    });

    _this.settings.competition.refreshInterval = setTimeout(function () {
      _this.activeCompetitionDataRefresh();
    }, _this.settings.competition.refreshIntervalMillis);
  };

  this.deactivateCompetitionsAndLeaderboards = function (callback) {
    var _this = this;

    if (_this.settings.leaderboard.refreshInterval) {
      clearTimeout(_this.settings.leaderboard.refreshInterval);
    }

    _this.settings.miniScoreBoard.clearAll();

    _this.settings.mainWidget.clearAll();

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.stopActivity = function (callback) {
    var _this = this;

    if (_this.settings.leaderboard.refreshInterval) {
      clearTimeout(_this.settings.leaderboard.refreshInterval);
      clearInterval(_this.settings.leaderboard.refreshInterval);
    }

    if (_this.settings.leaderboard.refreshLbDataInterval) {
      clearTimeout(_this.settings.leaderboard.refreshLbDataInterval);
      clearInterval(_this.settings.leaderboard.refreshLbDataInterval);
    }

    if (_this.settings.miniScoreBoard.settings.updateInterval) {
      clearTimeout(_this.settings.miniScoreBoard.settings.updateInterval);
      clearInterval(_this.settings.leaderboard.refreshInterval);
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.restartActivity = function (callback) {
    var _this = this;

    _this.activeCompetitionDataRefresh();

    _this.settings.miniScoreBoard.updateScoreBoard();

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.loadMember = function (callback) {
    var _this = this;

    _this.settings.globalAjax.abort().getData({
      type: 'GET',
      url: _this.settings.uri.gatewayDomain + _this.settings.uri.members.replace(':space', _this.settings.spaceName).replace(':id', _this.settings.memberId),
      headers: {
        'X-API-KEY': _this.settings.apiKey
      },
      success: function success(response, dataObj, xhr) {
        if (xhr.status === 200) {
          var json = JSON.parse(response);
          _this.settings.member = json.data;
          callback(json.data);
        } else {
          _this.log('failed to loadMember ' + response);
        }
      }
    });
  };

  this.loadWidgetTranslations = function (callback) {
    var _this = this;

    if (typeof _this.settings.uri.translationPath === 'string' && _this.settings.uri.translationPath.length > 0 && _this.settings.loadTranslations) {
      _this.settings.globalAjax.abort().getData({
        type: 'GET',
        url: _this.settings.uri.gatewayDomain + _this.settings.uri.translationPath.replace(':language', _this.settings.language),
        headers: {
          'X-API-KEY': _this.settings.apiKey
        },
        success: function success(response, dataObj, xhr) {
          if (xhr.status === 200) {
            var json = JSON.parse(response);
            _this.settings.translation = Object(_utils_mergeObjects__WEBPACK_IMPORTED_MODULE_3__["default"])(_this.settings.translation, json);
            callback();
          } else {
            _this.log('no translation foound ' + response);

            callback();
          }
        }
      });
    } else {
      callback();
    }
  };

  this.startup = function () {
    var _this = this;

    _this.settings.miniScoreBoard.initLayout(function () {
      _this.settings.miniScoreBoard.settings.active = true;

      _this.activeCompetitionDataRefresh();

      if (_this.settings.enableNotifications) {
        _this.settings.notifications.init();
      }

      _this.cleanup();
    });
  };

  var _cleanupInstance;

  this.cleanup = function () {
    var _this = this;

    if (_cleanupInstance) {
      clearTimeout(_cleanupInstance);
    }

    _cleanupInstance = setTimeout(function () {
      _this.settings.mainWidget.preLoaderRerun();

      _this.cleanup();
    }, 3000);
  };

  this.loadStylesheet = function (callback) {
    var _this = this;

    var createdResources = false;
    var availableLinks = [];
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_6__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_7__["default"])('link'), function (link) {
      if (link !== null) {
        availableLinks.push(link.href);
      }
    });
    window.mapObject(_this.settings.resources, function (resource, key, count) {
      var exists = false;
      window.mapObject(availableLinks, function (link) {
        if (link === resource) {
          exists = true;
        }
      });

      if (!exists) {
        var link = document.createElement('link');
        link.setAttribute('rel', 'stylesheet');
        link.setAttribute('type', 'text/css');
        link.setAttribute('href', resource);

        if (count === 0) {
          link.onload = function () {
            if (typeof callback === 'function') {
              callback();
            }
          };

          link.onerror = function (e) {
            if (typeof callback === 'function') {
              callback();
            }
          };
        }

        document.body.appendChild(link);
        createdResources = true;
      }
    });

    if (!createdResources && typeof callback === 'function') {
      callback();
    }
  };

  this.clickedMiniScoreBoard = function () {
    var _this = this;

    if (!_this.settings.miniScoreBoard.settings.dragging) {
      _this.deactivateCompetitionsAndLeaderboards(function () {
        _this.settings.leaderboard.leaderboardData = [];

        _this.settings.mainWidget.initLayout(function () {
          _this.activeCompetitionDataRefresh();
        });

        setTimeout(function () {
          _this.settings.miniScoreBoard.settings.container.style.display = 'none';
        }, 200);
      });
    }
  };
  /**
   * Open main widget and open specific tab and loads relevant action
   * @param tab String
   * @param actionCallback Function
   */


  this.openWithTabAndAction = function (tab, actionCallback) {
    var _this = this;

    if (_this.settings.mainWidget.settings.active) {
      var loadTab = Object(_utils_query__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.mainWidget.settings.container, tab);

      _this.settings.mainWidget.navigationSwitch(loadTab, function () {
        _this.activeCompetitionDataRefresh();

        if (typeof actionCallback === 'function') {
          actionCallback();
        }
      });

      setTimeout(function () {
        _this.settings.miniScoreBoard.settings.container.style.display = 'none';
      }, 200);
    } else {
      _this.deactivateCompetitionsAndLeaderboards(function () {
        _this.settings.mainWidget.initLayout(function () {
          _this.settings.mainWidget.navigationSwitch(Object(_utils_query__WEBPACK_IMPORTED_MODULE_7__["default"])(_this.settings.mainWidget.settings.container, tab), function () {
            _this.activeCompetitionDataRefresh();

            if (typeof actionCallback === 'function') {
              actionCallback();
            }
          });
        });

        setTimeout(function () {
          _this.settings.miniScoreBoard.settings.container.style.display = 'none';
        }, 200);
      });
    }
  };

  var loadCompetitionListAjax = new _cLabs__WEBPACK_IMPORTED_MODULE_13__["default"].Ajax();

  this.eventHandlers = function (el) {
    var _this = this; // mini scoreboard opt-in action


    if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data; // _this.getLeaderboardData(1, function( data ){
          //  _this.settings.miniScoreBoard.loadScoreBoard( data );
          // });
          // extra action to load competition details on mini scoreboard opt-in - Product request

          _this.deactivateCompetitionsAndLeaderboards(function () {
            _this.settings.leaderboard.leaderboardData = [];

            _this.settings.mainWidget.initLayout(function () {
              _this.activeCompetitionDataRefresh();

              _this.settings.mainWidget.loadCompetitionDetails(function () {});
            });

            setTimeout(function () {
              _this.settings.miniScoreBoard.settings.container.style.display = 'none';
            }, 200);
          });

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking');
        });
      }); // Leaderboard details opt-in action

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-details-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data;

          _this.settings.mainWidget.competitionDetailsOptInButtonState();

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking');
        });
      }); // Leaderboard details opt-in action

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-optin-action') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'checking');

      _this.optInMemberToActiveCompetition(function () {
        _this.revalidateIfSuccessfullOptIn(function (competitionJson) {
          _this.settings.competition.activeCompetition = competitionJson.data;

          _this.settings.mainWidget.loadCompetitionDetails(function () {});

          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'checking');
          el.parentNode.style.display = 'none';
        });
      }); // close mini scoreboard info area

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-information-close') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      _this.settings.miniScoreBoard.clearAll(); // close notification window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-notif-information-close') && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'checking')) {
      _this.settings.notifications.hideNotification(); // close leaderboard window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-ach-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-reward-header-close') || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-inbox-header-close')) {
      _this.settings.mainWidget.hide(function () {
        _this.settings.miniScoreBoard.settings.active = true;
        _this.settings.miniScoreBoard.settings.container.style.display = 'block';

        _this.activeCompetitionDataRefresh();
      }); // load competition details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-details-content-label')) {
      if (_this.settings.competition.activeContest !== null) {
        _this.settings.mainWidget.loadCompetitionDetails(function () {});
      } // load achievement details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-ach-list-more')) {
      _this.getAchievement(el.dataset.id, function (data) {
        _this.settings.mainWidget.loadAchievementDetails(data, function () {});
      }); // leaderboard details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-details-back-btn')) {
      _this.settings.mainWidget.hideCompetitionDetails(); // achievements details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-ach-details-back-btn')) {
      _this.settings.mainWidget.hideAchievementDetails(function () {}); // rewards details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-reward-details-back-btn')) {
      _this.settings.mainWidget.hideRewardDetails(function () {}); // messages details back button

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-inbox-details-back-btn')) {
      _this.settings.mainWidget.hideMessageDetails(function () {}); // load rewards details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-rew-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-rew-list-item') !== null) {
      var rewardId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-rew-list-item') ? el.dataset.rewardId : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-rew-list-item').dataset.rewardId;

      _this.getReward(rewardId, function (data) {
        _this.settings.mainWidget.loadRewardDetails(data, function () {});
      }); // load inbox details

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-inbox-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-inbox-list-item') !== null) {
      var messageId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-inbox-list-item') ? el.dataset.rewardId : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-inbox-list-item').dataset.id;

      _this.getMessage(messageId, function (data) {
        _this.settings.mainWidget.loadMessageDetails(data, function () {});
      }); // claim reward

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-reward-claim-btn')) {
      _this.claimReward(el.dataset.id, function (data) {
        if (data.data.claimed) {
          _this.settings.mainWidget.loadRewards();

          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_9__["default"])(el, 'cl-claimed');
          el.innerHTML = _this.settings.translation.rewards.claimed;
        } else {
          Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_10__["default"])(el, 'cl-claimed');
          el.innerHTML = _this.settings.translation.rewards.claim;
        }
      }); // load achievement details window from notification window

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-notif-information-details-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-notif-information-details-wrapper') !== null) {
      _this.openWithTabAndAction('.cl-main-widget-navigation-ach-icon', function () {
        var id = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-notif-information-details-wrapper') ? el.dataset.id : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-notif-information-details-wrapper').dataset.id;

        _this.settings.notifications.hideNotification();

        _this.settings.mainWidget.hideAchievementDetails(function () {
          _this.getAchievement(id, function (data) {
            _this.settings.mainWidget.loadAchievementDetails(data);
          });
        });
      }); // primary widget navigation

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-navigation-item')) {
      _this.settings.mainWidget.navigationSwitch(el); // competition list

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-lb-header-list-icon')) {
      if (_this.settings.leaderboard.refreshInterval) {
        clearTimeout(_this.settings.leaderboard.refreshInterval);
      }

      _this.settings.mainWidget.loadCompetitionList(function () {
        _this.activeCompetitionDataRefresh();
      }, loadCompetitionListAjax); // load competition

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-tour-list-item') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-tour-list-item') !== null) {
      var tournamentId = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-tour-list-item') ? el.dataset.id : Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-tour-list-item').dataset.id;

      var preLoader = _this.settings.mainWidget.preloader();

      preLoader.show(function () {
        _this.settings.mainWidget.settings.active = true;
        _this.settings.tournaments.activeCompetitionId = tournamentId;

        _this.activeCompetitionDataRefresh(function () {
          _this.settings.mainWidget.hideCompetitionList(function () {
            preLoader.hide();
          });
        });
      }); // hide competition list view
    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-main-widget-tournaments-back-btn')) {
      _this.settings.mainWidget.hideCompetitionList(); // mini scoreboard action to open primary widget

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-icon-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-ms-icon-wrapper') !== null || Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-widget-ms-information-wrapper') || Object(_utils_closest__WEBPACK_IMPORTED_MODULE_11__["default"])(el, '.cl-widget-ms-information-wrapper') !== null) {
      _this.clickedMiniScoreBoard(); // accordion navigation

    } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_8__["default"])(el, 'cl-accordion-label')) {
      _this.settings.mainWidget.accordionNavigation(el);
    }
  };

  this.eventListeners = function () {
    var _this = this;

    document.body.addEventListener('keyup', function (event) {
      switch (event.keyCode) {
        case 27:
          // on escape
          if (_this.settings.mainWidget.settings.active) {
            _this.settings.mainWidget.hide(function () {
              _this.settings.miniScoreBoard.settings.active = true;
              _this.settings.miniScoreBoard.settings.container.style.display = 'block';

              _this.activeCompetitionDataRefresh();
            });
          }

          break;
      }
    });

    if (_this.isMobile()) {
      document.body.addEventListener('touchend', function (event) {
        var el = event.target;

        if (!_this.settings.miniScoreBoard.settings.dragging) {
          _this.eventHandlers(el);
        }
      });
    } else {
      document.body.addEventListener('click', function (event) {
        var el = event.target;

        _this.eventHandlers(el);
      });
    }
  };

  this.closeEverything = function () {
    var _this = this;

    _this.deactivateCompetitionsAndLeaderboards(function () {
      _this.settings.leaderboard.leaderboardData = [];

      _this.settings.mainWidget.initLayout(function () {
        _this.activeCompetitionDataRefresh();
      });

      setTimeout(function () {
        _this.settings.miniScoreBoard.settings.container.style.display = 'none';
      }, 200);
    });

    _this.settings.mainWidget.hide();

    _this.settings.mainWidget.settings.preLoader.preLoaderActive = false;
  };

  this.isMobile = function () {
    return Object(_utils_isMobileTablet__WEBPACK_IMPORTED_MODULE_12__["default"])();
  };

  this.init = function () {
    var _this = this;

    _this.loadStylesheet(function () {
      _this.loadMember(function (member) {
        _this.loadWidgetTranslations(function () {
          if (_this.settings.miniScoreBoard === null) {
            _this.settings.notifications = new _Notifications__WEBPACK_IMPORTED_MODULE_15__["Notifications"]();
            _this.settings.miniScoreBoard = new _MiniScoreBoard__WEBPACK_IMPORTED_MODULE_16__["MiniScoreBoard"]({
              active: true
            });
            _this.settings.mainWidget = new _MainWidget__WEBPACK_IMPORTED_MODULE_17__["MainWidget"]();
            _this.settings.notifications.settings.lbWidget = _this;
            _this.settings.miniScoreBoard.settings.lbWidget = _this;
            _this.settings.mainWidget.settings.lbWidget = _this;

            _this.startup();

            _this.eventListeners();
          } else {
            _this.settings.mainWidget.hide(function () {
              _this.deactivateCompetitionsAndLeaderboards(function () {
                _this.settings.miniScoreBoard.settings.active = true;
                _this.settings.miniScoreBoard.settings.container.style.display = 'block';

                _this.startup();
              });
            });
          }
        });
      });
    });
  };

  if (this.settings.autoStart) {
    this.init();
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./src/javascript/modules/MainWidget.js":
/*!**********************************************!*\
  !*** ./src/javascript/modules/MainWidget.js ***!
  \**********************************************/
/*! exports provided: MainWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainWidget", function() { return MainWidget; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_closest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/closest */ "./src/javascript/utils/closest.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_remove__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/remove */ "./src/javascript/utils/remove.js");
/* harmony import */ var _utils_appendNext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/appendNext */ "./src/javascript/utils/appendNext.js");
/* harmony import */ var _utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/stripHtml */ "./src/javascript/utils/stripHtml.js");










var MainWidget = function MainWidget(options) {
  this.settings = {
    lbWidget: null,
    container: null,
    navigation: null,
    section: null,
    detailsContainer: null,
    tournamentListContainer: null,
    headerDate: null,
    preLoader: {
      preLoaderActive: false,
      preLoaderlastAttempt: null,
      preloaderCallbackRecovery: function preloaderCallbackRecovery() {}
    },
    achievement: {
      container: null,
      detailsContainer: null
    },
    reward: {
      container: null,
      detailsContainer: null
    },
    messages: {
      container: null,
      detailsContainer: null
    },
    leaderboard: {
      defaultEmptyList: 20,
      topResultSize: 3,
      header: null,
      container: null,
      list: null,
      topResults: null,
      timerInterval: null
    },
    tournamentsSection: {
      accordionLayout: [{
        label: 'Upcoming Tournaments',
        type: 'readyCompetitions',
        show: false,
        showTopResults: 1
      }, {
        label: 'Active Tournaments',
        type: 'activeCompetitions',
        show: true,
        showTopResults: 1
      }, {
        label: 'Finished Tournaments',
        type: 'finishedCompetitions',
        show: false,
        showTopResults: 1
      }]
    },
    rewardsSection: {
      accordionLayout: [{
        label: 'Available Rewards',
        type: 'availableRewards',
        show: true,
        showTopResults: 1
      }, {
        label: 'Claimed Rewards',
        type: 'rewards',
        show: false,
        showTopResults: 1
      }, {
        label: 'Expired Rewards',
        type: 'expiredRewards',
        show: false,
        showTopResults: 1
      }]
    },
    active: false,
    navigationSwitchLastAtempt: new Date().getTime(),
    navigationSwitchInProgress: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }
  /**
   * Accordion style layout
   * - parameters:
   *      - label: String "Available rewards"
   *      - type: String "available-rewards"
   *      - shown: Boolean true/false
   * @param data Array
   * @param onLayout Function
   */


  this.accordionStyle = function (data, onLayout) {
    var _this = this;

    var accordionWrapper = document.createElement('div');
    accordionWrapper.setAttribute('class', 'cl-main-accordion-container');
    window.mapObject(data, function (entry) {
      var accordionSection = document.createElement('div');
      var accordionLabel = document.createElement('div');
      var topShownEntry = document.createElement('div');
      var accordionListContainer = document.createElement('div');
      var accordionList = document.createElement('div');
      accordionSection.setAttribute('class', 'cl-accordion ' + entry.type + (typeof entry.show === 'boolean' && entry.show ? ' cl-shown' : ''));
      accordionLabel.setAttribute('class', 'cl-accordion-label');
      topShownEntry.setAttribute('class', 'cl-accordion-entry');
      accordionListContainer.setAttribute('class', 'cl-accordion-list-container');
      accordionList.setAttribute('class', 'cl-accordion-list');

      if (typeof _this.settings.lbWidget.settings.translation.rewards[entry.type] !== 'undefined') {
        accordionLabel.innerHTML = _this.settings.lbWidget.settings.translation.rewards[entry.type];
      } else if (typeof _this.settings.lbWidget.settings.translation.tournaments[entry.type] !== 'undefined') {
        accordionLabel.innerHTML = _this.settings.lbWidget.settings.translation.tournaments[entry.type];
      } else {
        accordionLabel.innerHTML = entry.label;
      }

      if (typeof onLayout === 'function') {
        onLayout(accordionSection, accordionList, topShownEntry, entry);
      }

      accordionListContainer.appendChild(accordionList);
      accordionSection.appendChild(accordionLabel);
      accordionSection.appendChild(topShownEntry);
      accordionSection.appendChild(accordionListContainer);
      accordionWrapper.appendChild(accordionSection);
    });
    return accordionWrapper;
  };

  this.accordionNavigation = function (element) {
    // var _this = this;
    var parentEl = element.parentNode;

    if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(parentEl, 'cl-shown')) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(parentEl, 'cl-shown');
    } else {
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_closest__WEBPACK_IMPORTED_MODULE_5__["default"])(parentEl, '.cl-main-accordion-container'), '.cl-shown'), function (obj) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-shown');
      });
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(parentEl, 'cl-shown');
    }
  };

  this.layout = function () {
    var _this = this;

    var wrapper = document.createElement('div');
    var innerWrapper = document.createElement('div');
    var navigationContainer = document.createElement('div');
    var navigationItems = document.createElement('div');
    var navigationItemLB = document.createElement('div');
    var navigationItemLBIcon = document.createElement('div');
    var navigationItemACH = document.createElement('div');
    var navigationItemACHIcon = document.createElement('div');
    var navigationItemRewards = document.createElement('div');
    var navigationItemRewardsIcon = document.createElement('div');
    var navigationItemInbox = document.createElement('div');
    var navigationItemInboxIcon = document.createElement('div');
    var mainSectionContainer = document.createElement('div');
    var preLoaderContainer = document.createElement('div');
    var preLoaderContent = document.createElement('div');
    var preLoaderBar1 = document.createElement('div');
    var preLoaderBar2 = document.createElement('div');
    var preLoaderBar3 = document.createElement('div');

    var sectionLB = _this.leaderboardAreaLayout();

    var sectionACH = _this.achievementsAreaLayout();

    var sectionRewards = _this.rewardsAreaLayout();

    var sectionInbox = _this.inboxAreaLayout();

    wrapper.setAttribute('class', 'cl-main-widget-wrapper');
    innerWrapper.setAttribute('class', 'cl-main-widget-inner-wrapper');
    navigationContainer.setAttribute('class', 'cl-main-widget-navigation-container');
    navigationItems.setAttribute('class', 'cl-main-widget-navigation-items');
    navigationItemLB.setAttribute('class', 'cl-main-widget-navigation-lb cl-active-nav');
    navigationItemLBIcon.setAttribute('class', 'cl-main-widget-navigation-lb-icon cl-main-navigation-item');
    navigationItemACH.setAttribute('class', 'cl-main-widget-navigation-ach');
    navigationItemACHIcon.setAttribute('class', 'cl-main-widget-navigation-ach-icon cl-main-navigation-item');
    navigationItemRewards.setAttribute('class', 'cl-main-widget-navigation-rewards');
    navigationItemRewardsIcon.setAttribute('class', 'cl-main-widget-navigation-rewards-icon cl-main-navigation-item');
    mainSectionContainer.setAttribute('class', 'cl-main-widget-section-container');
    preLoaderContainer.setAttribute('class', 'cl-main-widget-pre-loader');
    preLoaderContent.setAttribute('class', 'cl-main-widget-pre-loader-content');
    preLoaderBar1.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderBar2.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderBar3.setAttribute('class', 'cl-pre-loader-bar');
    preLoaderContent.appendChild(preLoaderBar1);
    preLoaderContent.appendChild(preLoaderBar2);
    preLoaderContent.appendChild(preLoaderBar3);
    preLoaderContainer.appendChild(preLoaderContent);
    navigationItemLB.appendChild(navigationItemLBIcon);
    navigationItems.appendChild(navigationItemLB);
    navigationItemACH.appendChild(navigationItemACHIcon);
    navigationItems.appendChild(navigationItemACH);
    navigationItemRewards.appendChild(navigationItemRewardsIcon);
    navigationItems.appendChild(navigationItemRewards);

    if (_this.settings.lbWidget.settings.messages.enable) {
      navigationItemInbox.setAttribute('class', 'cl-main-widget-navigation-inbox');
      navigationItemInboxIcon.setAttribute('class', 'cl-main-widget-navigation-inbox-icon cl-main-navigation-item');
      navigationItemInbox.appendChild(navigationItemInboxIcon);
      navigationItems.appendChild(navigationItemInbox);
    }

    navigationContainer.appendChild(navigationItems);
    mainSectionContainer.appendChild(sectionLB);
    mainSectionContainer.appendChild(sectionACH);
    mainSectionContainer.appendChild(sectionRewards);
    mainSectionContainer.appendChild(sectionInbox);
    mainSectionContainer.appendChild(preLoaderContainer);
    innerWrapper.appendChild(navigationContainer);
    innerWrapper.appendChild(mainSectionContainer);
    wrapper.appendChild(innerWrapper);
    return wrapper;
  };

  this.leaderboardAreaLayout = function () {
    var _this = this;

    var sectionLB = document.createElement('div');
    var sectionLBHeader = document.createElement('div');
    var sectionLBHeaderList = document.createElement('div');
    var sectionLBHeaderListIcon = document.createElement('div');
    var sectionLBHeaderLabel = document.createElement('div');
    var sectionLBHeaderDate = document.createElement('div');
    var sectionLBHeaderClose = document.createElement('div');
    var sectionLBDetails = document.createElement('div');
    var sectionLBDetailsInfo = document.createElement('div');
    var sectionLBDetailsInfoIcon = document.createElement('div');
    var sectionLBDetailsContentContainer = document.createElement('div');
    var sectionLBDetailsContentContainerLabel = document.createElement('div');
    var sectionLBDetailsContentContainerDate = document.createElement('div');
    var sectionLBLeaderboard = document.createElement('div');
    var sectionLBLeaderboardHeader = document.createElement('div');
    var sectionLBLeaderboardHeaderLabels = document.createElement('div');
    var sectionLBLeaderboardHeaderTopResults = document.createElement('div');
    var sectionLBLeaderboardBody = document.createElement('div');
    var sectionLBLeaderboardBodyResults = document.createElement('div');
    var sectionLBMissingMember = document.createElement('div');
    var sectionLBOptInContainer = document.createElement('div');
    var sectionLBOptInAction = document.createElement('a');
    var sectionLBFooter = document.createElement('div');
    var sectionLBFooterContent = document.createElement('div');
    var sectionTournamentDetailsContainer = document.createElement('div');
    var sectionTournamentDetailsHeader = document.createElement('div');
    var sectionTournamentDetailsHeaderLabel = document.createElement('div');
    var sectionTournamentDetailsHeaderDate = document.createElement('div');
    var sectionTournamentDetailsBackBtn = document.createElement('a');
    var sectionTournamentDetailsBodyContainer = document.createElement('div');
    var sectionTournamentDetailsBodyImageContainer = document.createElement('div');
    var sectionTournamentDetailsBody = document.createElement('div');
    var sectionTournamentDetailsOptInContainer = document.createElement('div');
    var sectionTournamentDetailsOptInAction = document.createElement('a');
    var sectionTournamentList = document.createElement('div');
    var sectionTournamentListBody = document.createElement('div');
    var sectionTournamentListBodyResults = document.createElement('div');
    var sectionTournamentBackAction = document.createElement('a');
    sectionLB.setAttribute('class', 'cl-main-widget-lb cl-main-section-item cl-main-active-section');
    sectionLBHeader.setAttribute('class', 'cl-main-widget-lb-header');
    sectionLBHeaderList.setAttribute('class', 'cl-main-widget-lb-header-list');
    sectionLBHeaderListIcon.setAttribute('class', 'cl-main-widget-lb-header-list-icon');
    sectionLBHeaderLabel.setAttribute('class', 'cl-main-widget-lb-header-label');
    sectionLBHeaderDate.setAttribute('class', 'cl-main-widget-lb-header-date');
    sectionLBHeaderClose.setAttribute('class', 'cl-main-widget-lb-header-close');
    sectionLBDetails.setAttribute('class', 'cl-main-widget-lb-details');
    sectionLBDetailsInfo.setAttribute('class', 'cl-main-widget-lb-details-info');
    sectionLBDetailsInfoIcon.setAttribute('class', 'cl-main-widget-lb-details-info-icon');
    sectionLBDetailsContentContainer.setAttribute('class', 'cl-main-widget-lb-details-content');
    sectionLBDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-lb-details-content-label');
    sectionLBDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-lb-details-content-date'); // Leaderboard result container

    sectionLBLeaderboard.setAttribute('class', 'cl-main-widget-lb-leaderboard');
    sectionLBLeaderboardHeader.setAttribute('class', 'cl-main-widget-lb-leaderboard-header');
    sectionLBLeaderboardHeaderLabels.setAttribute('class', 'cl-main-widget-lb-leaderboard-header-labels');
    sectionLBLeaderboardHeaderTopResults.setAttribute('class', 'cl-main-widget-lb-leaderboard-header-top-res');
    sectionLBLeaderboardBody.setAttribute('class', 'cl-main-widget-lb-leaderboard-body');
    sectionLBLeaderboardBodyResults.setAttribute('class', 'cl-main-widget-lb-leaderboard-body-res');
    sectionLBMissingMember.setAttribute('class', 'cl-main-widget-lb-missing-member'); // footer

    sectionLBFooter.setAttribute('class', 'cl-main-widget-lb-footer');
    sectionLBFooterContent.setAttribute('class', 'cl-main-widget-lb-footer-content'); // details section

    sectionTournamentDetailsContainer.setAttribute('class', 'cl-main-widget-lb-details-container');
    sectionTournamentDetailsHeader.setAttribute('class', 'cl-main-widget-lb-details-header');
    sectionTournamentDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-lb-details-header-label');
    sectionTournamentDetailsHeaderDate.setAttribute('class', 'cl-main-widget-lb-details-header-date');
    sectionTournamentDetailsBackBtn.setAttribute('class', 'cl-main-widget-lb-details-back-btn');
    sectionTournamentDetailsBodyContainer.setAttribute('class', 'cl-main-widget-lb-details-body-container');
    sectionTournamentDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-lb-details-body-image-cont');
    sectionTournamentDetailsBody.setAttribute('class', 'cl-main-widget-lb-details-body');
    sectionTournamentDetailsOptInContainer.setAttribute('class', 'cl-main-widget-lb-details-optin-container');
    sectionTournamentDetailsOptInAction.setAttribute('class', 'cl-main-widget-lb-details-optin-action');
    sectionTournamentList.setAttribute('class', 'cl-main-widget-tournaments-list');
    sectionTournamentBackAction.setAttribute('class', 'cl-main-widget-tournaments-back-btn');
    sectionTournamentListBody.setAttribute('class', 'cl-main-widget-tournaments-list-body');
    sectionTournamentListBodyResults.setAttribute('class', 'cl-main-widget-tournaments-list-body-res');
    sectionLBOptInContainer.setAttribute('class', 'cl-main-widget-lb-optin-container');
    sectionLBOptInAction.setAttribute('class', 'cl-main-widget-lb-optin-action');
    sectionLBHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.label;
    sectionLBFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionTournamentDetailsOptInAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
    sectionTournamentDetailsOptInAction.href = 'javascript:void(0);';
    sectionLBOptInAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
    sectionLBOptInAction.href = 'javascript:void(0);';
    sectionLBHeaderList.appendChild(sectionLBHeaderListIcon);
    sectionLBHeader.appendChild(sectionLBHeaderList);
    sectionLBHeader.appendChild(sectionLBHeaderLabel);
    sectionLBHeader.appendChild(sectionLBHeaderDate);
    sectionLBHeader.appendChild(sectionLBHeaderClose);
    sectionLBDetailsInfo.appendChild(sectionLBDetailsInfoIcon);
    sectionLBDetailsContentContainer.appendChild(sectionLBDetailsContentContainerLabel);
    sectionLBDetailsContentContainer.appendChild(sectionLBDetailsContentContainerDate);
    sectionLBDetails.appendChild(sectionLBDetailsInfo);
    sectionLBDetails.appendChild(sectionLBDetailsContentContainer);
    sectionLBLeaderboardHeader.appendChild(sectionLBLeaderboardHeaderLabels);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardHeader);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardHeaderTopResults);
    sectionLBLeaderboardBody.appendChild(sectionLBLeaderboardBodyResults);
    sectionLBLeaderboard.appendChild(sectionLBLeaderboardBody);
    sectionLBFooter.appendChild(sectionLBFooterContent);
    sectionTournamentListBody.appendChild(sectionTournamentListBodyResults);
    sectionTournamentList.appendChild(sectionTournamentListBody);
    sectionTournamentList.appendChild(sectionTournamentBackAction);
    sectionTournamentDetailsHeader.appendChild(sectionTournamentDetailsHeaderLabel);
    sectionTournamentDetailsHeader.appendChild(sectionTournamentDetailsHeaderDate);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsHeader);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsBackBtn);
    sectionTournamentDetailsBodyContainer.appendChild(sectionTournamentDetailsBodyImageContainer);
    sectionTournamentDetailsBodyContainer.appendChild(sectionTournamentDetailsBody);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsBodyContainer);
    sectionTournamentDetailsOptInContainer.appendChild(sectionTournamentDetailsOptInAction);
    sectionTournamentDetailsContainer.appendChild(sectionTournamentDetailsOptInContainer);
    sectionLBOptInContainer.appendChild(sectionLBOptInAction);
    sectionLB.appendChild(sectionLBHeader);
    sectionLB.appendChild(sectionLBDetails);
    sectionLB.appendChild(sectionLBLeaderboard);
    sectionLB.appendChild(sectionLBMissingMember);
    sectionLB.appendChild(sectionLBOptInContainer);
    sectionLB.appendChild(sectionLBFooter);
    sectionLB.appendChild(sectionTournamentDetailsContainer);
    sectionLB.appendChild(sectionTournamentList);
    return sectionLB;
  };

  this.achievementsAreaLayout = function () {
    var _this = this;

    var sectionACH = document.createElement('div');
    var sectionACHHeader = document.createElement('div');
    var sectionACHHeaderLabel = document.createElement('div');
    var sectionACHHeaderDate = document.createElement('div');
    var sectionACHHeaderClose = document.createElement('div');
    var sectionACHDetails = document.createElement('div');
    var sectionACHDetailsInfo = document.createElement('div');
    var sectionACHDetailsInfoIcon = document.createElement('div');
    var sectionACHDetailsContentContainer = document.createElement('div');
    var sectionACHDetailsContentContainerLabel = document.createElement('div');
    var sectionACHDetailsContentContainerDate = document.createElement('div');
    var sectionACHList = document.createElement('div');
    var sectionACHListBody = document.createElement('div');
    var sectionACHListBodyResults = document.createElement('div');
    var sectionACHFooter = document.createElement('div');
    var sectionACHFooterContent = document.createElement('div');
    var sectionAchievementDetailsContainer = document.createElement('div');
    var sectionAchievementDetailsHeader = document.createElement('div');
    var sectionAchievementDetailsHeaderLabel = document.createElement('div');
    var sectionAchievementDetailsHeaderDate = document.createElement('div');
    var sectionAchievementDetailsBackBtn = document.createElement('a');
    var sectionAchievementDetailsBodyContainer = document.createElement('div');
    var sectionAchievementDetailsBodyImageContainer = document.createElement('div');
    var sectionAchievementDetailsBody = document.createElement('div');
    sectionACH.setAttribute('class', 'cl-main-widget-section-ach cl-main-section-item');
    sectionACHHeader.setAttribute('class', 'cl-main-widget-ach-header');
    sectionACHHeaderLabel.setAttribute('class', 'cl-main-widget-ach-header-label');
    sectionACHHeaderDate.setAttribute('class', 'cl-main-widget-ach-header-date');
    sectionACHHeaderClose.setAttribute('class', 'cl-main-widget-ach-header-close');
    sectionACHDetails.setAttribute('class', 'cl-main-widget-ach-details');
    sectionACHDetailsInfo.setAttribute('class', 'cl-main-widget-ach-details-info');
    sectionACHDetailsInfoIcon.setAttribute('class', 'cl-main-widget-ach-details-info-icon');
    sectionACHDetailsContentContainer.setAttribute('class', 'cl-main-widget-ach-details-content');
    sectionACHDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-ach-details-content-label');
    sectionACHDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-ach-details-content-date'); // Leaderboard result container

    sectionACHList.setAttribute('class', 'cl-main-widget-ach-list');
    sectionACHListBody.setAttribute('class', 'cl-main-widget-ach-list-body');
    sectionACHListBodyResults.setAttribute('class', 'cl-main-widget-ach-list-body-res'); // footer

    sectionACHFooter.setAttribute('class', 'cl-main-widget-ach-footer');
    sectionACHFooterContent.setAttribute('class', 'cl-main-widget-ach-footer-content'); // details section

    sectionAchievementDetailsContainer.setAttribute('class', 'cl-main-widget-ach-details-container');
    sectionAchievementDetailsHeader.setAttribute('class', 'cl-main-widget-ach-details-header');
    sectionAchievementDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-ach-details-header-label');
    sectionAchievementDetailsHeaderDate.setAttribute('class', 'cl-main-widget-ach-details-header-date');
    sectionAchievementDetailsBackBtn.setAttribute('class', 'cl-main-widget-ach-details-back-btn');
    sectionAchievementDetailsBodyContainer.setAttribute('class', 'cl-main-widget-ach-details-body-container');
    sectionAchievementDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-ach-details-body-image-cont');
    sectionAchievementDetailsBody.setAttribute('class', 'cl-main-widget-ach-details-body');
    sectionACHHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.achievements.label;
    sectionACHFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionAchievementDetailsHeader.appendChild(sectionAchievementDetailsHeaderLabel);
    sectionAchievementDetailsHeader.appendChild(sectionAchievementDetailsHeaderDate);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsHeader);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsBackBtn);
    sectionAchievementDetailsBodyContainer.appendChild(sectionAchievementDetailsBodyImageContainer);
    sectionAchievementDetailsBodyContainer.appendChild(sectionAchievementDetailsBody);
    sectionAchievementDetailsContainer.appendChild(sectionAchievementDetailsBodyContainer);
    sectionACHHeader.appendChild(sectionACHHeaderLabel);
    sectionACHHeader.appendChild(sectionACHHeaderDate);
    sectionACHHeader.appendChild(sectionACHHeaderClose);
    sectionACHDetailsInfo.appendChild(sectionACHDetailsInfoIcon);
    sectionACHDetailsContentContainer.appendChild(sectionACHDetailsContentContainerLabel);
    sectionACHDetailsContentContainer.appendChild(sectionACHDetailsContentContainerDate);
    sectionACHDetails.appendChild(sectionACHDetailsInfo);
    sectionACHDetails.appendChild(sectionACHDetailsContentContainer);
    sectionACHListBody.appendChild(sectionACHListBodyResults);
    sectionACHList.appendChild(sectionACHListBody);
    sectionACHFooter.appendChild(sectionACHFooterContent);
    sectionACH.appendChild(sectionACHHeader);
    sectionACH.appendChild(sectionACHDetails);
    sectionACH.appendChild(sectionACHList);
    sectionACH.appendChild(sectionACHFooter);
    sectionACH.appendChild(sectionAchievementDetailsContainer);
    return sectionACH;
  };

  this.rewardsAreaLayout = function () {
    var _this = this;

    var sectionRewards = document.createElement('div');
    var sectionRewardsHeader = document.createElement('div');
    var sectionRewardsHeaderLabel = document.createElement('div');
    var sectionRewardsHeaderDate = document.createElement('div');
    var sectionRewardsHeaderClose = document.createElement('div');
    var sectionRewardsDetails = document.createElement('div');
    var sectionRewardsDetailsInfo = document.createElement('div');
    var sectionRewardsDetailsInfoIcon = document.createElement('div');
    var sectionRewardsDetailsContentContainer = document.createElement('div');
    var sectionRewardsDetailsContentContainerLabel = document.createElement('div');
    var sectionRewardsDetailsContentContainerDate = document.createElement('div');
    var sectionRewardsList = document.createElement('div');
    var sectionRewardsListBody = document.createElement('div');
    var sectionRewardsListBodyResults = document.createElement('div');
    var sectionRewardsFooter = document.createElement('div');
    var sectionRewardsFooterContent = document.createElement('div');
    var sectionRewardsDetailsContainer = document.createElement('div');
    var sectionRewardsDetailsHeader = document.createElement('div');
    var sectionRewardsDetailsHeaderLabel = document.createElement('div');
    var sectionRewardsDetailsHeaderDate = document.createElement('div');
    var sectionRewardsDetailsBackBtn = document.createElement('a');
    var sectionRewardsDetailsBodyContainer = document.createElement('div');
    var sectionRewardsDetailsBodyImageContainer = document.createElement('div');
    var sectionRewardsDetailsBody = document.createElement('div');
    var sectionRewardsWinningsContainer = document.createElement('div');
    var sectionRewardsWinningsIcon = document.createElement('div');
    var sectionRewardsWinningsValue = document.createElement('div');
    var sectionRewardsClaimContainer = document.createElement('div');
    var sectionRewardsClaimBtn = document.createElement('a');
    sectionRewards.setAttribute('class', 'cl-main-widget-section-reward cl-main-section-item');
    sectionRewardsHeader.setAttribute('class', 'cl-main-widget-reward-header');
    sectionRewardsHeaderLabel.setAttribute('class', 'cl-main-widget-reward-header-label');
    sectionRewardsHeaderDate.setAttribute('class', 'cl-main-widget-reward-header-date');
    sectionRewardsHeaderClose.setAttribute('class', 'cl-main-widget-reward-header-close');
    sectionRewardsDetails.setAttribute('class', 'cl-main-widget-reward-details');
    sectionRewardsDetailsInfo.setAttribute('class', 'cl-main-widget-reward-details-info');
    sectionRewardsDetailsInfoIcon.setAttribute('class', 'cl-main-widget-reward-details-info-icon');
    sectionRewardsDetailsContentContainer.setAttribute('class', 'cl-main-widget-reward-details-content');
    sectionRewardsDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-reward-details-content-label');
    sectionRewardsDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-reward-details-content-date'); // Leaderboard result container

    sectionRewardsList.setAttribute('class', 'cl-main-widget-reward-list');
    sectionRewardsListBody.setAttribute('class', 'cl-main-widget-reward-list-body');
    sectionRewardsListBodyResults.setAttribute('class', 'cl-main-widget-reward-list-body-res'); // footer

    sectionRewardsFooter.setAttribute('class', 'cl-main-widget-reward-footer');
    sectionRewardsFooterContent.setAttribute('class', 'cl-main-widget-reward-footer-content'); // details section

    sectionRewardsDetailsContainer.setAttribute('class', 'cl-main-widget-reward-details-container');
    sectionRewardsDetailsHeader.setAttribute('class', 'cl-main-widget-reward-details-header');
    sectionRewardsDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-reward-details-header-label');
    sectionRewardsDetailsHeaderDate.setAttribute('class', 'cl-main-widget-reward-details-header-date');
    sectionRewardsDetailsBackBtn.setAttribute('class', 'cl-main-widget-reward-details-back-btn');
    sectionRewardsDetailsBodyContainer.setAttribute('class', 'cl-main-widget-reward-details-body-container');
    sectionRewardsDetailsBodyImageContainer.setAttribute('class', 'cl-main-widget-reward-details-body-image-cont');
    sectionRewardsDetailsBody.setAttribute('class', 'cl-main-widget-reward-details-body');
    sectionRewardsWinningsContainer.setAttribute('class', 'cl-main-widget-reward-winnings-container');
    sectionRewardsWinningsIcon.setAttribute('class', 'cl-main-widget-reward-winnings-icon');
    sectionRewardsWinningsValue.setAttribute('class', 'cl-main-widget-reward-winnings-value');
    sectionRewardsClaimContainer.setAttribute('class', 'cl-main-widget-reward-claim-container');
    sectionRewardsClaimBtn.setAttribute('class', 'cl-main-widget-reward-claim-btn');
    sectionRewardsHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.rewards.label;
    sectionRewardsFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionRewardsClaimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claim;
    sectionRewardsWinningsContainer.appendChild(sectionRewardsWinningsIcon);
    sectionRewardsWinningsContainer.appendChild(sectionRewardsWinningsValue);
    sectionRewardsClaimContainer.appendChild(sectionRewardsClaimBtn);
    sectionRewardsDetailsHeader.appendChild(sectionRewardsDetailsHeaderLabel);
    sectionRewardsDetailsHeader.appendChild(sectionRewardsDetailsHeaderDate);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsHeader);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsBackBtn);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsDetailsBodyImageContainer);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsDetailsBody);
    sectionRewardsDetailsBodyContainer.appendChild(sectionRewardsWinningsContainer);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsDetailsBodyContainer);
    sectionRewardsDetailsContainer.appendChild(sectionRewardsClaimContainer);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderLabel);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderDate);
    sectionRewardsHeader.appendChild(sectionRewardsHeaderClose);
    sectionRewardsDetailsInfo.appendChild(sectionRewardsDetailsInfoIcon);
    sectionRewardsDetailsContentContainer.appendChild(sectionRewardsDetailsContentContainerLabel);
    sectionRewardsDetailsContentContainer.appendChild(sectionRewardsDetailsContentContainerDate);
    sectionRewardsDetails.appendChild(sectionRewardsDetailsInfo);
    sectionRewardsDetails.appendChild(sectionRewardsDetailsContentContainer);
    sectionRewardsListBody.appendChild(sectionRewardsListBodyResults);
    sectionRewardsList.appendChild(sectionRewardsListBody);
    sectionRewardsFooter.appendChild(sectionRewardsFooterContent);
    sectionRewards.appendChild(sectionRewardsHeader);
    sectionRewards.appendChild(sectionRewardsDetails);
    sectionRewards.appendChild(sectionRewardsList);
    sectionRewards.appendChild(sectionRewardsFooter);
    sectionRewards.appendChild(sectionRewardsDetailsContainer);
    return sectionRewards;
  };

  this.inboxAreaLayout = function () {
    var _this = this;

    var sectionInbox = document.createElement('div');
    var sectionInboxHeader = document.createElement('div');
    var sectionInboxHeaderLabel = document.createElement('div');
    var sectionInboxHeaderDate = document.createElement('div');
    var sectionInboxHeaderClose = document.createElement('div');
    var sectionInboxDetails = document.createElement('div');
    var sectionInboxDetailsInfo = document.createElement('div');
    var sectionInboxDetailsInfoIcon = document.createElement('div');
    var sectionInboxDetailsContentContainer = document.createElement('div');
    var sectionInboxDetailsContentContainerLabel = document.createElement('div');
    var sectionInboxDetailsContentContainerDate = document.createElement('div');
    var sectionInboxList = document.createElement('div');
    var sectionInboxListBody = document.createElement('div');
    var sectionInboxListBodyResults = document.createElement('div');
    var sectionInboxFooter = document.createElement('div');
    var sectionInboxFooterContent = document.createElement('div');
    var sectionInboxDetailsContainer = document.createElement('div');
    var sectionInboxDetailsHeader = document.createElement('div');
    var sectionInboxDetailsHeaderLabel = document.createElement('div');
    var sectionInboxDetailsHeaderDate = document.createElement('div');
    var sectionInboxDetailsBackBtn = document.createElement('a');
    var sectionInboxDetailsBodyContainer = document.createElement('div');
    var sectionInboxDetailsBody = document.createElement('div');
    sectionInbox.setAttribute('class', 'cl-main-widget-section-inbox cl-main-section-item');
    sectionInboxHeader.setAttribute('class', 'cl-main-widget-inbox-header');
    sectionInboxHeaderLabel.setAttribute('class', 'cl-main-widget-inbox-header-label');
    sectionInboxHeaderDate.setAttribute('class', 'cl-main-widget-inbox-header-date');
    sectionInboxHeaderClose.setAttribute('class', 'cl-main-widget-inbox-header-close');
    sectionInboxDetails.setAttribute('class', 'cl-main-widget-inbox-details');
    sectionInboxDetailsInfo.setAttribute('class', 'cl-main-widget-inbox-details-info');
    sectionInboxDetailsInfoIcon.setAttribute('class', 'cl-main-widget-inbox-details-info-icon');
    sectionInboxDetailsContentContainer.setAttribute('class', 'cl-main-widget-inbox-details-content');
    sectionInboxDetailsContentContainerLabel.setAttribute('class', 'cl-main-widget-inbox-details-content-label');
    sectionInboxDetailsContentContainerDate.setAttribute('class', 'cl-main-widget-inbox-details-content-date'); // Leaderboard result container

    sectionInboxList.setAttribute('class', 'cl-main-widget-inbox-list');
    sectionInboxListBody.setAttribute('class', 'cl-main-widget-inbox-list-body');
    sectionInboxListBodyResults.setAttribute('class', 'cl-main-widget-inbox-list-body-res'); // footer

    sectionInboxFooter.setAttribute('class', 'cl-main-widget-inbox-footer');
    sectionInboxFooterContent.setAttribute('class', 'cl-main-widget-inbox-footer-content'); // details section

    sectionInboxDetailsContainer.setAttribute('class', 'cl-main-widget-inbox-details-container');
    sectionInboxDetailsHeader.setAttribute('class', 'cl-main-widget-inbox-details-header');
    sectionInboxDetailsHeaderLabel.setAttribute('class', 'cl-main-widget-inbox-details-header-label');
    sectionInboxDetailsHeaderDate.setAttribute('class', 'cl-main-widget-inbox-details-header-date');
    sectionInboxDetailsBackBtn.setAttribute('class', 'cl-main-widget-inbox-details-back-btn');
    sectionInboxDetailsBodyContainer.setAttribute('class', 'cl-main-widget-inbox-details-body-container');
    sectionInboxDetailsBody.setAttribute('class', 'cl-main-widget-inbox-details-body');
    sectionInboxHeaderLabel.innerHTML = _this.settings.lbWidget.settings.translation.messages.label;
    sectionInboxFooterContent.innerHTML = _this.settings.lbWidget.settings.translation.global.copy;
    sectionInboxHeader.appendChild(sectionInboxHeaderLabel);
    sectionInboxHeader.appendChild(sectionInboxHeaderDate);
    sectionInboxHeader.appendChild(sectionInboxHeaderClose);
    sectionInboxDetailsInfo.appendChild(sectionInboxDetailsInfoIcon);
    sectionInboxDetailsContentContainer.appendChild(sectionInboxDetailsContentContainerLabel);
    sectionInboxDetailsContentContainer.appendChild(sectionInboxDetailsContentContainerDate);
    sectionInboxDetails.appendChild(sectionInboxDetailsInfo);
    sectionInboxDetails.appendChild(sectionInboxDetailsContentContainer);
    sectionInboxListBody.appendChild(sectionInboxListBodyResults);
    sectionInboxList.appendChild(sectionInboxListBody);
    sectionInboxDetailsHeader.appendChild(sectionInboxDetailsHeaderLabel);
    sectionInboxDetailsHeader.appendChild(sectionInboxDetailsHeaderDate);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsHeader);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsBackBtn);
    sectionInboxDetailsBodyContainer.appendChild(sectionInboxDetailsBody);
    sectionInboxDetailsContainer.appendChild(sectionInboxDetailsBodyContainer);
    sectionInboxFooter.appendChild(sectionInboxFooterContent);
    sectionInbox.appendChild(sectionInboxHeader);
    sectionInbox.appendChild(sectionInboxDetails);
    sectionInbox.appendChild(sectionInboxList);
    sectionInbox.appendChild(sectionInboxFooter);
    sectionInbox.appendChild(sectionInboxDetailsContainer);
    return sectionInbox;
  };

  this.leaderboardHeader = function () {
    var _this = this;

    var rankCol = document.createElement('div');
    var iconCol = document.createElement('div');
    var nameCol = document.createElement('div');
    var growthCol = document.createElement('div');
    var pointsCol = document.createElement('div');
    rankCol.setAttribute('class', 'cl-rank-col cl-col');
    iconCol.setAttribute('class', 'cl-icon-col cl-col');
    nameCol.setAttribute('class', 'cl-name-col cl-col');
    growthCol.setAttribute('class', 'cl-growth-col cl-col');
    pointsCol.setAttribute('class', 'cl-points-col cl-col');
    rankCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
    iconCol.innerHTML = '';
    nameCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.name;
    growthCol.innerHTML = '';
    pointsCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;

    _this.settings.leaderboard.header.appendChild(rankCol);

    _this.settings.leaderboard.header.appendChild(iconCol);

    _this.settings.leaderboard.header.appendChild(nameCol);

    _this.settings.leaderboard.header.appendChild(growthCol);

    _this.settings.leaderboard.header.appendChild(pointsCol);

    var rewardCol = document.createElement('div');
    var rewardEnabled = typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0;
    rewardCol.setAttribute('class', 'cl-reward-col cl-col' + (rewardEnabled ? ' cl-col-reward-enabled' : ''));
    rewardCol.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.prize;
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.leaderboard.header, 'cl-reward-enabled');

    _this.settings.leaderboard.header.appendChild(rewardCol);
  };

  this.leaderboardRow = function (rank, icon, name, change, growth, points, reward, count, memberFound) {
    var _this = this;

    var cellWrapper = document.createElement('div');
    var rankCel = document.createElement('div');
    var rankCelValue = document.createElement('div');
    var iconCel = document.createElement('div');
    var iconCelImg = new Image();
    var nameCel = document.createElement('div');
    var growthCel = document.createElement('div');
    var pointsCel = document.createElement('div');
    var memberFoundClass = memberFound ? ' cl-lb-member-row' : '';
    cellWrapper.setAttribute('class', 'cl-lb-row cl-lb-rank-' + rank + ' cl-lb-count-' + count + memberFoundClass);
    rankCel.setAttribute('class', 'cl-rank-col cl-col cl-rank-' + rank);
    rankCelValue.setAttribute('class', 'cl-rank-col-value');
    iconCel.setAttribute('class', 'cl-icon-col cl-col');
    iconCelImg.setAttribute('class', 'cl-icon-col-img');
    nameCel.setAttribute('class', 'cl-name-col cl-col');
    growthCel.setAttribute('class', 'cl-growth-col cl-col');
    pointsCel.setAttribute('class', 'cl-points-col cl-col');
    cellWrapper.dataset.rank = rank;
    rankCelValue.innerHTML = rank;
    nameCel.innerHTML = name;
    growthCel.dataset.growth = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
    growthCel.dataset.change = change;
    growthCel.innerHTML = growth;
    pointsCel.innerHTML = points;

    if (icon.length > 0) {
      iconCelImg.src = icon;
      iconCelImg.alt = name;
    } else {
      iconCelImg.style.display = 'none';
    }

    rankCel.appendChild(rankCelValue);
    cellWrapper.appendChild(rankCel);
    iconCel.appendChild(iconCelImg);
    cellWrapper.appendChild(iconCel);
    cellWrapper.appendChild(nameCel);
    cellWrapper.appendChild(growthCel);
    cellWrapper.appendChild(pointsCel);
    var rewardCel = document.createElement('div');
    var rewardEnabled = typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0;
    rewardCel.setAttribute('class', 'cl-reward-col cl-col' + (rewardEnabled ? ' cl-col-reward-enabled' : ''));
    rewardCel.innerHTML = typeof reward !== 'undefined' && reward !== null ? reward : '';
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(cellWrapper, 'cl-reward-enabled');
    cellWrapper.appendChild(rewardCel);
    return cellWrapper;
  };

  this.leaderboardRowUpdate = function (rank, icon, name, change, growth, points, reward, count, memberFound, onMissing) {
    var _this = this;

    var cellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + count);

    if (cellRow === null) {
      onMissing(rank, icon, name, change, growth, points, reward, count, memberFound);
    } else {
      var rankCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-rank-col-value');
      var iconCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-icon-col-img');
      var nameCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-name-col');
      var growthCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-growth-col');
      var pointsCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-points-col');
      var memberFoundClass = 'cl-lb-member-row';
      var rowHasClass = Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(cellRow, memberFoundClass);

      if (count > 0 && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(cellRow, 'cl-shared-rank')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(cellRow, 'cl-shared-rank');
      }

      if (memberFound && !rowHasClass) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(cellRow, memberFoundClass);
      } else if (!memberFound && rowHasClass) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(cellRow, memberFoundClass);
      }

      cellRow.dataset.rank = rank;
      rankCel.innerHTML = rank;
      nameCel.innerHTML = name;
      growthCel.dataset.growth = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      growthCel.dataset.change = change;
      growthCel.innerHTML = growth;
      pointsCel.innerHTML = points;

      if (icon.length > 0) {
        iconCel.src = icon;
        iconCel.alt = name;
        iconCel.style.display = 'block';
      } else {
        iconCel.style.display = 'none';
      }

      if (typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null && typeof _this.settings.lbWidget.settings.competition.activeContest.rewards !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest.rewards.length > 0) {
        var rewardCel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(cellRow, '.cl-reward-col');

        if (rewardCel !== null) {
          rewardCel.innerHTML = typeof reward !== 'undefined' && reward !== null ? reward : '';
        }
      }
    }
  };

  this.populateLeaderboardResultsWithDefaultEntries = function () {
    var _this = this;

    var topResults = [];
    var remainingResults = [];

    for (var i = 0; i < _this.settings.leaderboard.topResultSize; i++) {
      var rank = i + 1;
      topResults.push({
        name: '--',
        rank: rank,
        points: '--',
        memberId: '',
        memberRefId: ''
      });
    }

    for (var s = _this.settings.leaderboard.topResultSize; s < _this.settings.leaderboard.defaultEmptyList; s++) {
      var _rank = s + 1;

      remainingResults.push({
        name: '--',
        rank: _rank,
        points: '--',
        memberId: '',
        memberRefId: ''
      });
    }

    _this.updateLeaderboardTopResults(topResults);

    _this.updateLeaderboardResults(remainingResults);
  };

  this.updateLeaderboardTopResults = function (topResults) {
    var _this = this;

    var rankCheck = [];
    var cleanupRankCheck = []; // cleanup

    window.mapObject(topResults, function (lb) {
      cleanupRankCheck.push(lb.rank);
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.topResults, '.cl-lb-rank-' + lb.rank + '.cl-shared-rank'), function (obj) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
      });
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.topResults, '.cl-lb-row'), function (obj) {
      var rank = parseInt(obj.dataset.rank);

      if (cleanupRankCheck.indexOf(rank) === -1 && rank > _this.settings.leaderboard.defaultEmptyList) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
      }
    });
    window.mapObject(topResults, function (lb) {
      var count = 0;

      var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lb.memberId);

      var memberFound = _this.settings.lbWidget.settings.memberId === lb.memberId || _this.settings.lbWidget.settings.memberId === lb.memberRefId;
      var memberName = memberFound ? _this.settings.lbWidget.settings.translation.leaderboard.you : lb.name;

      var reward = _this.getReward(lb.rank);

      var change = typeof lb.change === 'undefined' ? 0 : lb.change;
      var growthType = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      var growthIcon = "<span class='cl-growth-icon cl-growth-" + growthType + "'></span>";

      if (rankCheck.indexOf(lb.rank) !== -1) {
        for (var rc = 0; rc < rankCheck.length; rc++) {
          if (lb.rank === rankCheck[rc]) {
            count++;
          }
        }
      }

      _this.leaderboardRowUpdate(lb.rank, icon, // icon
      memberName, change, growthIcon, // growth
      lb.points, reward, // reward
      count, memberFound, function (rank, icon, name, change, growth, points, reward, count, memberFound) {
        var newRow = _this.leaderboardRow(rank, icon, name, change, growth, points, reward, count, memberFound);

        var prevCellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + (count - 1));

        if (prevCellRow !== null && typeof prevCellRow.length === 'undefined') {
          Object(_utils_appendNext__WEBPACK_IMPORTED_MODULE_8__["default"])(prevCellRow, newRow);
        } else {
          _this.settings.leaderboard.topResults.appendChild(newRow);
        }
      });

      rankCheck.push(lb.rank);
    });
  };

  this.getReward = function (rank) {
    var _this = this;

    var rewardResponse = [];

    if (typeof _this.settings.lbWidget.settings.competition.activeContest !== 'undefined' && _this.settings.lbWidget.settings.competition.activeContest !== null) {
      window.mapObject(_this.settings.lbWidget.settings.competition.activeContest.rewards, function (reward) {
        if (reward.rewardRank instanceof Array && reward.rewardRank.indexOf(rank) !== -1) {
          rewardResponse.push(_this.settings.lbWidget.settings.rewards.rewardFormatter(reward));
        }
      });
    }

    return rewardResponse.join(', ');
  };

  this.updateLeaderboardResults = function (remainingResults) {
    var _this = this;

    var rankCheck = [];
    var cleanupRankCheck = []; // cleanup

    window.mapObject(remainingResults, function (lb) {
      cleanupRankCheck.push(lb.rank);
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-rank-' + lb.rank + '.cl-shared-rank'), function (obj) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
      });
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-row'), function (obj) {
      var rank = parseInt(obj.dataset.rank);

      if (cleanupRankCheck.indexOf(rank) === -1 && rank > _this.settings.leaderboard.defaultEmptyList) {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(obj);
      }
    });
    window.mapObject(remainingResults, function (lb) {
      var count = 0;

      var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lb.memberId);

      var memberFound = _this.settings.lbWidget.settings.memberId === lb.memberId || _this.settings.lbWidget.settings.memberId === lb.memberRefId;
      var memberName = memberFound ? _this.settings.lbWidget.settings.translation.leaderboard.you : lb.name;

      var reward = _this.getReward(lb.rank);

      var change = typeof lb.change === 'undefined' ? 0 : lb.change;
      var growthType = change < 0 ? 'down' : change > 0 ? 'up' : 'same';
      var growthIcon = "<span class='cl-growth-icon cl-growth-" + growthType + "'></span>";

      if (rankCheck.indexOf(lb.rank) !== -1) {
        for (var rc = 0; rc < rankCheck.length; rc++) {
          if (lb.rank === rankCheck[rc]) {
            count++;
          }
        }
      }

      _this.leaderboardRowUpdate(lb.rank, icon, // icon
      memberName, change, growthIcon, // growth
      lb.points, reward, count, memberFound, function (rank, icon, name, change, growth, points, reward, count, memberFound) {
        var newRow = _this.leaderboardRow(rank, icon, name, name, growth, points, reward, count, memberFound);

        var prevCellRow = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-lb-rank-' + rank + '.cl-lb-count-' + (count - 1));

        if (prevCellRow !== null && typeof prevCellRow.length === 'undefined') {
          Object(_utils_appendNext__WEBPACK_IMPORTED_MODULE_8__["default"])(prevCellRow, newRow);
        } else {
          _this.settings.leaderboard.list.appendChild(newRow);
        }
      });

      rankCheck.push(lb.rank);
    });
  };

  this.updateLeaderboard = function () {
    var _this = this;

    var topResults = [];
    var remainingResults = [];

    _this.populateLeaderboardResultsWithDefaultEntries();

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lb) {
      if (lb.rank <= _this.settings.leaderboard.topResultSize) {
        topResults.push(lb);
      } else {
        remainingResults.push(lb);
      }
    });

    _this.updateLeaderboardTopResults(topResults);

    _this.updateLeaderboardResults(remainingResults);

    var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

    if (member !== null) {
      _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));
    }
  };

  this.updateLeaderboardTime = function () {
    var _this = this;

    var diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());

    var date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));

    if (_this.settings.leaderboard.timerInterval) {
      clearTimeout(_this.settings.leaderboard.timerInterval);
    }

    if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
      date = _this.settings.lbWidget.settings.translation.tournaments.finishing;
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
      date = _this.settings.lbWidget.settings.translation.tournaments.finished;
    }

    _this.settings.headerDate.innerHTML = date;
    _this.settings.detailsContainerDate.innerHTML = date;
    _this.settings.leaderboard.timerInterval = setTimeout(function () {
      _this.updateLeaderboardTime();
    }, 1000);
  };

  this.leaderboardDetailsUpdate = function () {
    var _this = this;

    var mainLabel = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-lb-details-content-label');
    mainLabel.innerHTML = _this.settings.lbWidget.settings.competition.activeContest !== null ? _this.settings.lbWidget.settings.competition.activeContest.label : _this.settings.lbWidget.settings.translation.tournaments.noAvailableCompetitions;
  };

  this.leaderboardOptInCheck = function () {
    var _this = this;

    var optIn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-lb-optin-action');

    if (typeof _this.settings.lbWidget.settings.competition.activeCompetition !== 'undefined' && _this.settings.lbWidget.settings.competition.activeCompetition !== null && typeof _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired === 'boolean' && _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
        optIn.parentNode.style.display = 'block';
      } else {
        optIn.parentNode.style.display = 'none';
      }
    } else {
      optIn.parentNode.style.display = 'none';
    }
  }; // cleanup/recover activity


  this.preLoaderRerun = function () {
    var _this = this;

    if (_this.settings.preLoader.preLoaderActive && _this.settings.preLoader.preloaderCallbackRecovery !== null && _this.settings.preLoader.preLoaderlastAttempt !== null && typeof _this.settings.preLoader.preLoaderlastAttempt === 'number' && _this.settings.preLoader.preLoaderlastAttempt + 8000 < new Date().getTime()) {
      _this.settings.preLoader.preloaderCallbackRecovery();
    }
  };

  this.preloader = function () {
    var _this = this;

    var preLoader = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-pre-loader'); // var content = query(_this.settings.section, '.cl-main-widget-pre-loader-content');

    return {
      show: function show(callback) {
        _this.settings.preLoader.preLoaderActive = true;
        _this.settings.preLoader.preLoaderlastAttempt = new Date().getTime();
        preLoader.style.display = 'block';
        setTimeout(function () {
          preLoader.style.opacity = 1;
        }, 20);

        if (_this.settings.preLoader.preloaderCallbackRecovery === null && typeof callback === 'function') {
          _this.settings.preLoader.preloaderCallbackRecovery = callback;
        }

        callback();
      },
      hide: function hide() {
        _this.settings.preLoader.preLoaderActive = false;
        _this.settings.preLoader.preLoaderlastAttempt = null;
        preLoader.style.opacity = 0;

        if (_this.settings.preLoader.preloaderCallbackRecovery !== null) {
          _this.settings.preLoader.preloaderCallbackRecovery = null;
        }

        setTimeout(function () {
          preLoader.style.display = 'none';
        }, 200);
      }
    };
  };

  this.loadLeaderboard = function (callback) {
    var _this = this;

    if (_this.settings.container === null) {
      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layout());
      _this.settings.navigation = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-container');
      _this.settings.section = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container');
      _this.settings.leaderboard.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-lb-leaderboard');
      _this.settings.leaderboard.header = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-header-labels');
      _this.settings.leaderboard.list = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-body-res');
      _this.settings.leaderboard.topResults = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.container, '.cl-main-widget-lb-leaderboard-header-top-res');
      _this.settings.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-details-container');
      _this.settings.tournamentListContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-tournaments-list');
      _this.settings.detailsContainerDate = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-details-header-date');
      _this.settings.headerDate = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-header-date');
      _this.settings.achievement.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-ach');
      _this.settings.achievement.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-ach-details-container');
      _this.settings.reward.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-reward');
      _this.settings.reward.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-reward-details-container');
      _this.settings.messages.container = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-inbox');
      _this.settings.messages.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-inbox-details-container');

      _this.leaderboardHeader();

      _this.eventListeners();
    }

    _this.leaderboardOptInCheck();

    _this.leaderboardDetailsUpdate();

    _this.updateLeaderboard();

    if (_this.settings.lbWidget.settings.competition.activeContest !== null) {
      _this.updateLeaderboardTime();
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.clearAll = function () {
    var _this = this;

    _this.settings.active = false;

    if (_this.settings.leaderboard.timerInterval) {
      clearTimeout(_this.settings.leaderboard.timerInterval);
    }

    _this.settings.preLoader.preLoaderActive = false;
  };

  this.hide = function (callback) {
    var _this = this;

    _this.clearAll();

    if (_this.settings.container !== null) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-show');
      setTimeout(function () {
        _this.settings.container.style.display = 'none';

        _this.hideCompetitionDetails();

        _this.hideAchievementDetails();

        if (typeof callback === 'function') {
          callback();
        }
      }, 30);
    } else if (typeof callback === 'function') {
      callback();
    }
  };

  this.missingMember = function (isVisible) {
    var _this = this;

    var area = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-lb-missing-member');

    if (!isVisible) {
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (area !== null && member !== null) {
        area.innerHTML = member.innerHTML;
        area.style.display = 'block';
      } else {
        area.style.display = 'none';
      }
    } else {
      area.style.display = 'none';
    }
  };

  this.isElementVisibleInView = function (el, container) {
    var position = el.getBoundingClientRect();
    var elemContainer = container.getBoundingClientRect();
    var elemTop = position.top;
    var elemBottom = position.bottom;
    var elemHeight = position.height;
    return elemTop <= elemContainer.top ? elemContainer.top - elemTop <= elemHeight : elemBottom - elemContainer.bottom <= elemHeight;
  };

  this.eventListeners = function () {
    var _this = this;

    _this.settings.leaderboard.list.parentNode.onscroll = function (evt) {
      evt.preventDefault();
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, evt.target));
      }
    };

    window.onresize = function (evt) {
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));
      }
    };
  }; // this.checkLeaderboardScrollContainer = function(){
  //  var _this = this,
  //    lbScrollContainer = query(_this.settings.leaderboard.container, ".cl-main-widget-lb-leaderboard-body");
  //
  //  if( scrollEnabled(lbScrollContainer) ){
  //    addClass(lbScrollContainer, "cl-element-scrollable");
  //  }else{
  //    removeClass(lbScrollContainer, "cl-element-scrollable");
  //  }
  // };


  this.competitionDetailsOptInButtonState = function () {
    var _this = this;

    var optIn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-optin-action');

    if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired === 'boolean' && _this.settings.lbWidget.settings.competition.activeCompetition.optinRequired) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(optIn, 'cl-disabled');
      } else {
        optIn.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.registered;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(optIn, 'cl-disabled');
      }

      optIn.parentNode.style.display = 'block';
    } else {
      optIn.parentNode.style.display = 'none';
    }
  };

  this.loadCompetitionDetails = function (callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-header-label'); // var date = query(_this.settings.detailsContainer, '.cl-main-widget-lb-details-header-date');

    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.detailsContainer, '.cl-main-widget-lb-details-body-image-cont');
    image.innerHTML = '';
    label.innerHTML = _this.settings.lbWidget.settings.competition.activeContest.label.length > 0 ? _this.settings.lbWidget.settings.competition.activeContest.label : _this.settings.lbWidget.settings.competition.activeCompetition.label;
    body.innerHTML = _this.settings.lbWidget.settings.competition.activeContest.description.length > 0 ? _this.settings.lbWidget.settings.competition.activeContest.description : _this.settings.lbWidget.settings.competition.activeCompetition.description;

    _this.competitionDetailsOptInButtonState();

    _this.settings.detailsContainer.style.display = 'block';
    _this.settings.headerDate.style.display = 'none';

    if (_this.settings.lbWidget.settings.competition.extractImageHeader) {
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(body, 'img'), function (img, key, count) {
        if (count === 0) {
          var newImg = img.cloneNode(true);
          image.appendChild(newImg);
          Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(img);
        }
      });
    }

    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.loadCompetitionList = function (callback, ajaxInstance) {
    var _this = this;

    var listResContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.tournamentListContainer, '.cl-main-widget-tournaments-list-body-res');

    var preLoader = _this.preloader();

    preLoader.show(function () {
      _this.settings.lbWidget.checkForAvailableCompetitions(function () {
        var accordionObj = _this.accordionStyle(_this.settings.tournamentsSection.accordionLayout, function (accordionSection, listContainer, topEntryContainer, layout) {
          var tournamentData = _this.settings.lbWidget.settings.tournaments[layout.type];

          if (typeof tournamentData !== 'undefined') {
            if (tournamentData.length === 0) {
              accordionSection.style.display = 'none';
            }

            window.mapObject(tournamentData, function (tournament, key, count) {
              if (count + 1 <= layout.showTopResults && Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(topEntryContainer, '.cl-tournament-' + tournament.id) === null) {
                var topEntryContaineRlistItem = _this.tournamentItem(tournament);

                topEntryContainer.appendChild(topEntryContaineRlistItem);
              }

              if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(listContainer, '.cl-tournament-' + tournament.id) === null) {
                var listItem = _this.tournamentItem(tournament);

                listContainer.appendChild(listItem);
              }
            });
          }
        });

        listResContainer.innerHTML = '';
        listResContainer.appendChild(accordionObj);
        _this.settings.tournamentListContainer.style.display = 'block';
        setTimeout(function () {
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.tournamentListContainer, 'cl-show');
          if (typeof callback === 'function') callback();
          preLoader.hide();
        }, 50);
      }, ajaxInstance);
    });
  };

  this.hideCompetitionList = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.tournamentListContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.tournamentListContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.hideCompetitionDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.detailsContainer.style.display = 'none';
      _this.settings.headerDate.style.display = 'block';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.achievementItem = function (ach, achieved, perc) {
    var _this = this;

    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var category = document.createElement('div');
    var description = document.createElement('div');
    var progressionWrapper = document.createElement('div');
    var progressionCont = document.createElement('div');
    var progressionBar = document.createElement('div');
    var moreButton = document.createElement('a');
    var cpomntainsImage = typeof ach.icon !== 'undefined' && ach.icon.length > 0;
    listItem.setAttribute('class', 'cl-ach-list-item cl-ach-' + ach.id + (cpomntainsImage ? ' cl-ach-with-image' : ''));
    detailsContainer.setAttribute('class', 'cl-ach-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-ach-list-details-wrap');
    label.setAttribute('class', 'cl-ach-list-details-label');
    category.setAttribute('class', 'cl-ach-list-details-category');
    description.setAttribute('class', 'cl-ach-list-details-description');
    progressionWrapper.setAttribute('class', 'cl-ach-list-progression');
    progressionCont.setAttribute('class', 'cl-ach-list-progression-cont');
    progressionBar.setAttribute('class', 'cl-ach-list-progression-bar');
    moreButton.setAttribute('class', 'cl-ach-list-more');
    moreButton.dataset.id = ach.id;
    moreButton.innerHTML = _this.settings.lbWidget.settings.translation.achievements.more;
    moreButton.href = 'javascript:void(0);';
    listItem.dataset.id = ach.id;
    label.innerHTML = ach.name;
    category.innerHTML = ach.category.join(', ');
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(category);
    detailsWrapper.appendChild(description);

    if (cpomntainsImage) {
      var image = new Image();
      var imageIconWrapper = document.createElement('div');
      imageIconWrapper.setAttribute('class', 'cl-ach-list-item-img-wrapper');
      image.setAttribute('class', 'cl-ach-list-item-img');
      image.src = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.assets.replace(':attachmentId', ach.icon);
      image.alt = ach.name; // image.onload = function(){
      // };

      imageIconWrapper.appendChild(image);
      detailsContainer.appendChild(imageIconWrapper);
    }

    detailsContainer.appendChild(detailsWrapper);
    progressionCont.appendChild(progressionBar);
    progressionWrapper.appendChild(progressionCont);
    progressionWrapper.appendChild(moreButton);
    listItem.appendChild(detailsContainer);
    listItem.appendChild(progressionWrapper);
    return listItem;
  };

  this.achievementListLayout = function (achievementData) {
    var _this = this;

    var achList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-ach .cl-main-widget-ach-list-body-res');
    window.mapObject(achievementData, function (ach) {
      if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(achList, '.cl-ach-' + ach.id) === null) {
        var listItem = _this.achievementItem(ach);

        achList.appendChild(listItem);
      }
    });
  };

  this.loadAchievementDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.achievement.detailsContainer, '.cl-main-widget-ach-details-body-image-cont');
    image.innerHTML = '';
    label.innerHTML = data.data.name;
    body.innerHTML = data.data.description;

    if (_this.settings.lbWidget.settings.achievements.extractImageHeader) {
      var imageLookup = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(body, 'img');
      Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(imageLookup, function (img, key, count) {
        if (count === 0) {
          var newImg = img.cloneNode(true);
          image.appendChild(newImg);
          Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(img);
        }
      });
    }

    _this.settings.achievement.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.achievement.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.hideAchievementDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.achievement.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.achievement.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.loadRewardDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-body');
    var image = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-details-body-image-cont');
    var claimBtn = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-claim-btn');
    var icon = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-winnings-icon');
    var value = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.reward.detailsContainer, '.cl-main-widget-reward-winnings-value');
    label.innerHTML = data.data.reward.rewardName;
    body.innerHTML = data.data.reward.description;
    value.innerHTML = _this.settings.lbWidget.settings.rewards.rewardFormatter(data.data.reward);
    claimBtn.dataset.id = data.data.id;

    if (data.data.claimed) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(claimBtn, 'cl-claimed');
      claimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claimed;
    } else {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(claimBtn, 'cl-claimed');
      claimBtn.innerHTML = _this.settings.lbWidget.settings.translation.rewards.claim;
    }

    if (typeof data.data.reward.icon !== 'undefined') {
      icon.innerHTML = '';

      var _image = new Image();

      var imageIconWrapper = document.createElement('div');
      imageIconWrapper.setAttribute('class', 'cl-reward-list-item-img-wrapper');

      _image.setAttribute('class', 'cl-reward-list-item-img');

      _image.src = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.assets.replace(':attachmentId', data.data.reward.icon);
      _image.alt = _this.settings.lbWidget.settings.rewards.rewardFormatter(data.data.reward);
      icon.appendChild(_image);
    } else {
      icon.innerHTML = "<span class='cl-place-holder-reward-image'></span>";
    }

    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(body, 'img'), function (img, key, count) {
      if (count === 0) {
        var newImg = img.cloneNode(true);
        image.innerHTML = '';
        image.appendChild(newImg);
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_7__["default"])(img);
      }
    });
    _this.settings.reward.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.reward.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.loadMessageDetails = function (data, callback) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.messages.detailsContainer, '.cl-main-widget-inbox-details-header-label');
    var body = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.messages.detailsContainer, '.cl-main-widget-inbox-details-body');
    label.innerHTML = data.data.subject;
    body.innerHTML = data.data.body;
    _this.settings.messages.detailsContainer.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.messages.detailsContainer, 'cl-show');
      if (typeof callback === 'function') callback();
    }, 50);
  };

  this.hideRewardDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.reward.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.reward.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.hideMessageDetails = function (callback) {
    var _this = this;

    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.messages.detailsContainer, 'cl-show');
    setTimeout(function () {
      _this.settings.messages.detailsContainer.style.display = 'none';
      if (typeof callback === 'function') callback();
    }, 200);
  };

  this.updateAchievementProgressionAndIssued = function (issued, progression) {
    var _this = this;

    var achList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-ach .cl-main-widget-ach-list-body-res');
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(achList, '.cl-ach-list-item'), function (ach) {
      var id = ach.dataset.id;
      var issuedStatus = issued.indexOf(id) !== -1;
      var perc = 0;
      window.mapObject(progression, function (pr) {
        if (pr.achievementId === id) {
          perc = (parseFloat(pr.goalPercentageComplete) * 100).toFixed(1);
        }
      });

      if (ach !== null) {
        var bar = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(ach, '.cl-ach-list-progression-bar');

        if (issuedStatus) {
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(bar, 'cl-ach-complete');
          bar.innerHTML = _this.settings.lbWidget.settings.translation.achievements.complete;
          bar.style.width = '100%';
        } else {
          bar.style.width = (perc > 1 || perc === 0 ? perc : 1) + '%';
        }
      }
    });
  };

  this.loadAchievements = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableAchievements(function (achievementData) {
      _this.achievementListLayout(achievementData);

      var idList = [];
      window.mapObject(_this.settings.lbWidget.settings.achievements.list, function (ach) {
        idList.push(ach.id);
      });
      setTimeout(function () {
        _this.settings.lbWidget.checkForMemberAchievementsIssued(function (issued) {
          _this.settings.lbWidget.checkForMemberAchievementsProgression(idList, function (progression) {
            _this.updateAchievementProgressionAndIssued(issued, progression);
          });
        });
      }, 400);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  this.rewardItem = function (rew) {
    var _this = this;

    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    listItem.setAttribute('class', 'cl-rew-list-item cl-rew-' + rew.id);
    detailsContainer.setAttribute('class', 'cl-rew-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-rew-list-details-wrap');
    label.setAttribute('class', 'cl-rew-list-details-label');
    description.setAttribute('class', 'cl-rew-list-details-description');
    listItem.dataset.id = rew.id;
    var labelText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(rew.subject);
    var descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(rew.body);

    if (typeof rew.prize !== 'undefined') {
      listItem.dataset.rewardId = rew.prize.id;
      labelText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(rew.subject + ' - ' + rew.prize.reward.rewardName + ' (' + _this.settings.lbWidget.settings.rewards.rewardFormatter(rew.prize.reward) + ')');
      descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(typeof rew.prize.reward.description !== 'undefined' && rew.prize.reward.description.length > 0 ? rew.prize.reward.description : rew.body);
    }

    label.innerHTML = labelText.length > 80 ? labelText.substr(0, 80) + '...' : labelText;
    description.innerHTML = descriptionText.length > 200 ? descriptionText.substr(0, 200) + '...' : descriptionText;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.messageItem = function (inbox) {
    // var _this = this;
    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    var content = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(inbox.body);
    listItem.setAttribute('class', 'cl-inbox-list-item cl-inbox-' + inbox.id);
    detailsContainer.setAttribute('class', 'cl-inbox-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-inbox-list-details-wrap');
    label.setAttribute('class', 'cl-inbox-list-details-label');
    description.setAttribute('class', 'cl-inbox-list-details-description');
    listItem.dataset.id = inbox.id;
    label.innerHTML = inbox.subject.length > 36 ? inbox.subject.substr(0, 36) + '...' : inbox.subject;
    description.innerHTML = content.length > 60 ? content.substr(0, 60) + '...' : content;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.tournamentItem = function (tournament) {
    // var _this = this;
    var listItem = document.createElement('div');
    var detailsContainer = document.createElement('div');
    var detailsWrapper = document.createElement('div');
    var label = document.createElement('div');
    var description = document.createElement('div');
    var descriptionContent = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_9__["default"])(tournament.description);
    listItem.setAttribute('class', 'cl-tour-list-item cl-tour-' + tournament.id);
    detailsContainer.setAttribute('class', 'cl-tour-list-details-cont');
    detailsWrapper.setAttribute('class', 'cl-tour-list-details-wrap');
    label.setAttribute('class', 'cl-tour-list-details-label');
    description.setAttribute('class', 'cl-tour-list-details-description');
    listItem.dataset.id = tournament.id;
    label.innerHTML = tournament.label;
    description.innerHTML = descriptionContent.length > 100 ? descriptionContent.substr(0, 100) + '...' : descriptionContent;
    detailsWrapper.appendChild(label);
    detailsWrapper.appendChild(description);
    detailsContainer.appendChild(detailsWrapper);
    listItem.appendChild(detailsContainer);
    return listItem;
  };

  this.rewardsListLayout = function (rewards, availableRewards, expiredRewards) {
    var _this = this;

    var rewardList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-reward .cl-main-widget-reward-list-body-res');

    var accordionObj = _this.accordionStyle(_this.settings.rewardsSection.accordionLayout, function (accordionSection, listContainer, topEntryContainer, layout) {
      var rewardData = _this.settings.lbWidget.settings.rewards[layout.type];

      if (typeof rewardData !== 'undefined') {
        if (rewardData.length === 0) {
          accordionSection.style.display = 'none';
        }

        window.mapObject(rewardData, function (rew, key, count) {
          if (count + 1 <= layout.showTopResults && Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(topEntryContainer, '.cl-reward-' + rew.id) === null) {
            var topEntryContaineRlistItem = _this.rewardItem(rew);

            topEntryContainer.appendChild(topEntryContaineRlistItem);
          }

          if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(listContainer, '.cl-reward-' + rew.id) === null) {
            var listItem = _this.rewardItem(rew);

            listContainer.appendChild(listItem);
          }
        });
      }
    });

    rewardList.innerHTML = '';
    rewardList.appendChild(accordionObj); // mapObject(rewardData, function(rew){
    //   if( query(rewardList, ".cl-reward-" + rew.id) === null ) {
    //     var listItem = _this.rewardItem(rew);
    //
    //     rewardList.appendChild(listItem);
    //   }
    // });
  };

  this.messagesListLayout = function (rewards, availableRewards, expiredRewards) {
    var _this = this;

    var messageList = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.section, '.cl-main-widget-section-inbox .cl-main-widget-inbox-list-body-res');
    messageList.innerHTML = '';
    window.mapObject(_this.settings.lbWidget.settings.messages.messages, function (inboxItem, key, count) {
      var listItem = _this.messageItem(inboxItem);

      messageList.appendChild(listItem);
    });
  };

  this.loadRewards = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableRewards(function (rewards, availableRewards, expiredRewards) {
      _this.rewardsListLayout(rewards, availableRewards, expiredRewards);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  this.loadMessages = function (callback) {
    var _this = this;

    _this.settings.lbWidget.checkForAvailableMessages(function (rewards, availableRewards, expiredRewards) {
      _this.messagesListLayout(rewards, availableRewards, expiredRewards);

      if (typeof callback === 'function') {
        callback();
      }
    });
  };

  var changeInterval;
  var changeContainerInterval;

  this.navigationSwitch = function (target, callback) {
    var _this = this;

    var preLoader = _this.preloader();

    if (_this.settings.navigationSwitchInProgress && _this.settings.navigationSwitchLastAtempt + 3000 < new Date().getTime()) {
      _this.settings.navigationSwitchInProgress = false;
    }

    if (!_this.settings.navigationSwitchInProgress) {
      _this.settings.navigationSwitchInProgress = true;
      _this.settings.navigationSwitchLastAtempt = new Date().getTime();

      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target.parentNode, 'cl-active-nav')) {
        preLoader.show(function () {
          if (changeInterval) clearTimeout(changeInterval);
          if (changeContainerInterval) clearTimeout(changeContainerInterval);
          Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-active-nav'), function (obj) {
            Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-active-nav');
          });
          Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-active-section'), function (obj) {
            Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-main-active-section');
            setTimeout(function () {
              obj.style.display = 'none';
            }, 150);
          });
          changeContainerInterval = setTimeout(function () {
            if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-lb-icon')) {
              _this.loadLeaderboard(function () {
                var lbContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-lb');
                lbContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(lbContainer, 'cl-main-active-section');
                }, 30);

                if (typeof callback === 'function') {
                  callback();
                }

                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-ach-icon')) {
              _this.loadAchievements(function () {
                var achContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-section-ach');
                _this.settings.achievement.detailsContainer.style.display = 'none';
                achContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(achContainer, 'cl-main-active-section');

                  if (typeof callback === 'function') {
                    callback();
                  }
                }, 30);
                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-rewards-icon')) {
              _this.loadRewards(function () {
                var rewardsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-section-reward');
                rewardsContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(rewardsContainer, 'cl-main-active-section');
                }, 30);

                if (typeof callback === 'function') {
                  callback();
                }

                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            } else if (Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(target, 'cl-main-widget-navigation-inbox-icon')) {
              _this.loadMessages(function () {
                var inboxContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-section-inbox');
                inboxContainer.style.display = 'block';
                changeInterval = setTimeout(function () {
                  Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(inboxContainer, 'cl-main-active-section');
                }, 30);
                preLoader.hide();
                _this.settings.navigationSwitchInProgress = false;
              });
            }
          }, 250);
          Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(target.parentNode, 'cl-active-nav');
        });
      } else if (typeof callback === 'function') {
        _this.settings.navigationSwitchInProgress = false;
        callback();
      }
    }
  };

  this.resetNavigation = function (callback) {
    var _this = this;

    var lbContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-widget-lb');
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-active-nav'), function (obj) {
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-active-nav');
    });
    Object(_utils_objectIterator__WEBPACK_IMPORTED_MODULE_3__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-section-container .cl-main-active-section'), function (obj) {
      obj.style.display = 'none';
      Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_2__["default"])(obj, 'cl-main-active-section');
    });
    Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, '.cl-main-widget-navigation-items .cl-main-widget-navigation-lb'), 'cl-active-nav');
    setTimeout(function () {
      lbContainer.style.display = 'block';
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(lbContainer, 'cl-main-active-section');
        if (typeof callback !== 'undefined') callback();
      }, 30);
    }, 40);
  };

  this.initLayout = function (callback) {
    var _this = this;

    _this.settings.active = true;

    _this.loadLeaderboard();

    _this.settings.container.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.container, 'cl-show');
      var member = Object(_utils_query__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.leaderboard.list, '.cl-lb-member-row');

      if (member !== null) {
        _this.missingMember(_this.isElementVisibleInView(member, _this.settings.leaderboard.list.parentNode));
      }

      _this.resetNavigation(callback);
    }, 30);
  };
};

/***/ }),

/***/ "./src/javascript/modules/Messaging.js":
/*!*********************************************!*\
  !*** ./src/javascript/modules/Messaging.js ***!
  \*********************************************/
/*! exports provided: Messaging */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Messaging", function() { return Messaging; });
/* harmony import */ var _cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cLabs */ "./src/javascript/modules/cLabs.js");

/**
 * SSE Messaging
 * @param options
 * @constructor
 */

var Messaging = function Messaging(options) {
  this.settings = {
    source: null,
    ajax: {
      url: null,
      apiKey: undefined,
      errorCallback: function errorCallback() {}
    },
    sseUrl: null,
    heartbeat: null,
    lastHeartbeat: null,
    mainAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax(),
    heartBeatAjax: new _cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].Ajax(),
    heartWaitTime: 25000,
    messageQueue: [],
    messageInterval: 1000,
    startupCheck: true,
    active: false,
    debug: false,
    callback: function callback(data) {},
    onStartupError: function onStartupError() {}
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.intervalInstance = null;
  this.heartbeatIntervalInstance = null;

  this.lookupData = function () {
    var _this = this;

    if (_this.settings.messageQueue.length > 0) {
      var data = _this.settings.messageQueue[0];

      var index = _this.settings.messageQueue.indexOf(data);

      if (index > -1) {
        _this.settings.messageQueue.splice(index, 1);
      }

      if (typeof _this.settings.ajax.url === 'string' && _this.settings.ajax.url.length > 0) {
        _this.getData(data);
      } else {
        _this.settings.callback(data);
      }
    }
  };

  this.setInterval = function () {
    var _this = this;

    _this.intervalInstance = setInterval(function () {
      _this.lookupData();
    }, _this.settings.messageInterval);

    if (_this.settings.heartbeat !== null) {
      _this.settings.lastHeartbeat = new Date();
      _this.heartbeatIntervalInstance = setInterval(function () {
        var currentTime = new Date();
        var diff = _this.settings.lastHeartbeat.getTime() - currentTime.getTime();

        if (_this.settings.source.readyState === 0 && diff > _this.settings.heartWaitTime) {
          _this.closeChanel();
        }

        _this.hearBeatCheck();
      }, _this.settings.heartWaitTime);
    }
  };
  /**
   * Request a heartbeat
   * - if the request is failing close the connection
   * - if the request is successful but the connection is closed reopen and call for a heartbeat again
   */


  this.hearBeatCheck = function () {
    var _this = this;

    var dataObj = {
      url: _this.settings.heartbeat,
      headers: _this.settings.ajax.apiKey,
      type: 'GET',
      success: function success(response, dataObject, xhr) {
        if (xhr.status !== 200 && _this.settings.source.readyState === 0) {
          if (_this.settings.debug) console.log('[Msg] SSE Closing connection');

          _this.closeChanel();
        } else if (xhr.status === 200 && _this.settings.source.readyState === 2) {
          if (_this.settings.debug) console.log('[Msg] SSE Trying to re-open the connection');

          _this.openChanel();

          setTimeout(function () {
            _this.hearBeatCheck();
          }, 200);
        }
      }
    };

    if (typeof _this.settings.ajax.apiKey !== 'undefined') {
      dataObj.headers = _this.settings.ajax.apiKey;
    }

    _this.settings.heartBeatAjax.abort().getData(dataObj);
  };

  this.getData = function () {
    var _this = this;

    var dataObj = {
      url: _this.settings.ajax.url,
      type: 'GET',
      success: function success(response, dataObject, xhr) {
        var json = {};

        try {
          json = JSON.parse(response);
        } catch (e) {
          if (_this.settings.debug) console.log(e, _this.settings);
        }

        if (xhr.status === 200) {
          _this.settings.callback(json);
        } else {
          _this.settings.ajax.errorCallback(json);
        }
      }
    };

    if (typeof _this.settings.ajax.apiKey !== 'undefined') {
      dataObj.headers = _this.settings.ajax.apiKey;
    }

    _this.settings.mainAjax.abort().getData(dataObj);
  };

  this.openChanel = function () {
    var _this = this;

    _this.settings.source = new EventSource(_this.settings.sseUrl, {
      withCredentials: true
    });

    _this.serverSideEventListeners(_this.settings.source);
  };

  this.serverSideEventListeners = function (source) {
    var _this = this;

    source.addEventListener('open', function (e) {
      _this.settings.active = true;
      if (_this.settings.debug) console.log('[Msg] connection opened', e);
    }, false);
    source.addEventListener('message', function (e) {
      if (_this.settings.debug) {
        console.log('[Msg] message check', _this.settings.sseUrl);
        console.log(e.data);
      }

      var data = e.data;
      var json = null;

      try {
        json = JSON.parse(data);
      } catch (e) {}

      if (_this.settings.heartbeat !== null) {
        _this.settings.lastHeartbeat = new Date();
      }

      if (json !== null && typeof json.heartbeat === 'undefined') {
        _this.settings.messageQueue.push(json);
      }
    }, false);
    source.addEventListener('error', function (e) {
      if (_this.settings.debug) {
        console.log('[Msg] error check', _this.settings.sseUrl);
      }
      /* eslint eqeqeq: "off" */


      if (e.readyState == EventSource.CLOSED) {
        if (_this.settings.debug) console.warn('[Msg] connection closed', e);
      } else {
        if (_this.settings.debug) console.log(e, e.readyState);
      }

      _this.closeChanel();

      _this.settings.startupCheck = false;
    }, false);
  };

  this.closeChanel = function () {
    this.settings.active = false;
    this.settings.source.close();
  };

  this.sseFailed = function () {
    var _this = this;

    _this.settings.heartbeat = null;
    _this.settings.active = false;

    if (_this.heartbeatIntervalInstance !== null) {
      clearInterval(_this.heartbeatIntervalInstance);
    }

    _this.settings.onStartupError(_this.settings);
  };

  this.windowActivity = function () {
    var _this = this;

    (function () {
      var hidden = 'hidden'; // Standards:

      if (hidden in document) {
        document.addEventListener('visibilitychange', onchange);
      } else if ((hidden = 'mozHidden') in document) {
        document.addEventListener('mozvisibilitychange', onchange);
      } else if ((hidden = 'webkitHidden') in document) {
        document.addEventListener('webkitvisibilitychange', onchange);
      } else if ((hidden = 'msHidden') in document) {
        document.addEventListener('msvisibilitychange', onchange);
      } else if ('onfocusin' in document) {
        // IE 9 and lower:
        document.onfocusin = document.onfocusout = onchange;
      } else {
        // All others:
        window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;
      }

      function onchange(evt) {
        var status = '';
        var v = 'visible';
        var h = 'hidden';
        var evtMap = {
          focus: v,
          focusin: v,
          pageshow: v,
          blur: h,
          focusout: h,
          pagehide: h
        };
        evt = evt || window.event;

        if (evt.type in evtMap) {
          status = evtMap[evt.type];
        } else {
          status = this[hidden] ? 'hidden' : 'visible';
        }

        if (status === 'visible' && _this.settings.source.readyState !== 0 && _this.settings.source.readyState !== 1) {
          _this.openChanel();
        } else if (status === 'hidden' && (_this.settings.source.readyState === 0 || _this.settings.source.readyState === 1)) {
          _this.closeChanel();
        }
      } // set the initial state (but only if browser supports the Page Visibility API)


      if (document[hidden] !== undefined) {
        onchange({
          type: document[hidden] ? 'blur' : 'focus'
        });
      }
    })();
  };

  this.init = function () {
    var _this = this;

    try {
      if (_this.settings.debug) console.log('[Msg] SSE starting', _this.settings.sseUrl, new Date());

      _this.openChanel();

      if (_this.settings.debug) console.log('[Msg] SSE started', _this.settings.sseUrl, new Date(), _this.settings.source.readyState);

      _this.setInterval();

      _this.windowActivity();

      setTimeout(function () {
        if (!_this.settings.startupCheck) {
          console.log('sse failed');

          _this.sseFailed();
        }
      }, 2000);
      window.addEventListener('unload', function (event) {
        if (_this.settings.debug) console.log('[Msg] closing messaging service', new Date());

        _this.settings.source.close();

        _this.settings.active = false;

        _this.settings.heartBeatAjax.abort();

        if (_this.intervalInstance) {
          clearInterval(_this.intervalInstance);
        }
      });
      window.addEventListener('beforeunload', function (event) {
        if (_this.settings.debug) console.log('[Msg] closing messaging service');

        _this.settings.source.close();

        _this.settings.heartBeatAjax.abort();

        if (_this.intervalInstance) {
          clearInterval(_this.intervalInstance);
        }
      });
    } catch (e) {
      if (_this.settings.debug) console.log('EventSource failed');

      _this.sseFailed();
    }
  };

  this.init();
};

/***/ }),

/***/ "./src/javascript/modules/MiniScoreBoard.js":
/*!**************************************************!*\
  !*** ./src/javascript/modules/MiniScoreBoard.js ***!
  \**************************************************/
/*! exports provided: MiniScoreBoard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiniScoreBoard", function() { return MiniScoreBoard; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");
/* harmony import */ var _utils_hasClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_remove__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/remove */ "./src/javascript/utils/remove.js");
/* harmony import */ var _dragElement__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dragElement */ "./src/javascript/modules/dragElement.js");







var MiniScoreBoard = function MiniScoreBoard(options) {
  this.settings = {
    lbWidget: null,
    container: null,
    overlayContainer: null,
    infoContainer: null,
    updateInterval: null,
    updateIntervalTime: 1000,
    active: false,
    enableDragging: true,
    dragging: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.layout = function () {
    var wrapper = document.createElement('div');
    var iconWrapper = document.createElement('div');
    var icon = document.createElement('div');
    var informationWrapper = document.createElement('div');
    var informationTopWrapper = document.createElement('div');
    var informationWrapperClose = document.createElement('div');
    var informationClose = document.createElement('a');
    wrapper.setAttribute('class', 'cl-widget-ms-wrapper');
    iconWrapper.setAttribute('class', 'cl-widget-ms-icon-wrapper');
    icon.setAttribute('class', 'cl-widget-ms-icon');
    informationTopWrapper.setAttribute('class', 'cl-widget-ms-information-top-wrapper');
    informationWrapper.setAttribute('class', 'cl-widget-ms-information-wrapper');
    informationWrapperClose.setAttribute('class', 'cl-widget-ms-information-close-wrapper');
    informationClose.setAttribute('class', 'cl-widget-ms-information-close');
    informationClose.href = 'javascript:void(0);';
    informationClose.innerHTML = 'x';
    informationWrapperClose.appendChild(informationClose);
    informationWrapper.appendChild(informationWrapperClose);
    informationTopWrapper.appendChild(informationWrapper);
    iconWrapper.appendChild(icon);
    wrapper.appendChild(iconWrapper);
    wrapper.appendChild(informationTopWrapper);
    return wrapper;
  };

  this.overlayLayout = function () {
    var wrapper = document.createElement('div');
    wrapper.setAttribute('class', 'cl-widget-ms-overlay-wrapper');
    return wrapper;
  };

  this.timeManagement = function () {
    var _this = this;

    var diff = 0;
    var label = '';
    var date = '';
    var dateObj = '';
    var inverse = false;

    if (_this.settings.lbWidget.settings.competition.activeContest !== null) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      label = _this.settings.lbWidget.settings.translation.miniLeaderboard.startsIn;
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
      dateObj = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
      inverse = false;

      if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.starting;
        date = '';
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
        diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
        dateObj = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
        label = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.finishing;
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
        label = _this.settings.lbWidget.settings.translation.miniLeaderboard.finished;
        date = _this.settings.lbWidget.settings.translation.miniLeaderboard.rank;
        inverse = true;
      }
    }

    return {
      label: label,
      diff: diff,
      date: date,
      dateObj: dateObj,
      inverse: inverse
    };
  };

  this.layoutDefaultOrEmptyEntry = function () {
    var lbResultsMemEntry = document.createElement('div');
    var lbResultsMemLabel = document.createElement('div');
    var lbResultsMemRank = document.createElement('div');
    var lbResultsMemIcon = document.createElement('div');
    var lbResultsMemImg = document.createElement('img');
    var lbResultsMemPoints = document.createElement('div');
    lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-default-mem-entry');
    lbResultsMemLabel.setAttribute('class', 'cl-widget-ms-default-mem-label');
    lbResultsMemRank.setAttribute('class', 'cl-widget-ms-default-mem-rank');
    lbResultsMemIcon.setAttribute('class', 'cl-widget-ms-default-mem-icon');
    lbResultsMemImg.setAttribute('class', 'cl-widget-ms-default-mem-img');
    lbResultsMemImg.style.display = 'none';
    lbResultsMemPoints.setAttribute('class', 'cl-widget-ms-default-mem-points');
    lbResultsMemEntry.appendChild(lbResultsMemLabel);
    lbResultsMemEntry.appendChild(lbResultsMemRank);
    lbResultsMemIcon.appendChild(lbResultsMemImg);
    lbResultsMemEntry.appendChild(lbResultsMemIcon);
    lbResultsMemEntry.appendChild(lbResultsMemPoints);
    return lbResultsMemEntry;
  };

  this.layoutFirstToOrEmptyEntry = function () {
    var lbResultsMemEntry = document.createElement('div');
    var lbResultsMemLabel = document.createElement('div');
    var lbResultsMemRank = document.createElement('div');
    var lbResultsMemIcon = document.createElement('div');
    var lbResultsMemImg = document.createElement('img');
    var lbResultsMemPoints = document.createElement('div');
    lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-first-to-mem-entry');
    lbResultsMemLabel.setAttribute('class', 'cl-widget-ms-first-to-mem-label');
    lbResultsMemRank.setAttribute('class', 'cl-widget-ms-first-to-mem-rank');
    lbResultsMemIcon.setAttribute('class', 'cl-widget-ms-first-to-mem-icon');
    lbResultsMemImg.setAttribute('class', 'cl-widget-ms-first-to-mem-img');
    lbResultsMemImg.style.display = 'none';
    lbResultsMemPoints.setAttribute('class', 'cl-widget-ms-first-to-mem-points');
    lbResultsMemEntry.appendChild(lbResultsMemLabel);
    lbResultsMemEntry.appendChild(lbResultsMemRank);
    lbResultsMemIcon.appendChild(lbResultsMemImg);
    lbResultsMemEntry.appendChild(lbResultsMemIcon);
    lbResultsMemEntry.appendChild(lbResultsMemPoints);
    return lbResultsMemEntry;
  }; // let testLive = false;


  this.layoutDefaultOrEmpty = function () {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var dateObj = timeManagement.dateObj;
    var wrapperDomObj = _this.settings.infoContainer;
    var defaultDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    var inverse = timeManagement.inverse;

    if (defaultDomObj === null) {
      _this.removeUnusedElements();

      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-ms-default-style');
      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsList = document.createElement('div');
      var lbHeaders = document.createElement('div');
      var lbHeadersRank = document.createElement('div');
      var lbHeadersPoints = document.createElement('div');

      var lbResultsMemEntry = _this.layoutDefaultOrEmptyEntry();

      var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-img');
      lbWrapper.setAttribute('class', 'cl-widget-ms-default-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-default-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-default-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-default-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-default-results-wrapper');
      lbResultsList.setAttribute('class', 'cl-widget-ms-default-results-list');
      lbHeaders.setAttribute('class', 'cl-widget-ms-default-results-headers');
      lbHeadersRank.setAttribute('class', 'cl-widget-ms-default-results-header-rank');
      lbHeadersPoints.setAttribute('class', 'cl-widget-ms-default-results-header-points');
      lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-default-mem-entry'); // lbDateLabel.innerHTML = label;

      lbDate.innerHTML = dateObj;
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-rank').innerHTML = '--';
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-default-mem-points').innerHTML = '--';
      img.src = '';
      img.alt = '';
      img.style.display = 'block';
      lbHeadersRank.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
      lbHeadersPoints.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;
      lbHeaders.appendChild(lbHeadersRank);
      lbHeaders.appendChild(lbHeadersPoints);
      lbResultsList.appendChild(lbResultsMemEntry);
      lbResultsWrapper.appendChild(lbHeaders);
      lbResultsWrapper.appendChild(lbResultsList);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      defaultDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date').innerHTML = date;
    }

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if ((lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) && typeof lbEntry.rankings !== 'undefined') {
        var scoreArea = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(defaultDomObj, '.cl-widget-ms-default-results-list');
        scoreArea.innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-label').innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date').innerHTML = dateObj;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-date-wrapper'), 'cl-widget-ms-default-date-only');
        window.mapObject(lbEntry.rankings, function (lbRankingEntry) {
          var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lbRankingEntry.memberId);

          var lbWrapper = _this.layoutDefaultOrEmptyEntry();

          var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-img');
          var selfMember = lbRankingEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbRankingEntry.memberId === _this.settings.lbWidget.settings.memberId;
          img.src = icon;
          img.alt = '';
          img.style.display = 'block';

          if (selfMember) {
            Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(lbWrapper, 'cl-widget-ms-default-mem-self');
          }

          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-label').innerHTML = selfMember ? 'YOU' : '';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-rank').innerHTML = "<span class='cl-mem-rank-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.rank + "</span><span class='cl-mem-rank'>" + lbRankingEntry.rank + '</span>';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-default-mem-points').innerHTML = "<span class='cl-mem-points-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.points + "</span><span class='cl-mem-points'>" + lbRankingEntry.points + '</span>';
          scoreArea.appendChild(lbWrapper);
        }); // testLive = true;
        //  var lastScore = query(_this.settings.container, ".cl-widget-ms-default-last-score").innerHTML,
        //  highScore = query(_this.settings.container, ".cl-widget-ms-default-high-score").innerHTML,
        //  rank = query(_this.settings.container, ".cl-widget-ms-default-rank-value"),
        //  change = (lbEntry.change < 0) ? "down" : ( lbEntry.change > 0 ? "up" : "same" ),
        //  rankValue = lbEntry.rank;
        //
        // if( lastScore !== String(lbEntry.points) && String(lbEntry.points) !== highScore ){
        //  query(_this.settings.container, ".cl-widget-ms-default-last-score").innerHTML = highScore;
        // }
        //
        // query(_this.settings.container, ".cl-widget-ms-default-high-score").innerHTML = lbEntry.points;
        //
        // removeClass(rank, "cl-ms-rank-up");
        // removeClass(rank, "cl-ms-rank-down");
        // removeClass(rank, "cl-ms-rank-same");
        //
        // addClass(rank, "cl-ms-rank-" + change);
        //
        // rank.innerHTML = rankValue;
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(defaultDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(defaultDomObj, 'cl-inverse');
    }
  };

  this.layoutFirstToOrEmpty = function (strategy) {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var dateObj = timeManagement.dateObj;
    var wrapperDomObj = _this.settings.infoContainer;
    var defaultDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-wrapper');
    var inverse = timeManagement.inverse;

    if (defaultDomObj === null) {
      _this.removeUnusedElements();

      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-ms-first-to-style');
      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsList = document.createElement('div');
      var lbHeaders = document.createElement('div');
      var lbHeadersRank = document.createElement('div');
      var lbHeadersPoints = document.createElement('div');

      var lbResultsMemEntry = _this.layoutFirstToOrEmptyEntry();

      var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-img');
      lbWrapper.setAttribute('class', 'cl-widget-ms-first-to-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-first-to-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-first-to-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-first-to-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-first-to-results-wrapper');
      lbResultsList.setAttribute('class', 'cl-widget-ms-first-to-results-list');
      lbHeaders.setAttribute('class', 'cl-widget-ms-first-to-results-headers');
      lbHeadersRank.setAttribute('class', 'cl-widget-ms-first-to-results-header-rank');
      lbHeadersPoints.setAttribute('class', 'cl-widget-ms-first-to-results-header-points');
      lbResultsMemEntry.setAttribute('class', 'cl-widget-ms-first-to-mem-entry'); // lbDateLabel.innerHTML = label;

      lbDate.innerHTML = dateObj;
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-rank').innerHTML = '--';
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbResultsMemEntry, '.cl-widget-ms-first-to-mem-points').innerHTML = '--/' + strategy.recordTimeWhenSumReaches;
      img.src = '';
      img.alt = '';
      img.style.display = 'block';
      lbHeadersRank.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.rank;
      lbHeadersPoints.innerHTML = _this.settings.lbWidget.settings.translation.leaderboard.points;
      lbHeaders.appendChild(lbHeadersRank);
      lbHeaders.appendChild(lbHeadersPoints);
      lbResultsList.appendChild(lbResultsMemEntry);
      lbResultsWrapper.appendChild(lbHeaders);
      lbResultsWrapper.appendChild(lbResultsList);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      defaultDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date').innerHTML = date;
    }

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if ((lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) && typeof lbEntry.rankings !== 'undefined') {
        var scoreArea = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(defaultDomObj, '.cl-widget-ms-first-to-results-list');
        scoreArea.innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-label').innerHTML = '';
        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date').innerHTML = dateObj;
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-date-wrapper'), 'cl-widget-ms-first-to-date-only');
        window.mapObject(lbEntry.rankings, function (lbRankingEntry) {
          var icon = _this.settings.lbWidget.populateIdenticonBase64Image(lbRankingEntry.memberId);

          var lbWrapper = _this.layoutFirstToOrEmptyEntry();

          var img = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-img');
          var selfMember = lbRankingEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbRankingEntry.memberId === _this.settings.lbWidget.settings.memberId;

          if (selfMember) {
            Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(lbWrapper, 'cl-widget-ms-first-to-mem-self');
          }

          img.src = icon;
          img.alt = '';
          img.style.display = 'block';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-label').innerHTML = selfMember ? 'YOU' : '';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-rank').innerHTML = "<span class='cl-mem-rank-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.rank + "</span><span class='cl-mem-rank'>" + lbRankingEntry.rank + '</span>';
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(lbWrapper, '.cl-widget-ms-first-to-mem-points').innerHTML = "<span class='cl-mem-points-label'>" + _this.settings.lbWidget.settings.translation.leaderboard.points + "</span><span class='cl-mem-points'>" + lbRankingEntry.points + '/' + strategy.recordTimeWhenSumReaches + '</span>';
          scoreArea.appendChild(lbWrapper);
        });
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(defaultDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(defaultDomObj, 'cl-inverse');
    }
  };

  this.layoutSumBestOf = function () {
    var _this = this;

    var timeManagement = _this.timeManagement(); // var diff = timeManagement.diff;


    var label = timeManagement.label;
    var date = timeManagement.date;
    var wrapperDomObj = _this.settings.infoContainer;
    var sumBestDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-wrapper');
    var inverse = timeManagement.inverse;

    if (sumBestDomObj === null) {
      _this.removeUnusedElements();

      var lbWrapper = document.createElement('div');
      var lbDateWrapper = document.createElement('div');
      var lbDateLabel = document.createElement('div');
      var lbDate = document.createElement('div');
      var lbResultsWrapper = document.createElement('div');
      var lbResultsScoreArea = document.createElement('div');
      var lbResultsScoreAreaHigh = document.createElement('div');
      var lbResultsScoreAreaHighLabel = document.createElement('div');
      var lbResultsScoreAreaHighScore = document.createElement('div');
      var lbResultsScoreAreaLast = document.createElement('div');
      var lbResultsScoreAreaLastLabel = document.createElement('div');
      var lbResultsScoreAreaLastScore = document.createElement('div');
      var lbResultsRankArea = document.createElement('div');
      var lbResultsRankValue = document.createElement('span');
      lbWrapper.setAttribute('class', 'cl-widget-ms-sum-best-wrapper');
      lbDateLabel.setAttribute('class', 'cl-widget-ms-sum-best-date-label');
      lbDate.setAttribute('class', 'cl-widget-ms-sum-best-date');
      lbDateWrapper.setAttribute('class', 'cl-widget-ms-sum-best-date-wrapper');
      lbResultsWrapper.setAttribute('class', 'cl-widget-ms-sum-best-results-wrapper');
      lbResultsScoreArea.setAttribute('class', 'cl-widget-ms-sum-best-area');
      lbResultsScoreAreaHigh.setAttribute('class', 'cl-widget-ms-sum-best-high-area');
      lbResultsScoreAreaHighLabel.setAttribute('class', 'cl-widget-ms-sum-best-high-label');
      lbResultsScoreAreaHighScore.setAttribute('class', 'cl-widget-ms-sum-best-high-score');
      lbResultsScoreAreaLast.setAttribute('class', 'cl-widget-ms-sum-best-last-area');
      lbResultsScoreAreaLastLabel.setAttribute('class', 'cl-widget-ms-sum-best-last-label');
      lbResultsScoreAreaLastScore.setAttribute('class', 'cl-widget-ms-sum-best-last-score');
      lbResultsRankArea.setAttribute('class', 'cl-widget-ms-sum-best-rank-area');
      lbResultsRankValue.setAttribute('class', 'cl-widget-ms-sum-best-rank-value');
      lbDateLabel.innerHTML = label;
      lbDate.innerHTML = date;
      lbResultsScoreAreaHighLabel.innerHTML = _this.settings.lbWidget.settings.translation.miniLeaderboard.highScore;
      lbResultsScoreAreaHighScore.innerHTML = '--';
      lbResultsScoreAreaHigh.appendChild(lbResultsScoreAreaHighLabel);
      lbResultsScoreAreaHigh.appendChild(lbResultsScoreAreaHighScore);
      lbResultsScoreArea.appendChild(lbResultsScoreAreaHigh);
      lbResultsScoreAreaLastLabel.innerHTML = _this.settings.lbWidget.settings.translation.miniLeaderboard.lastScore;
      lbResultsScoreAreaLastScore.innerHTML = '--';
      lbResultsScoreAreaLast.appendChild(lbResultsScoreAreaLastLabel);
      lbResultsScoreAreaLast.appendChild(lbResultsScoreAreaLastScore);
      lbResultsScoreArea.appendChild(lbResultsScoreAreaLast);
      lbResultsRankValue.innerHTML = '--';
      lbResultsRankArea.appendChild(lbResultsRankValue);
      lbResultsWrapper.appendChild(lbResultsScoreArea);
      lbResultsWrapper.appendChild(lbResultsRankArea);
      lbDateWrapper.appendChild(lbDateLabel);
      lbDateWrapper.appendChild(lbDate);
      lbWrapper.appendChild(lbDateWrapper);
      lbWrapper.appendChild(lbResultsWrapper);
      sumBestDomObj = wrapperDomObj.appendChild(lbWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-date').innerHTML = date;
    }

    window.mapObject(_this.settings.lbWidget.settings.leaderboard.leaderboardData, function (lbEntry) {
      if (lbEntry.memberRefId === _this.settings.lbWidget.settings.memberId || lbEntry.memberId === _this.settings.lbWidget.settings.memberId) {
        var lastScore = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-last-score').innerHTML;
        var highScore = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-high-score').innerHTML;
        var rank = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-rank-value');
        var change = lbEntry.change < 0 ? 'down' : lbEntry.change > 0 ? 'up' : 'same';
        var rankValue = lbEntry.rank;

        if (lastScore !== String(lbEntry.points) && String(lbEntry.points) !== highScore) {
          Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-last-score').innerHTML = highScore;
        }

        Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-high-score').innerHTML = lbEntry.points;
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(rank, 'cl-ms-rank-up');
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(rank, 'cl-ms-rank-down');
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(rank, 'cl-ms-rank-same');
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(rank, 'cl-ms-rank-' + change);
        rank.innerHTML = rankValue;
      }
    });

    if (inverse && !Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(sumBestDomObj, 'cl-inverse')) {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(sumBestDomObj, 'cl-inverse');
    }
  };

  this.layoutRequiresOptIn = function () {
    var _this = this;

    var diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeCompetition.scheduledStart).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
    var label = 'Starting In';
    var wrapperDomObj = _this.settings.infoContainer;

    var date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));

    if (diff < 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode === 0) {
      label = 'starting';
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode > 0 && _this.settings.lbWidget.settings.competition.activeContest.statusCode < 3) {
      diff = moment__WEBPACK_IMPORTED_MODULE_0___default()(_this.settings.lbWidget.settings.competition.activeContest.scheduledEnd).diff(moment__WEBPACK_IMPORTED_MODULE_0___default()());
      label = 'started';
      date = _this.settings.lbWidget.formatDateTime(moment__WEBPACK_IMPORTED_MODULE_0___default.a.duration(diff));
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode === 3) {
      label = 'finishing';
      date = '';
    } else if (_this.settings.lbWidget.settings.competition.activeContest.statusCode >= 4) {
      label = 'finished';
      date = '';
    }

    if (Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-wrapper') === null) {
      _this.removeUnusedElements();

      var optInWrapper = document.createElement('div');
      var optInDateWrapper = document.createElement('div');
      var optInDateLabel = document.createElement('div');
      var optInDate = document.createElement('div');
      var optInDateActionWrapper = document.createElement('div');
      var optInDateAction = document.createElement('a');
      optInWrapper.setAttribute('class', 'cl-widget-ms-optin-wrapper');
      optInDateLabel.setAttribute('class', 'cl-widget-ms-optin-date-label');
      optInDate.setAttribute('class', 'cl-widget-ms-optin-date');
      optInDateWrapper.setAttribute('class', 'cl-widget-ms-optin-date-wrapper');
      optInDateActionWrapper.setAttribute('class', 'cl-widget-ms-optin-action-wrapper');
      optInDateAction.setAttribute('class', 'cl-widget-ms-optin-action');
      optInDateLabel.innerHTML = label;
      optInDate.innerHTML = date;
      optInDateAction.innerHTML = _this.settings.lbWidget.settings.translation.tournaments.enter;
      optInDateWrapper.appendChild(optInDateLabel);
      optInDateWrapper.appendChild(optInDate);
      optInDateActionWrapper.appendChild(optInDateAction);
      optInWrapper.appendChild(optInDateWrapper);
      optInWrapper.appendChild(optInDateActionWrapper);
      wrapperDomObj.appendChild(optInWrapper);
      setTimeout(function () {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }, 200);
    } else {
      if (!Object(_utils_hasClass__WEBPACK_IMPORTED_MODULE_3__["default"])(wrapperDomObj, 'cl-show')) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(wrapperDomObj, 'cl-show');
      }

      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-date-label').innerHTML = label;
      Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-date').innerHTML = date;
    }
  };

  this.removeUnusedElements = function () {
    var _this = this;

    var defaultLayoutWrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    var optInWrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-optin-wrapper');
    var sumBestDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-sum-best-wrapper');
    var firstToDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-first-to-wrapper');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-default-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-optin-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-sum-best-style');
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-ms-first-to-style');

    if (defaultLayoutWrapperDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(defaultLayoutWrapperDomObj);
    }

    if (optInWrapperDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(optInWrapperDomObj);
    }

    if (sumBestDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(sumBestDomObj);
    }

    if (firstToDomObj !== null) {
      Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(firstToDomObj);
    }
  };

  this.clearAll = function () {
    var _this = this;

    if (_this.settings.updateInterval) {
      clearTimeout(_this.settings.updateInterval);
    }

    _this.removeInfoArea();

    _this.settings.active = false;
  };

  this.removeInfoArea = function () {
    var _this = this;

    var wrapperDomObj = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-show');
    var layout = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-default-wrapper');
    if (wrapperDomObj !== null) Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(wrapperDomObj, 'cl-show');

    if (layout !== null) {
      setTimeout(function () {
        Object(_utils_remove__WEBPACK_IMPORTED_MODULE_5__["default"])(layout);
      }, 300);
    }
  };

  this.updateScoreBoard = function () {
    var _this = this;

    if (_this.settings.updateInterval) {
      clearTimeout(_this.settings.updateInterval);
    }

    _this.settings.updateInterval = setTimeout(function () {
      _this.loadInfoArea(function () {
        _this.updateScoreBoard();
      });
    }, _this.settings.updateIntervalTime);
  };

  this.loadInfoArea = function (callback) {
    var _this = this;

    if (_this.settings.active && _this.settings.lbWidget.settings.competition.activeCompetition !== null && _this.settings.lbWidget.settings.competition.activeCompetition.statusCode < 7) {
      if (typeof _this.settings.lbWidget.settings.competition.activeCompetition.optin === 'boolean' && !_this.settings.lbWidget.settings.competition.activeCompetition.optin) {
        _this.layoutRequiresOptIn();

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContest !== null && _this.settings.lbWidget.settings.competition.activeContest.strategy.type === 'SumBest') {
        _this.layoutSumBestOf();

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContest !== null && _this.settings.lbWidget.settings.competition.activeContest.strategy.type === 'FirstTo') {
        _this.layoutFirstToOrEmpty(_this.settings.lbWidget.settings.competition.activeContest.strategy);

        callback();
      } else if (_this.settings.lbWidget.settings.competition.activeContestId !== null) {
        _this.layoutDefaultOrEmpty();

        callback();
      } else {
        _this.layoutDefaultOrEmpty();
      }
    } else {
      _this.clearAll();
    }
  };

  this.eventListeners = function () {
    var _this = this;

    Object(_dragElement__WEBPACK_IMPORTED_MODULE_6__["default"])(_this.settings.container, Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-icon'), _this.settings.overlayContainer, _this.settings.lbWidget.settings.bindContainer, function (newTop, newLeft) {
      _this.settings.lbWidget.stopActivity();

      if (newTop <= 5) {
        Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, 'cl-vertical-mini');
      } else if (newLeft <= 5) {
        Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.settings.container, 'cl-vertical-mini');
      }

      _this.settings.dragging = true;
    }, function () {
      _this.settings.lbWidget.restartActivity();

      setTimeout(function () {
        _this.settings.dragging = false;
      }, 200);
    }, function () {
      _this.settings.lbWidget.clickedMiniScoreBoard();
    });
  };

  this.initLayout = function (callback) {
    var _this = this;

    if (_this.settings.container === null) {
      _this.settings.active = true;
      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layout());
      _this.settings.overlayContainer = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.overlayLayout());
      _this.settings.infoContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_1__["default"])(_this.settings.container, '.cl-widget-ms-information-wrapper');

      _this.eventListeners();
    }

    if (typeof callback === 'function') {
      callback();
    }
  };

  this.loadScoreBoard = function () {
    var _this = this;

    _this.initLayout(function () {
      _this.loadInfoArea(function () {
        _this.updateScoreBoard();
      });

      setTimeout(function () {
        _this.updateScoreBoard();
      }, 1000);
    });
  };
};

/***/ }),

/***/ "./src/javascript/modules/Notifications.js":
/*!*************************************************!*\
  !*** ./src/javascript/modules/Notifications.js ***!
  \*************************************************/
/*! exports provided: Notifications */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notifications", function() { return Notifications; });
/* harmony import */ var _Messaging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Messaging */ "./src/javascript/modules/Messaging.js");
/* harmony import */ var _utils_removeClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony import */ var _utils_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/query */ "./src/javascript/utils/query.js");
/* harmony import */ var _utils_stripHtml__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/stripHtml */ "./src/javascript/utils/stripHtml.js");
/* harmony import */ var _utils_addClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/addClass */ "./src/javascript/utils/addClass.js");





var Notifications = function Notifications(options) {
  this.settings = {
    container: null,
    detailsContainer: null,
    lbWidget: null,
    eventStream: [],
    checkTimeout: 2000,
    onDisplayCheckTimeout: 10000,
    checkInterval: null,
    autoNotificationHideInterval: null,
    autoNotificationHideTime: 10000,
    displayInProgress: false
  };

  if (typeof options !== 'undefined') {
    for (var opt in options) {
      if (options.hasOwnProperty(opt)) {
        this.settings[opt] = options[opt];
      }
    }
  }

  this.layoutWrapper = function () {
    var wrapper = document.createElement('div');
    var iconWrapper = document.createElement('div');
    var icon = document.createElement('div');
    var informationWrapper = document.createElement('div');
    var informationTopWrapper = document.createElement('div');
    var informationDetailsContainer = document.createElement('div');
    var informationDetailsLabel = document.createElement('div');
    var informationDetailsDescription = document.createElement('div');
    var informationWrapperClose = document.createElement('div');
    var informationClose = document.createElement('a');
    wrapper.setAttribute('class', 'cl-widget-notif-wrapper');
    iconWrapper.setAttribute('class', 'cl-widget-notif-icon-wrapper');
    icon.setAttribute('class', 'cl-widget-notif-icon');
    informationTopWrapper.setAttribute('class', 'cl-widget-notif-information-top-wrapper');
    informationWrapper.setAttribute('class', 'cl-widget-notif-information-wrapper');
    informationDetailsContainer.setAttribute('class', 'cl-widget-notif-information-details-wrapper');
    informationDetailsLabel.setAttribute('class', 'cl-widget-notif-information-details-label');
    informationDetailsDescription.setAttribute('class', 'cl-widget-notif-information-details-description');
    informationWrapperClose.setAttribute('class', 'cl-widget-notif-information-close-wrapper');
    informationClose.setAttribute('class', 'cl-widget-notif-information-close');
    informationClose.href = 'javascript:void(0);';
    informationClose.innerHTML = 'x';
    informationDetailsContainer.appendChild(informationDetailsLabel);
    informationDetailsContainer.appendChild(informationDetailsDescription);
    informationWrapperClose.appendChild(informationClose);
    informationWrapper.appendChild(informationWrapperClose);
    informationWrapper.appendChild(informationDetailsContainer);
    informationTopWrapper.appendChild(informationWrapper);
    iconWrapper.appendChild(icon);
    wrapper.appendChild(iconWrapper);
    wrapper.appendChild(informationTopWrapper);
    return wrapper;
  };

  var processed = {};

  this.startSSE = function () {
    var _this = this;

    _this.settings.sseInstance = new _Messaging__WEBPACK_IMPORTED_MODULE_0__["Messaging"]({
      sseUrl: _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSE.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId),
      heartbeat: _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId),
      ajax: {
        url: null,
        apiKey: {
          'X-API-KEY': _this.settings.lbWidget.settings.apiKey
        }
      },
      callback: function callback(data) {
        var dataKey = JSON.stringify(data);
        var currentTime = new Date().getTime();

        if (typeof processed[dataKey] === 'undefined' || typeof processed[dataKey] !== 'undefined' && processed[dataKey] + 10000 < currentTime) {
          processed[JSON.stringify(data)] = currentTime;

          _this.settings.eventStream.push(data);
        }
      },
      onStartupError: function onStartupError(settings) {},
      debug: true
    });
  };

  this.autoNotificationHide = function () {
    var _this = this;

    if (_this.settings.autoNotificationHideInterval) {
      clearTimeout(_this.settings.autoNotificationHideInterval);
    }

    _this.settings.autoNotificationHideInterval = setTimeout(function () {
      _this.hideNotification();
    }, _this.settings.autoNotificationHideTime);
  };

  this.hideNotification = function () {
    var _this = this;

    if (_this.settings.autoNotificationHideInterval) {
      clearTimeout(_this.settings.autoNotificationHideInterval);
    }

    _this.settings.displayInProgress = false;
    Object(_utils_removeClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, '.cl-widget-notif-information-wrapper'), 'cl-show');
    setTimeout(function () {
      _this.settings.container.style.display = 'none';
    }, 200);
  };

  this.showAchievementNotification = function (data) {
    var _this = this;

    var label = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.detailsContainer, '.cl-widget-notif-information-details-label');
    var description = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.detailsContainer, '.cl-widget-notif-information-details-description');
    var descriptionText = Object(_utils_stripHtml__WEBPACK_IMPORTED_MODULE_3__["default"])(data.data.description);
    label.innerHTML = data.data.name.length > 23 ? data.data.name.substr(0, 23) + '...' : data.data.name;
    description.innerHTML = descriptionText.length > 60 ? descriptionText.substr(0, 60) + '...' : descriptionText;
    _this.settings.detailsContainer.dataset.id = data.data.id;
    _this.settings.container.style.display = 'block';
    setTimeout(function () {
      Object(_utils_addClass__WEBPACK_IMPORTED_MODULE_4__["default"])(Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, '.cl-widget-notif-information-wrapper'), 'cl-show');
    }, 200);

    _this.autoNotificationHide();
  };

  this.eventStreamCheck = function () {
    var _this = this;

    if (_this.settings.checkInterval) {
      clearTimeout(_this.settings.checkInterval);
    }

    if (_this.settings.eventStream.length > 0 && !_this.settings.displayInProgress) {
      var data = _this.settings.eventStream[0];

      var index = _this.settings.eventStream.indexOf(data);

      if (typeof data.achievementId !== 'undefined') {
        _this.settings.displayInProgress = true;

        _this.settings.lbWidget.getAchievement(data.achievementId, function (data) {
          _this.showAchievementNotification(data);

          _this.settings.checkInterval = setTimeout(function () {
            _this.eventStreamCheck();
          }, _this.settings.onDisplayCheckTimeout);
        });

        _this.settings.eventStream.splice(index, 1);
      } else if (typeof data.notificationId !== 'undefined') {
        _this.settings.checkInterval = setTimeout(function () {
          _this.eventStreamCheck();
        }, _this.settings.checkTimeout);
      } else {
        _this.settings.checkInterval = setTimeout(function () {
          _this.eventStreamCheck();
        }, _this.settings.checkTimeout);
      }

      if (index > -1) {
        _this.settings.eventStream.splice(index, 1);
      }
    } else {
      _this.settings.checkInterval = setTimeout(function () {
        _this.eventStreamCheck();
      }, _this.settings.checkTimeout);
    }
  };

  this.init = function () {
    var _this = this;

    if (_this.settings.container === null) {
      _this.startSSE();

      _this.settings.container = _this.settings.lbWidget.settings.bindContainer.appendChild(_this.layoutWrapper());
      _this.settings.detailsContainer = Object(_utils_query__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.settings.container, '.cl-widget-notif-information-details-wrapper');
    } else {
      // terminate SSE
      _this.settings.sseInstance.closeChanel(); // update the member


      _this.settings.sseInstance.settings.sseUrl = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSE.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId);
      _this.settings.sseInstance.settings.heartbeat = _this.settings.lbWidget.settings.uri.gatewayDomain + _this.settings.lbWidget.settings.uri.memberSSEHeartbeat.replace(':space', _this.settings.lbWidget.settings.spaceName).replace(':id', _this.settings.lbWidget.settings.memberId); // re-instantiate SSE

      _this.settings.sseInstance.openChanel();
    }

    _this.eventStreamCheck();
  };
};

/***/ }),

/***/ "./src/javascript/modules/cLabs.js":
/*!*****************************************!*\
  !*** ./src/javascript/modules/cLabs.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// default domain
// var apiURL = "http://192.168.1.8:9998";
var apiURL = 'https://gateway.competitionlabs.com';
var cLabs = {
  api: {
    url: apiURL
  },
  classSelector: /^\.([\w-]+)$/,
  // class string expression check
  idSelector: /^#[\w\d\-\_\&\!\@\*]+$/,
  // ID string expression check
  tagSelector: /^[\w-]+$/ // TAG string expression check

};
/* harmony default export */ __webpack_exports__["default"] = (cLabs);

/***/ }),

/***/ "./src/javascript/modules/dragElement.js":
/*!***********************************************!*\
  !*** ./src/javascript/modules/dragElement.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/javascript/utils/index.js");
 // var scrollObj2 = null;

var movementInterval;

var dragElement = function dragElement(elmnt, draggableEl, overlayContainer, container, dragging, finishDragging, mobileTouch) {
  var pos1 = 0;
  var pos2 = 0;
  var pos3 = 0;
  var pos4 = 0;
  var isMobile = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isMobileTablet"])();
  var isiOS = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isiOSDevice"])();
  var isParentWindow = elmnt.parentNode.nodeName === 'BODY';
  var maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
  var maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
  var touchStart;
  var moving = null; // scrollObj2 = query(".scroll-res");

  if (movementInterval) {
    clearTimeout(movementInterval);
  }

  var onWindowChange = function onWindowChange() {
    var isVertical = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-vertical-mini');
    var maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
    var maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
    var offsetMaxLeft = maxLeft - parseInt(elmnt.offsetWidth + (isVertical ? draggableEl.offsetWidth / 7 : draggableEl.offsetWidth / 1.6));
    var offsetMaxTop = maxTop - parseInt(elmnt.offsetHeight + (isVertical ? draggableEl.offsetHeight / 1.2 : draggableEl.offsetHeight / 4));
    var elTop = parseInt(elmnt.style.top);
    var elLeft = parseInt(elmnt.style.left);

    if (elTop > offsetMaxTop && offsetMaxTop > 5) {
      elmnt.style.top = offsetMaxTop + 'px';
    }

    if (elLeft > offsetMaxLeft && offsetMaxLeft > 5) {
      elmnt.style.left = offsetMaxLeft + 'px';
    }
  };

  if (isMobile) {
    /* listen to the touchMove event,
      every time it fires, grab the location
      of touch and assign it to box */
    var justATouch = false;
    draggableEl.addEventListener('touchstart', function (e) {
      justATouch = true;
      if (touchStart) clearTimeout(touchStart);
      maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
      maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
      touchStart = setTimeout(function () {
        justATouch = false;
      }, 100);
    }, {
      passive: isiOS
    });
    draggableEl.addEventListener('touchmove', function (e) {
      e.preventDefault();
      pos3 = e.targetTouches[0].pageX;
      pos4 = e.targetTouches[0].pageY; // moving = new Date().getTime();

      elementDrag(e);
    }, {
      passive: isiOS
    });
    draggableEl.addEventListener('touchend', function (e) {
      // e.preventDefault();
      // current box position.
      closeDragElement(e);
      moving = null;

      if (justATouch && typeof mobileTouch === 'function') {
        mobileTouch();
      }
    }, {
      passive: isiOS
    });
    window.addEventListener('orientationchange', function (e) {
      onWindowChange();
    }, true);
  } else {
    // if present, the header is where you move the DIV from:
    draggableEl.onmousedown = dragMouseDown;
    window.addEventListener('resize', function (e) {
      onWindowChange();
    }, true);
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    maxLeft = isParentWindow ? window.innerWidth : container.offsetWidth;
    maxTop = isParentWindow ? window.innerHeight : container.offsetHeight;
    overlayContainer.style.display = 'block'; // get the mouse cursor position at startup:

    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement; // call a function whenever the cursor moves:

    document.onmousemove = elementDrag;
  }
  /**
   * Adds additional offset to max left and top based on orientation and container width (will be affected by CSS styling so needs to be adjusted accordingly)
   * - elmnt => is the main container that has the positioning applied to
   * - draggableEl => key element that is mean for dragging
   */


  var checkMaxMinRestraints = function checkMaxMinRestraints(newTop, newLeft, offsetMaxLeft, offsetMaxTop) {
    var // minLeft = (isVertical ? elmnt.offsetWidth/4 : 0 ), // attempt to restrict the container to go out of bounds by a few pixels, needs some work
    minLeft = 0;
    var top = newTop <= 0 ? 0 : newTop;
    var left = newLeft <= minLeft ? minLeft : newLeft;

    if (left >= offsetMaxLeft) {
      left = offsetMaxLeft;
    }

    if (top >= offsetMaxTop) {
      top = offsetMaxTop;
    }

    return {
      top: top,
      left: left
    };
  };

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault(); // calculate the new cursor position:

    var posX = isMobile ? e.targetTouches[0].pageX : e.clientX;
    var posY = isMobile ? e.targetTouches[0].pageY : e.clientY;
    var isVertical = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-vertical-mini');
    var offsetMaxLeft = maxLeft - parseInt(elmnt.offsetWidth + (isVertical ? draggableEl.offsetWidth / 7 : draggableEl.offsetWidth / 1.6));
    var offsetMaxTop = maxTop - parseInt(elmnt.offsetHeight + (isVertical ? draggableEl.offsetHeight / 1.2 : draggableEl.offsetHeight / 4));
    pos1 = pos3 - posX;
    pos2 = pos4 - posY;
    pos3 = parseInt(posX);
    pos4 = parseInt(posY);
    moving = new Date().getTime();
    checkMovement();
    if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["hasClass"])(elmnt, 'cl-being-moved')) Object(_utils__WEBPACK_IMPORTED_MODULE_0__["addClass"])(elmnt, 'cl-being-moved');
    var newTop = isMobile ? posY - parseInt(draggableEl.offsetHeight / 2) : elmnt.offsetTop - pos2;
    var newLeft = isMobile ? posX - parseInt(draggableEl.offsetWidth / 2) : elmnt.offsetLeft - pos1;
    var leftTopCheck = checkMaxMinRestraints(newTop, newLeft, offsetMaxLeft, offsetMaxTop); // set the element's new position:
    // scrollObj2.innerHTML = leftTopCheck.top + "-" + leftTopCheck.left + " : "+ newTop + "-" + newLeft + " : " + (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) + "-" + (newTop > offsetMaxTop || newLeft > offsetMaxLeft);
    // scrollObj2.innerHTML = leftTopCheck.top + "-" + leftTopCheck.left + " : "+ newTop +"-"+ newLeft + " : " + (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) + "-" + (newTop > offsetMaxTop || newLeft > offsetMaxLeft);

    if (posX < 0 || posY < 0 || posX > maxLeft || posY > maxTop) {
      closeDragElement(e);
    } else if (newTop > offsetMaxTop || newLeft > offsetMaxLeft) {
      closeDragElement(e);
    } else if (leftTopCheck.top > offsetMaxTop || leftTopCheck.left > offsetMaxLeft) {
      closeDragElement(e);
    } else {
      elmnt.style.top = leftTopCheck.top + 'px';
      elmnt.style.left = leftTopCheck.left + 'px';
    }

    if (typeof dragging === 'function') dragging(newTop, newLeft);
  }

  function closeDragElement(e) {
    overlayContainer.style.display = 'none';

    if (isMobile) {
      e.preventDefault();
    } else {
      // stop moving when mouse button is released:
      document.onmouseup = null;
      document.onmousemove = null;
    }

    moving = null;
    Object(_utils__WEBPACK_IMPORTED_MODULE_0__["removeClass"])(elmnt, 'cl-being-moved');
    if (typeof finishDragging === 'function') finishDragging();
  }

  function checkMovement() {
    if (movementInterval) {
      clearTimeout(movementInterval);
    }

    movementInterval = setTimeout(function () {
      if (moving !== null && moving + 3000 < new Date().getTime() && !isMobile) {
        closeDragElement();
      } else if (moving !== null) {
        checkMovement();
      }
    }, 3000);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (dragElement);

/***/ }),

/***/ "./src/javascript/modules/setTimeoutGlobal.js":
/*!****************************************************!*\
  !*** ./src/javascript/modules/setTimeoutGlobal.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// global timeout handling
try {
  if (typeof setTimeoutGlobal !== 'function') {
    window._setTimeoutGlobalRepository = [];

    window.setTimeoutGlobal = function (id, func, timer) {
      var exists = false;
      window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
        if (id === instance.id) {
          exists = true;
        }
      });

      if (!exists) {
        var interval = setTimeout(function () {
          window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
            if (id === instance.id) {
              window._setTimeoutGlobalRepository.splice(key, 1);
            }
          });

          if (typeof func === 'function') {
            func();
          }
        }, timer);

        window._setTimeoutGlobalRepository.push({
          id: id,
          func: func,
          timer: timer,
          interval: interval
        });

        return interval;
      } else {
        throw new Error('setTimeoutGlobal - ID [' + id + '] already in use');
      }
    };

    var closeTimeout = function closeTimeout() {
      if (window._setTimeoutGlobalRepository.length > 0) {
        window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
          if (instance.interval) {
            clearInterval(instance.interval);
            instance.interval = null;
          }
        });
      }
    };

    var reEnableTimeouts = function reEnableTimeouts() {
      if (window._setTimeoutGlobalRepository.length > 0) {
        var tmp = [];
        window.mapObject(window._setTimeoutGlobalRepository, function (instance, key, count) {
          tmp.push(instance);
        });
        window._setTimeoutGlobalRepository = [];
        window.mapObject(tmp, function (instance, key, count) {
          window.setTimeoutGlobal(instance.id, instance.func, instance.timer);
        });
      }
    };

    var windowActivity = function windowActivity() {
      (function () {
        var hidden = 'hidden'; // Standards:

        if (hidden in document) {
          document.addEventListener('visibilitychange', onchange);
        } else if ((hidden = 'mozHidden') in document) {
          document.addEventListener('mozvisibilitychange', onchange);
        } else if ((hidden = 'webkitHidden') in document) {
          document.addEventListener('webkitvisibilitychange', onchange);
        } else if ((hidden = 'msHidden') in document) {
          document.addEventListener('msvisibilitychange', onchange);
        } else if ('onfocusin' in document) {
          // IE 9 and lower:
          document.onfocusin = document.onfocusout = onchange;
        } else {
          // All others:
          window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;
        }

        function onchange(evt) {
          var status = '';
          var v = 'visible';
          var h = 'hidden';
          var evtMap = {
            focus: v,
            focusin: v,
            pageshow: v,
            blur: h,
            focusout: h,
            pagehide: h
          };
          evt = evt || window.event;

          if (evt.type in evtMap) {
            status = evtMap[evt.type];
          } else {
            status = this[hidden] ? 'hidden' : 'visible';
          }

          if (status === 'visible') {
            reEnableTimeouts();
          } else if (status === 'hidden') {
            closeTimeout();
          }
        } // set the initial state (but only if browser supports the Page Visibility API)


        if (document[hidden] !== undefined) {
          onchange({
            type: document[hidden] ? 'blur' : 'focus'
          });
        }
      })();
    };

    windowActivity();
  }
} catch (err) {
  console.log(err);
}

/***/ }),

/***/ "./src/javascript/polyfills/cssVars.js":
/*!*********************************************!*\
  !*** ./src/javascript/polyfills/cssVars.js ***!
  \*********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var css_vars_ponyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! css-vars-ponyfill */ "./node_modules/css-vars-ponyfill/dist/css-vars-ponyfill.esm.js");

Object(css_vars_ponyfill__WEBPACK_IMPORTED_MODULE_0__["default"])({
  include: 'link[rel=stylesheet],style',
  watch: true,
  onlyLegacy: false
});

/***/ }),

/***/ "./src/javascript/polyfills/index.js":
/*!*******************************************!*\
  !*** ./src/javascript/polyfills/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

//
if (!window.console) {
  window.console = function () {};

  if (typeof XDomainRequest !== 'undefined') {
    window.console.prototype.log = function (err) {
      throw new SyntaxError(err);
    };

    window.console.prototype.warn = function (err) {
      throw new SyntaxError(err);
    };

    window.console.prototype.error = function (err) {
      throw new SyntaxError(err);
    };
  }
} //


try {
  Event.prototype.preventDefault || (Event.prototype.preventDefault = function () {
    this.returnValue = !1;
  });
} catch (err) {
  console.log(err);
} //


try {
  Event.prototype.stopPropagation || (Event.prototype.stopPropagation = function () {
    this.cancelBubble = !0;
  });
} catch (err) {
  console.log(err);
} //


try {
  typeof mapObject !== 'function' && (window.mapObject = function (e, t) {
    if (e !== null) {
      var n = 0;

      for (var r in e) {
        e.hasOwnProperty(r) && (t(e[r], r, n), n++);
      }

      return !0;
    }

    return console.log('returned object is null', _typeof(e)), !1;
  });
} catch (err) {
  console.log(err);
} //


try {
  if (!Element.prototype.addEventListener) {
    var eventListeners = [];

    var addEventListener = function addEventListener(e, t) {
      var n;
      var r = this;

      if (n = function n(e) {
        e.target = e.srcElement, e.currentTarget = r, e.pageX = event.clientX + document.body.scrollLeft, e.pageY = event.clientY + document.body.scrollTop, t.handleEvent ? t.handleEvent(e) : t.call(r, e);
      }, e === 'DOMContentLoaded') {
        var o = function o(e) {
          document.readyState === 'complete' && n(e);
        };

        if (document.attachEvent('onreadystatechange', o), eventListeners.push({
          object: this,
          type: e,
          listener: t,
          wrapper: o
        }), document.readyState == 'complete') {
          var i = new Event();
          i.srcElement = window, o(i);
        }
      } else this.attachEvent('on' + e, n), eventListeners.push({
        object: this,
        type: e,
        listener: t,
        wrapper: n
      });
    };

    var removeEventListener = function removeEventListener(e, t) {
      for (var n = 0; n < eventListeners.length;) {
        var r = eventListeners[n];

        if (r.object == this && r.type == e && r.listener == t) {
          e == 'DOMContentLoaded' ? this.detachEvent('onreadystatechange', r.wrapper) : this.detachEvent('on' + e, r.wrapper);
          break;
        }

        ++n;
      }
    };

    Element.prototype.addEventListener = addEventListener, Element.prototype.removeEventListener = removeEventListener, HTMLDocument && (HTMLDocument.prototype.addEventListener = addEventListener, HTMLDocument.prototype.removeEventListener = removeEventListener), Window && (Window.prototype.addEventListener = addEventListener, Window.prototype.removeEventListener = removeEventListener);
  }

  Element.prototype.remove || (Element.prototype.remove = function () {
    this.parentElement.removeChild(this);
  }, NodeList.prototype.remove = HTMLCollection.prototype.remove = function () {
    for (var e = 0, t = this.length; t > e; e++) {
      this[e] && this[e].parentElement && this[e].parentElement.removeChild(this[e]);
    }
  });
} catch (err) {
  console.log(err);
}

typeof XDomainRequest !== 'undefined' && (_typeof(window.JSON) !== 'object' && (window.JSON = {}), function () {
  'use strict';

  function f(e) {
    return e < 10 ? '0' + e : e;
  }

  function quote(e) {
    return escapable.lastIndex = 0, escapable.test(e) ? '"' + e.replace(escapable, function (e) {
      var t = meta[e];
      return typeof t === 'string' ? t : "\\u" + ('0000' + e.charCodeAt(0).toString(16)).slice(-4);
    }) + '"' : '"' + e + '"';
  }

  function str(e, t) {
    var n;
    var r;
    var o;
    var i;
    var a;
    var p = gap;
    var u = t[e];

    switch (u && _typeof(u) === 'object' && typeof u.toJSON === 'function' && (u = u.toJSON(e)), typeof rep === 'function' && (u = rep.call(t, e, u)), _typeof(u)) {
      case 'string':
        return quote(u);

      case 'number':
        return isFinite(u) ? String(u) : 'null';

      case 'boolean':
      case 'null':
        return String(u);

      case 'object':
        if (!u) return 'null';

        if (gap += indent, a = [], Object.prototype.toString.apply(u) === '[object Array]') {
          for (i = u.length, n = 0; i > n; n += 1) {
            a[n] = str(n, u) || 'null';
          }

          return o = a.length === 0 ? '[]' : gap ? '[\n' + gap + a.join(',\n' + gap) + '\n' + p + ']' : '[' + a.join(',') + ']', gap = p, o;
        }

        if (rep && _typeof(rep) === 'object') for (i = rep.length, n = 0; i > n; n += 1) {
          typeof rep[n] === 'string' && (r = rep[n], o = str(r, u), o && a.push(quote(r) + (gap ? ': ' : ':') + o));
        } else for (r in u) {
          Object.prototype.hasOwnProperty.call(u, r) && (o = str(r, u), o && a.push(quote(r) + (gap ? ': ' : ':') + o));
        }
        return o = a.length === 0 ? '{}' : gap ? '{\n' + gap + a.join(',\n' + gap) + '\n' + p + '}' : '{' + a.join(',') + '}', gap = p, o;
    }
  }

  typeof Date.prototype.toJSON !== 'function' && (Date.prototype.toJSON = function () {
    return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z' : null;
  }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {
    return this.valueOf();
  });
  var cx, escapable, gap, indent, meta, rep;
  typeof window.JSON.stringify !== 'function' && (escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, meta = {
    '\b': '\\b',
    '	': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '"': '\\"',
    '\\': '\\\\'
  }, window.JSON.stringify = function (e, t, n) {
    var r;
    if (gap = '', indent = '', typeof n === 'number') for (r = 0; n > r; r += 1) {
      indent += ' ';
    } else typeof n === 'string' && (indent = n);
    if (rep = t, t && typeof t !== 'function' && (_typeof(t) !== 'object' || typeof t.length !== 'number')) throw new Error('JSON.stringify');
    return str('', {
      '': e
    });
  }), typeof window.JSON.parse !== 'function' && (cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, window.JSON.parse = function (text, reviver) {
    function walk(e, t) {
      var n;
      var r;
      var o = e[t];
      if (o && _typeof(o) === 'object') for (n in o) {
        Object.prototype.hasOwnProperty.call(o, n) && (r = walk(o, n), void 0 !== r ? o[n] = r : delete o[n]);
      }
      return reviver.call(e, t, o);
    }

    var j;
    if (text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function (e) {
      return "\\u" + ('0000' + e.charCodeAt(0).toString(16)).slice(-4);
    })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) return j = eval('(' + text + ')'), typeof reviver === 'function' ? walk({
      '': j
    }, '') : j;
    throw new SyntaxError('JSON.parse');
  });
}()); //

var _slice = Array.prototype.slice;

try {
  _slice.call(document.documentElement);
} catch (e) {
  Array.prototype.slice = function (t, e) {
    if (e = typeof e !== 'undefined' ? e : this.length, Object.prototype.toString.call(this) === '[object Array]') return _slice.call(this, t, e);
    var r;
    var i;
    var c = [];
    var l = this.length;
    var o = t || 0;
    o = o >= 0 ? o : l + o;
    var a = e || l;
    if (e < 0 && (a = l + e), i = a - o, i > 0) if (c = new Array(i), this.charAt) for (r = 0; i > r; r++) {
      c[r] = this.charAt(o + r);
    } else for (r = 0; i > r; r++) {
      c[r] = this[o + r];
    }
    return c;
  };
} // [EventSource] Polyfill fix: https://github.com/remy/polyfills/blob/master/EventSource.js


(function (global) {
  if ('EventSource' in global) return;
  var reTrim = /^(\s|\u00A0)+|(\s|\u00A0)+$/g;

  var EventSource = function EventSource(url) {
    var eventsource = this;
    var interval = 500;
    /* polling interval  */

    var lastEventId = null;
    var cache = '';

    if (!url || typeof url !== 'string') {
      throw new SyntaxError('Not enough arguments');
    }

    this.URL = url;
    this.readyState = this.CONNECTING;
    this._pollTimer = null;
    this._xhr = null;

    function pollAgain(interval) {
      eventsource._pollTimer = setTimeout(function () {
        poll.call(eventsource);
      }, interval);
    }

    function poll() {
      try {
        /* force hiding of the error message... insane? */
        if (eventsource.readyState === eventsource.CLOSED) return;
        /* NOTE: IE7 and upwards support */

        var xhr = new XMLHttpRequest();
        xhr.open('GET', eventsource.URL, true);
        xhr.setRequestHeader('Accept', 'text/event-stream');
        xhr.setRequestHeader('Cache-Control', 'no-cache');
        /* we must make use of this on the server side if we're working with Android - because they don't trigger readychange until the server connection is closed */

        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        if (lastEventId != null) xhr.setRequestHeader('Last-Event-ID', lastEventId);
        cache = '';
        xhr.timeout = 50000;

        xhr.onreadystatechange = function () {
          if (this.readyState == 3 || this.readyState == 4 && this.status == 200) {
            /* on success */
            if (eventsource.readyState == eventsource.CONNECTING) {
              eventsource.readyState = eventsource.OPEN;
              eventsource.dispatchEvent('open', {
                type: 'open'
              });
            }

            var responseText = '';

            try {
              responseText = this.responseText || '';
            } catch (e) {}
            /* process this.responseText */


            var parts = responseText.substr(cache.length).split('\n');
            var eventType = 'message';
            var data = [];
            var i = 0;
            var line = '';
            cache = responseText;
            /* TODO handle 'event' (for buffer name), retry */

            for (; i < parts.length; i++) {
              line = parts[i].replace(reTrim, '');

              if (line.indexOf('event') === 0) {
                eventType = line.replace(/event:?\s*/, '');
              } else if (line.indexOf('retry') === 0) {
                var retry = parseInt(line.replace(/retry:?\s*/, ''));

                if (!isNaN(retry)) {
                  interval = retry;
                }
              } else if (line.indexOf('data') === 0) {
                data.push(line.replace(/data:?\s*/, ''));
              } else if (line.indexOf('id:') === 0) {
                lastEventId = line.replace(/id:?\s*/, '');
              } else if (line.indexOf('id') === 0) {
                /* this resets the id */
                lastEventId = null;
              } else if (line === '') {
                if (data.length) {
                  var event = new MessageEvent(data.join('\n'), eventsource.url, lastEventId);
                  eventsource.dispatchEvent(eventType, event);
                  data = [];
                  eventType = 'message';
                }
              }
            }

            if (this.readyState === 4) pollAgain(interval);
            /* don't need to poll again, because we're long-loading */
          } else if (eventsource.readyState !== eventsource.CLOSED) {
            if (this.readyState === 4) {
              /* and some other status dispatch error */
              eventsource.readyState = eventsource.CONNECTING;
              eventsource.dispatchEvent('error', {
                type: 'error'
              });
              pollAgain(interval);
            } else if (this.readyState === 0) {
              /* likely aborted */
              pollAgain(interval);
            } else {}
          }
        };

        xhr.send();
        setTimeout(function () {
          if (true) xhr.abort();
        }, xhr.timeout);
        eventsource._xhr = xhr;
      } catch (e) {
        /* in an attempt to silence the errors */
        eventsource.dispatchEvent('error', {
          type: 'error',
          data: e.message
        });
        /* ??? */
      }
    }

    ;
    poll();
    /* init now */
  };

  EventSource.prototype = {
    close: function close() {
      /* closes the connection - disabling the polling */
      this.readyState = this.CLOSED;
      clearInterval(this._pollTimer);

      this._xhr.abort();
    },
    CONNECTING: 0,
    OPEN: 1,
    CLOSED: 2,
    dispatchEvent: function dispatchEvent(type, event) {
      var handlers = this['_' + type + 'Handlers'];

      if (handlers) {
        for (var i = 0; i < handlers.length; i++) {
          handlers[i].call(this, event);
        }
      }

      if (this['on' + type]) {
        this['on' + type].call(this, event);
      }
    },
    addEventListener: function addEventListener(type, handler) {
      if (!this['_' + type + 'Handlers']) {
        this['_' + type + 'Handlers'] = [];
      }

      this['_' + type + 'Handlers'].push(handler);
    },
    removeEventListener: function removeEventListener(type, handler) {
      var handlers = this['_' + type + 'Handlers'];

      if (!handlers) {
        return;
      }

      for (var i = handlers.length - 1; i >= 0; --i) {
        if (handlers[i] === handler) {
          handlers.splice(i, 1);
          break;
        }
      }
    },
    onerror: null,
    onmessage: null,
    onopen: null,
    readyState: 0,
    URL: ''
  };

  var MessageEvent = function MessageEvent(data, origin, lastEventId) {
    this.data = data;
    this.origin = origin;
    this.lastEventId = lastEventId || '';
  };

  MessageEvent.prototype = {
    data: null,
    type: 'message',
    lastEventId: '',
    origin: ''
  };
  if ('module' in global) module.exports = EventSource;
  global.EventSource = EventSource;
})(window);

/***/ }),

/***/ "./src/javascript/utils/addClass.js":
/*!******************************************!*\
  !*** ./src/javascript/utils/addClass.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * App/Append new class string to the provided DOM element
 * @param element
 * @param className
 * @returns {{classList}|*}
 */
var addClass = function addClass(element, className) {
  try {
    if (element.classList) {
      element.classList.add(className);
    } else {
      element.className += ' ' + className;
    }
  } catch (e) {
    console.trace();
  }

  return element;
};

/* harmony default export */ __webpack_exports__["default"] = (addClass);

/***/ }),

/***/ "./src/javascript/utils/appendNext.js":
/*!********************************************!*\
  !*** ./src/javascript/utils/appendNext.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var appendNext = function appendNext(el, newNode) {
  if (el.nextSibling) {
    el.parentNode.insertBefore(newNode, el.nextSibling);
  } else {
    el.parentNode.appendChild(newNode);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (appendNext);

/***/ }),

/***/ "./src/javascript/utils/closest.js":
/*!*****************************************!*\
  !*** ./src/javascript/utils/closest.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _hasClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hasClass */ "./src/javascript/utils/hasClass.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



/**
 * Iterate up the tree of DOM elements to find the closes match
 * @param element
 * @param selector
 * @returns {null | ParentNode}
 */

var closest = function closest(element, selector) {
  if (_typeof(selector) === 'object') {
    var selectorClassString = selector.getAttribute('class');
    var selectorIdString = selector.id;

    if (selectorIdString !== null && selectorIdString.length > 0) {
      selector = '#' + selectorIdString;
    } else if (selectorClassString !== null && selectorClassString.length > 0) {
      selector = '.' + selectorClassString.split(' ')[0];
    } else {
      selector = selector.nodeName;
    }
  }

  function closest(element, selector) {
    try {
      element = element.parentNode;
    } catch (e) {
      console.log(element, selector);
      console.trace();
    }

    if (element !== null && _typeof(element) === 'object') {
      if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].classSelector) && Object(_hasClass__WEBPACK_IMPORTED_MODULE_1__["default"])(element, selector)) {
        return element;
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].idSelector) && element.id === selector.replace('#', '')) {
        return element;
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].tagSelector) && element.nodeName === selector.toUpperCase()) {
        return element;
      } else {
        return closest(element, selector);
      }
    } else {
      return null;
    }
  }

  if (_typeof(element) === 'object') {
    return closest(element, selector);
  } else {
    return null;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (closest);

/***/ }),

/***/ "./src/javascript/utils/formatNumberLeadingZeros.js":
/*!**********************************************************!*\
  !*** ./src/javascript/utils/formatNumberLeadingZeros.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Prepends 0 the provided number and returns the formated element as a string
 * @param num
 * @param size {number}
 * @returns {string} 1 => 001
 */
var formatNumberLeadingZeros = function formatNumberLeadingZeros(num, size) {
  var s = String(num);

  while (s.length < size) {
    s = '0' + s;
  }

  return s;
};

/* harmony default export */ __webpack_exports__["default"] = (formatNumberLeadingZeros);

/***/ }),

/***/ "./src/javascript/utils/getOffset.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/getOffset.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var getOffset = function getOffset(el) {
  var _x = 0;
  var _y = 0;

  while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {
    _x += el.offsetLeft - el.scrollLeft;
    _y += el.offsetTop - el.scrollTop;
    el = el.offsetParent;
  }

  return {
    top: _y,
    left: _x
  };
};

/* harmony default export */ __webpack_exports__["default"] = (getOffset);

/***/ }),

/***/ "./src/javascript/utils/hasClass.js":
/*!******************************************!*\
  !*** ./src/javascript/utils/hasClass.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Provides an ability to check if a DOM element contains a class string
 * @param element
 * @param className
 * @returns {boolean}
 */
function _hasClass(element, className) {
  className = className.replace('.', '');

  try {
    if (element.classList) {
      return element.classList.contains(className);
    } else {
      return new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);
    }
  } catch (e) {
    if (typeof e.stack !== 'undefined') {
      console.log(e.stack);
    }

    console.log(e, element, className);
    return false;
  }
}

var hasClass = function hasClass(element, className) {
  if (typeof className === 'string') {
    return _hasClass(element, className);
  } else if (className instanceof Array) {
    var hasClass = false;

    for (var i in className) {
      if (typeof className[i] === 'string' && _hasClass(element, className[i])) {
        hasClass = true;
      }
    }

    return hasClass;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (hasClass);

/***/ }),

/***/ "./src/javascript/utils/index.js":
/*!***************************************!*\
  !*** ./src/javascript/utils/index.js ***!
  \***************************************/
/*! exports provided: sizeof, isElement, objectCount, remove, objectIterator, addClass, removeClass, hasClass, stringContains, formatNumberLeadingZeros, stripHtml, closest, isMobileTablet, getOffset, isiOSDevice, appendNext, query, trim, mergeObjects, scrollEnabled */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _sizeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sizeof */ "./src/javascript/utils/sizeof.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sizeof", function() { return _sizeof__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _isElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isElement */ "./src/javascript/utils/isElement.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isElement", function() { return _isElement__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _objectCount__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./objectCount */ "./src/javascript/utils/objectCount.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "objectCount", function() { return _objectCount__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _remove__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./remove */ "./src/javascript/utils/remove.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "remove", function() { return _remove__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _objectIterator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./objectIterator */ "./src/javascript/utils/objectIterator.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "objectIterator", function() { return _objectIterator__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _addClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./addClass */ "./src/javascript/utils/addClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addClass", function() { return _addClass__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _removeClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./removeClass */ "./src/javascript/utils/removeClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "removeClass", function() { return _removeClass__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _hasClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hasClass */ "./src/javascript/utils/hasClass.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hasClass", function() { return _hasClass__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _stringContains__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./stringContains */ "./src/javascript/utils/stringContains.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stringContains", function() { return _stringContains__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./formatNumberLeadingZeros */ "./src/javascript/utils/formatNumberLeadingZeros.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "formatNumberLeadingZeros", function() { return _formatNumberLeadingZeros__WEBPACK_IMPORTED_MODULE_9__["default"]; });

/* harmony import */ var _stripHtml__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./stripHtml */ "./src/javascript/utils/stripHtml.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stripHtml", function() { return _stripHtml__WEBPACK_IMPORTED_MODULE_10__["default"]; });

/* harmony import */ var _closest__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./closest */ "./src/javascript/utils/closest.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "closest", function() { return _closest__WEBPACK_IMPORTED_MODULE_11__["default"]; });

/* harmony import */ var _isMobileTablet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./isMobileTablet */ "./src/javascript/utils/isMobileTablet.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isMobileTablet", function() { return _isMobileTablet__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony import */ var _getOffset__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./getOffset */ "./src/javascript/utils/getOffset.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getOffset", function() { return _getOffset__WEBPACK_IMPORTED_MODULE_13__["default"]; });

/* harmony import */ var _isiOSDevice__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./isiOSDevice */ "./src/javascript/utils/isiOSDevice.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isiOSDevice", function() { return _isiOSDevice__WEBPACK_IMPORTED_MODULE_14__["default"]; });

/* harmony import */ var _appendNext__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./appendNext */ "./src/javascript/utils/appendNext.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "appendNext", function() { return _appendNext__WEBPACK_IMPORTED_MODULE_15__["default"]; });

/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./query */ "./src/javascript/utils/query.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "query", function() { return _query__WEBPACK_IMPORTED_MODULE_16__["default"]; });

/* harmony import */ var _trim__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./trim */ "./src/javascript/utils/trim.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trim", function() { return _trim__WEBPACK_IMPORTED_MODULE_17__["default"]; });

/* harmony import */ var _mergeObjects__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mergeObjects */ "./src/javascript/utils/mergeObjects.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "mergeObjects", function() { return _mergeObjects__WEBPACK_IMPORTED_MODULE_18__["default"]; });

/* harmony import */ var _scrollEnabled__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./scrollEnabled */ "./src/javascript/utils/scrollEnabled.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "scrollEnabled", function() { return _scrollEnabled__WEBPACK_IMPORTED_MODULE_19__["default"]; });






















/***/ }),

/***/ "./src/javascript/utils/isElement.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/isElement.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Returns true if it is a DOM element
 *
 * @param o {Object}
 * @return {Boolean}
 */
var isElement = function isElement(o) {
  return (typeof HTMLElement === "undefined" ? "undefined" : _typeof(HTMLElement)) === 'object' ? o instanceof HTMLElement :
  /* DOM2 */
  o && _typeof(o) === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string';
};

/* harmony default export */ __webpack_exports__["default"] = (isElement);

/***/ }),

/***/ "./src/javascript/utils/isMobileTablet.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/isMobileTablet.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _stringContains__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stringContains */ "./src/javascript/utils/stringContains.js");
// a check to test if the device is a mobile or tablet


var isMobileTablet = function isMobileTablet() {
  var check = false;

  (function (a) {
    if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
  })(navigator.userAgent || navigator.vendor || window.opera); // custom solution because latest iOS 13 userAgent doesn't return correct mobile information


  if (!check) {
    check = Object(_stringContains__WEBPACK_IMPORTED_MODULE_0__["default"])(window.navigator.userAgent.toLowerCase(), 'macintosh') && 'ontouchend' in document;
  }

  return check;
};

/* harmony default export */ __webpack_exports__["default"] = (isMobileTablet);

/***/ }),

/***/ "./src/javascript/utils/isiOSDevice.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/isiOSDevice.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// check if iOS
var isiOSDevice = function isiOSDevice() {
  return !!navigator.platform && /iP(ad|hone|od)/.test(navigator.platform);
};

/* harmony default export */ __webpack_exports__["default"] = (isiOSDevice);

/***/ }),

/***/ "./src/javascript/utils/mergeObjects.js":
/*!**********************************************!*\
  !*** ./src/javascript/utils/mergeObjects.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _sizeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sizeof */ "./src/javascript/utils/sizeof.js");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



var mergeObjects = function mergeObjects(obj1, obj2, arrayType) {
  var obj3 = typeof arrayType === 'undefined' || arrayType === false ? {} : [];

  for (var i in obj1) {
    obj3[i] = obj1[i];
  }

  for (var k in obj2) {
    if (_typeof(obj1[k]) !== 'object') {
      obj3[k] = obj2[k];
    } else if (obj1[k] instanceof Array) {
      obj3[k] = obj2[k]; // arrays get overwritten and not extended
    } else if (typeof obj1[k] !== 'undefined' && _typeof(obj1[k]) === 'object' && obj1[k] !== null && typeof obj1[k].nodeType === 'undefined' && Object(_sizeof__WEBPACK_IMPORTED_MODULE_0__["default"])(obj1[k]) > 0) {
      obj3[k] = mergeObjects(obj1[k], obj2[k]);
    } else if (typeof obj1[k] !== 'undefined' && _typeof(obj1[k]) === 'object') {
      obj3[k] = obj2[k];
    } else {
      console.log('fail');
    }

    if (obj3[k] === undefined) {
      delete obj3[k];
    }
  }

  return obj3;
};

/* harmony default export */ __webpack_exports__["default"] = (mergeObjects);

/***/ }),

/***/ "./src/javascript/utils/objectCount.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/objectCount.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Returns a count of object from a query result
 * @paramobj  {Object} anything or Array object
 */
var objectCount = function objectCount(obj) {
  if (obj !== null && obj.length !== undefined && obj instanceof Array) {
    return obj.length;
  } else if (obj !== null) {
    return 1;
  } else {
    return 0;
  }
};

/* harmony default export */ __webpack_exports__["default"] = (objectCount);

/***/ }),

/***/ "./src/javascript/utils/objectIterator.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/objectIterator.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Object iterator - best usage is for a list of DOM elements
 * @param obj
 * @param callback
 */
var objectIterator = function objectIterator(obj, callback) {
  if (typeof obj !== 'undefined' && obj !== null && typeof obj.length !== 'undefined' && obj instanceof Array) {
    var count = 0;

    for (var key in obj) {
      callback(obj[key], key, count, obj.length);
      count++;
    }
  } else if (typeof obj !== 'undefined' && obj !== null) {
    callback(obj, 0, 0, 1);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (objectIterator);

/***/ }),

/***/ "./src/javascript/utils/query.js":
/*!***************************************!*\
  !*** ./src/javascript/utils/query.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_cLabs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/cLabs */ "./src/javascript/modules/cLabs.js");
/* harmony import */ var _trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trim */ "./src/javascript/utils/trim.js");


/**
 * Query selector, supports CSS element selection
 *
 * Supports:
 *  - Class selection: ".element"
 *  - ID selection: "#element"
 *  - Tag selection: "div"
 *  - Multi depth selection: '.element ul li'
 *
 * @param {Object} "optional"
 * @param {String} CSS element selector
 * @returns {(Object|null|Array)} depending on the provided selector results can vary (null, node, NodeList array)
 */

var query = function query(doc, selector) {
  var result;
  var tmpDoc = doc;
  var tmpSelector = selector; // used for debug only

  if (typeof doc === 'string' && selector === undefined) {
    selector = doc;
    doc = document;
  }

  try {
    if (doc !== null) {
      selector = Object(_trim__WEBPACK_IMPORTED_MODULE_1__["default"])(selector); //

      if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].classSelector)) {
        result = doc.getElementsByClassName(selector.replace('.', ''));
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].idSelector)) {
        result = document.getElementById(selector.replace('#', ''));
      } else if (selector.match(_modules_cLabs__WEBPACK_IMPORTED_MODULE_0__["default"].tagSelector)) {
        result = doc.getElementsByTagName(selector);
      } else {
        result = doc.querySelectorAll(selector);
      }
    }

    if (result !== null && result !== undefined && result.nodeType) {
      return result;
    } else if (result !== null && result !== undefined && result.length === 1) {
      return result[0];
    } else if (result !== null && result !== undefined && result.length > 0) {
      return Array.prototype.slice.call(result);
    } else {
      return null;
    }
  } catch (e) {
    console.log(e);
    console.log(tmpSelector);
    console.log(tmpDoc);
    console.log(doc, selector);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (query);

/***/ }),

/***/ "./src/javascript/utils/remove.js":
/*!****************************************!*\
  !*** ./src/javascript/utils/remove.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Removes an HTML DOM element
 * @paramobj el {Object} DOM element
 */
var remove = function remove(el) {
  if (el !== null) {
    el.parentElement.removeChild(el);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (remove);

/***/ }),

/***/ "./src/javascript/utils/removeClass.js":
/*!*********************************************!*\
  !*** ./src/javascript/utils/removeClass.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Remove class string from provided DOM element
 * @param element
 * @param className
 * @returns {{classList}|*}
 */
var removeClass = function removeClass(element, className) {
  try {
    if (element.classList) {
      element.classList.remove(className);
    } else {
      element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
    }
  } catch (e) {
    console.log(element, className); // console.error(e);
    // console.trace();
  }

  return element;
};

/* harmony default export */ __webpack_exports__["default"] = (removeClass);

/***/ }),

/***/ "./src/javascript/utils/scrollEnabled.js":
/*!***********************************************!*\
  !*** ./src/javascript/utils/scrollEnabled.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var scrollEnabled = function scrollEnabled(doc) {
  return doc !== null ? doc.scrollHeight > doc.offsetHeight : false;
};

/* harmony default export */ __webpack_exports__["default"] = (scrollEnabled);

/***/ }),

/***/ "./src/javascript/utils/sizeof.js":
/*!****************************************!*\
  !*** ./src/javascript/utils/sizeof.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _isElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isElement */ "./src/javascript/utils/isElement.js");

/**
 * returns the size of an Object or array
 *
 * @param obj {Object}
 * @return {Number}
 */

var sizeof = function sizeof(obj) {
  var size = 0;
  var key;

  for (key in obj) {
    if (obj.hasOwnProperty(key)) size++;
  }

  if (size === 0 && Object(_isElement__WEBPACK_IMPORTED_MODULE_0__["default"])(obj)) {
    size = 1;
  }

  return size;
};

/* harmony default export */ __webpack_exports__["default"] = (sizeof);

/***/ }),

/***/ "./src/javascript/utils/stringContains.js":
/*!************************************************!*\
  !*** ./src/javascript/utils/stringContains.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * A check if a string contains an entry of searched for term
 * @param str {string}
 * @param partial {string}
 * @returns {boolean}
 */
var stringContains = function stringContains(str, partial) {
  return str.indexOf(partial) > -1;
};

/* harmony default export */ __webpack_exports__["default"] = (stringContains);

/***/ }),

/***/ "./src/javascript/utils/stripHtml.js":
/*!*******************************************!*\
  !*** ./src/javascript/utils/stripHtml.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Removes HTML tags from the provided input and returns only the text
 * - this is a very basic implementation and should be used carefully
 * @param html {string}
 * @returns {string | string}
 */
var stripHtml = function stripHtml(html) {
  var tmp = document.createElement('DIV');
  tmp.innerHTML = html;
  return tmp.textContent || tmp.innerText || '';
};

/* harmony default export */ __webpack_exports__["default"] = (stripHtml);

/***/ }),

/***/ "./src/javascript/utils/trim.js":
/*!**************************************!*\
  !*** ./src/javascript/utils/trim.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var trim = function trim(string) {
  return string.replace(/^\s+|\s+$/g, '');
};

/* harmony default export */ __webpack_exports__["default"] = (trim);

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtdmFycy1wb255ZmlsbC9kaXN0L2Nzcy12YXJzLXBvbnlmaWxsLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWRlbnRpY29uLmpzL2lkZW50aWNvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWRlbnRpY29uLmpzL3BuZ2xpYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNzaGEvZGlzdC9zaGEubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb21lbnQvbW9tZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9pMThuIHN5bmMgXlxcLlxcL3RyYW5zbGF0aW9uXy4qXFwuanNvbiQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbGVhZGVyYm9hcmQudjMtc2VsZmluaXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9BamF4LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvTGJXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9NYWluV2lkZ2V0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvTWVzc2FnaW5nLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvTWluaVNjb3JlQm9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9Ob3RpZmljYXRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L21vZHVsZXMvY0xhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvbW9kdWxlcy9kcmFnRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC9tb2R1bGVzL3NldFRpbWVvdXRHbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvcG9seWZpbGxzL2Nzc1ZhcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvcG9seWZpbGxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2FkZENsYXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2FwcGVuZE5leHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvY2xvc2VzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9mb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvZ2V0T2Zmc2V0LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2hhc0NsYXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL2lzRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9pc01vYmlsZVRhYmxldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9pc2lPU0RldmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy9tZXJnZU9iamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvb2JqZWN0Q291bnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvb2JqZWN0SXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvcXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvcmVtb3ZlLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3JlbW92ZUNsYXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3Njcm9sbEVuYWJsZWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2phdmFzY3JpcHQvdXRpbHMvc2l6ZW9mLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3N0cmluZ0NvbnRhaW5zLmpzIiwid2VicGFjazovLy8uL3NyYy9qYXZhc2NyaXB0L3V0aWxzL3N0cmlwSHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC91dGlscy90cmltLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIl9jbExlYWRlckJvYXJkVjNTZWxmSW5pdCIsIkxiV2lkZ2V0IiwiY29uc29sZSIsIndhcm4iLCJjTGFicyIsIkFqYXgiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInByb3RvdHlwZSIsImNyZWF0ZUNPUlNSZXF1ZXN0IiwibWV0aG9kIiwidXJsIiwib2JqIiwib3BlbiIsIlhEb21haW5SZXF1ZXN0IiwiaW5kZXhPZiIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJyZXBsYWNlIiwiYWJvcnQiLCJfdGhpcyIsInJlYWR5U3RhdGUiLCJnZXREYXRhIiwiZGF0YSIsInR5cGUiLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJzdWNjZXNzIiwiZXJyb3IiLCJoZWFkZXJzIiwiZXh0cmFDYWxsYmFjayIsIm9ubG9hZCIsInJlc3BvbnNlVGV4dCIsIm9uZXJyb3IiLCJzdGF0dXMiLCJzaXplb2YiLCJpdGVtIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyIiwibG9nIiwidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwicHJvY2VzcyIsImVudiIsIkxBTkciLCJvcHRpb25zIiwic2V0dGluZ3MiLCJkZWJ1ZyIsImJpbmRDb250YWluZXIiLCJkb2N1bWVudCIsImJvZHkiLCJhdXRvU3RhcnQiLCJzc2VNZXNzYWdpbmciLCJub3RpZmljYXRpb25zIiwibWluaVNjb3JlQm9hcmQiLCJlbmFibGVOb3RpZmljYXRpb25zIiwibWFpbldpZGdldCIsImdsb2JhbEFqYXgiLCJjaGVja0FqYXgiLCJsYW5ndWFnZSIsImN1cnJlbmN5Iiwic3BhY2VOYW1lIiwibWVtYmVySWQiLCJncm91cHMiLCJnYW1lSWQiLCJlbmZvcmNlR2FtZUxvb2t1cCIsImFwaUtleSIsIm1lbWJlciIsImNvbXBldGl0aW9uIiwiYWN0aXZlQ29tcGV0aXRpb25JZCIsImFjdGl2ZUNvbnRlc3RJZCIsImFjdGl2ZUNvbXBldGl0aW9uIiwiYWN0aXZlQ29udGVzdCIsInJlZnJlc2hJbnRlcnZhbCIsInJlZnJlc2hJbnRlcnZhbE1pbGxpcyIsImV4dHJhY3RJbWFnZUhlYWRlciIsImFjaGlldmVtZW50cyIsImxpc3QiLCJhdmFpbGFibGVSZXdhcmRzIiwicmV3YXJkcyIsImV4cGlyZWRSZXdhcmRzIiwicmV3YXJkRm9ybWF0dGVyIiwicmV3YXJkIiwiZGVmYXVsdFJld2FyZFZhbHVlIiwidmFsdWUiLCJ1bml0T2ZNZWFzdXJlIiwic3ltYm9sIiwibWVzc2FnZXMiLCJlbmFibGUiLCJ0b3VybmFtZW50cyIsInJlYWR5Q29tcGV0aXRpb25zIiwiYWN0aXZlQ29tcGV0aXRpb25zIiwiZmluaXNoZWRDb21wZXRpdGlvbnMiLCJsZWFkZXJib2FyZCIsImZ1bGxMZWFkZXJib2FyZFNpemUiLCJyZWZyZXNoTGJEYXRhSW50ZXJ2YWwiLCJsZWFkZXJib2FyZERhdGEiLCJsb2FkTGVhZGVyYm9hcmRIaXN0b3J5IiwidXJpIiwiZ2F0ZXdheURvbWFpbiIsImFwaSIsIm1lbWJlcnMiLCJhc3NldHMiLCJtZW1iZXJTU0UiLCJtZW1iZXJTU0VIZWFydGJlYXQiLCJjb21wZXRpdGlvbnMiLCJjb21wZXRpdGlvbkJ5SWQiLCJjb250ZXN0TGVhZGVyYm9hcmQiLCJhY2hpZXZlbWVudCIsImFjaGlldmVtZW50c1Byb2dyZXNzaW9uIiwiYWNoaWV2ZW1lbnRzSXNzdWVkIiwibWVzc2FnZUJ5SWQiLCJtZW1iZXJSZXdhcmQiLCJtZW1iZXJSZXdhcmRDbGFpbSIsIm1lbWJlckNvbXBldGl0aW9ucyIsIm1lbWJlckNvbXBldGl0aW9uQnlJZCIsIm1lbWJlckNvbXBldGl0aW9uT3B0SW4iLCJtZW1iZXJDb21wZXRpdGlvbk9wdEluQ2hlY2siLCJ0cmFuc2xhdGlvblBhdGgiLCJsb2FkVHJhbnNsYXRpb25zIiwicmVzb3VyY2VzIiwiRGF0ZSIsImdldFRpbWUiLCJsYXlvdXRCdWlsZENhbGxiYWNrIiwibGF5b3V0IiwiaW5zdGFuY2UiLCJtZXJnZU9iamVjdHMiLCJtZXNzYWdlIiwiZm9ybWF0RGF0ZVRpbWUiLCJkdXJhdGlvbiIsImxhcmdlUmVzdWx0IiwicmVzdWx0IiwiZGF5cyIsInB1c2giLCJ0aW1lIiwiaG91cnMiLCJmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MiLCJtaW51dGVzIiwibWludXRlc1Nob3J0SGFuZCIsInNlY29uZHMiLCJqb2luIiwicG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZSIsInN0ciIsInNoYU9iaiIsImpzU0hBIiwidXBkYXRlIiwiaGFzaCIsImdldEhhc2giLCJJZGVudGljb24iLCJiYWNrZ3JvdW5kIiwibWFyZ2luIiwic2l6ZSIsImZvcm1hdCIsInRvU3RyaW5nIiwiaWNvbiIsImNvbXBldGl0aW9uQ2hlY2tBamF4IiwiY2hlY2tGb3JBdmFpbGFibGVDb21wZXRpdGlvbnMiLCJjYWxsYmFjayIsImFqYXhJbnN0YW5jZSIsImZpbHRlcnMiLCJhamF4SW5zdGFuY2VUb1VzZSIsInJlc3BvbnNlIiwiZGF0YU9iaiIsImpzb24iLCJwYXJzZSIsIm1hcE9iamVjdCIsImNvbXAiLCJzdGF0dXNDb2RlIiwiY2hlY2tGb3JGaW5pc2hlZENvbXBldGl0aW9ucyIsImNvbXBldGl0aW9uRmluaXNoZWRDaGVja0FqYXgiLCJwcmVwYXJlQWN0aXZlQ29tcGV0aXRpb24iLCJpZCIsImRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMiLCJsb2FkQWN0aXZlQ29tcGV0aXRpb24iLCJzZXRBY3RpdmVDb21wZXRpdGlvbiIsImNvbnRlc3RzIiwiY29udGVzdCIsInJld2FyZFJhbmsiLCJyYW5rUGFydHMiLCJzcGxpdCIsInBhcnQiLCJzdHJpbmdDb250YWlucyIsInJhbmtSYW5nZSIsInJhZ2VTdGFydCIsInBhcnNlSW50IiwicmFuZ2VFbmQiLCJpIiwiZ2V0TGVhZGVyYm9hcmREYXRhIiwiY291bnQiLCJjaGVja0FjaGlldmVtZW50c0FqYXgiLCJjaGVja0ZvckF2YWlsYWJsZUFjaGlldmVtZW50cyIsIndpdGhHcm91cHMiLCJqc29uRm9yQWxsIiwiYWNoIiwiZ2V0QWNoaWV2ZW1lbnRzQWpheCIsImdldEFjaGlldmVtZW50IiwiYWNoaWV2ZW1lbnRJZCIsImUiLCJnZXRSZXdhcmRBamF4IiwiZ2V0UmV3YXJkIiwicmV3YXJkSWQiLCJnZXRNZXNzYWdlQWpheCIsImdldE1lc3NhZ2UiLCJtZXNzYWdlSWQiLCJjbGFpbVJld2FyZEFqYXgiLCJjbGFpbVJld2FyZCIsImNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzQWpheCIsImNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzSXNzdWVkIiwiaWRMaXN0IiwiYWdncmVnYXRpb25zIiwiaXRlbXMiLCJjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uQWpheCIsImNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzUHJvZ3Jlc3Npb24iLCJjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4IiwiY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzIiwiZXhwaXJlZCIsImV4cGlyeSIsIm1vbWVudCIsImRpZmYiLCJkYXRlIiwidXRjRGF0ZSIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENEYXRlIiwiZ2V0VVRDSG91cnMiLCJnZXRVVENNaW51dGVzIiwiY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlc0FqYXgiLCJjaGVja0ZvckF2YWlsYWJsZU1lc3NhZ2VzIiwic2V0RGF0ZSIsImdldE1vbnRoIiwiY3JlYXRlZERhdGVGaWx0ZXIiLCJnZXRGdWxsWWVhciIsImdldERhdGUiLCJvcHRJbk1lbWJlckFqYXgiLCJvcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24iLCJyZXZhbGlkYXRpb25Db3VudCIsInJldmFsaWRhdGVJZlN1Y2Nlc3NmdWxsT3B0SW4iLCJjb21wZXRpdGlvbkpzb24iLCJvcHRpbiIsInNldFRpbWVvdXQiLCJsZWFkZXJib2FyZERhdGFSZWZyZXNoIiwiY2xlYXJUaW1lb3V0Iiwib3B0aW5SZXF1aXJlZCIsImFjdGl2ZSIsImxvYWRTY29yZUJvYXJkIiwibG9hZExlYWRlcmJvYXJkIiwiYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCIsImNsZWFyQWxsIiwic3RvcEFjdGl2aXR5IiwiY2xlYXJJbnRlcnZhbCIsInVwZGF0ZUludGVydmFsIiwicmVzdGFydEFjdGl2aXR5IiwidXBkYXRlU2NvcmVCb2FyZCIsImxvYWRNZW1iZXIiLCJsb2FkV2lkZ2V0VHJhbnNsYXRpb25zIiwic3RhcnR1cCIsImluaXRMYXlvdXQiLCJpbml0IiwiY2xlYW51cCIsIl9jbGVhbnVwSW5zdGFuY2UiLCJwcmVMb2FkZXJSZXJ1biIsImxvYWRTdHlsZXNoZWV0IiwiY3JlYXRlZFJlc291cmNlcyIsImF2YWlsYWJsZUxpbmtzIiwib2JqZWN0SXRlcmF0b3IiLCJxdWVyeSIsImxpbmsiLCJocmVmIiwicmVzb3VyY2UiLCJrZXkiLCJleGlzdHMiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJjbGlja2VkTWluaVNjb3JlQm9hcmQiLCJkcmFnZ2luZyIsImNvbnRhaW5lciIsInN0eWxlIiwiZGlzcGxheSIsIm9wZW5XaXRoVGFiQW5kQWN0aW9uIiwidGFiIiwiYWN0aW9uQ2FsbGJhY2siLCJsb2FkVGFiIiwibmF2aWdhdGlvblN3aXRjaCIsImxvYWRDb21wZXRpdGlvbkxpc3RBamF4IiwiZXZlbnRIYW5kbGVycyIsImVsIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsImxvYWRDb21wZXRpdGlvbkRldGFpbHMiLCJyZW1vdmVDbGFzcyIsImNvbXBldGl0aW9uRGV0YWlsc09wdEluQnV0dG9uU3RhdGUiLCJwYXJlbnROb2RlIiwiaGlkZU5vdGlmaWNhdGlvbiIsImhpZGUiLCJkYXRhc2V0IiwibG9hZEFjaGlldmVtZW50RGV0YWlscyIsImhpZGVDb21wZXRpdGlvbkRldGFpbHMiLCJoaWRlQWNoaWV2ZW1lbnREZXRhaWxzIiwiaGlkZVJld2FyZERldGFpbHMiLCJoaWRlTWVzc2FnZURldGFpbHMiLCJjbG9zZXN0IiwibG9hZFJld2FyZERldGFpbHMiLCJsb2FkTWVzc2FnZURldGFpbHMiLCJjbGFpbWVkIiwibG9hZFJld2FyZHMiLCJpbm5lckhUTUwiLCJjbGFpbSIsImxvYWRDb21wZXRpdGlvbkxpc3QiLCJ0b3VybmFtZW50SWQiLCJwcmVMb2FkZXIiLCJwcmVsb2FkZXIiLCJzaG93IiwiaGlkZUNvbXBldGl0aW9uTGlzdCIsImFjY29yZGlvbk5hdmlnYXRpb24iLCJldmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleUNvZGUiLCJpc01vYmlsZSIsInRhcmdldCIsImNsb3NlRXZlcnl0aGluZyIsInByZUxvYWRlckFjdGl2ZSIsImlzTW9iaWxlVGFibGV0IiwiTm90aWZpY2F0aW9ucyIsIk1pbmlTY29yZUJvYXJkIiwiTWFpbldpZGdldCIsImxiV2lkZ2V0IiwibmF2aWdhdGlvbiIsInNlY3Rpb24iLCJkZXRhaWxzQ29udGFpbmVyIiwidG91cm5hbWVudExpc3RDb250YWluZXIiLCJoZWFkZXJEYXRlIiwicHJlTG9hZGVybGFzdEF0dGVtcHQiLCJwcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5IiwiZGVmYXVsdEVtcHR5TGlzdCIsInRvcFJlc3VsdFNpemUiLCJoZWFkZXIiLCJ0b3BSZXN1bHRzIiwidGltZXJJbnRlcnZhbCIsInRvdXJuYW1lbnRzU2VjdGlvbiIsImFjY29yZGlvbkxheW91dCIsImxhYmVsIiwic2hvd1RvcFJlc3VsdHMiLCJyZXdhcmRzU2VjdGlvbiIsIm5hdmlnYXRpb25Td2l0Y2hMYXN0QXRlbXB0IiwibmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MiLCJvcHQiLCJoYXNPd25Qcm9wZXJ0eSIsImFjY29yZGlvblN0eWxlIiwib25MYXlvdXQiLCJhY2NvcmRpb25XcmFwcGVyIiwiZW50cnkiLCJhY2NvcmRpb25TZWN0aW9uIiwiYWNjb3JkaW9uTGFiZWwiLCJ0b3BTaG93bkVudHJ5IiwiYWNjb3JkaW9uTGlzdENvbnRhaW5lciIsImFjY29yZGlvbkxpc3QiLCJlbGVtZW50IiwicGFyZW50RWwiLCJ3cmFwcGVyIiwiaW5uZXJXcmFwcGVyIiwibmF2aWdhdGlvbkNvbnRhaW5lciIsIm5hdmlnYXRpb25JdGVtcyIsIm5hdmlnYXRpb25JdGVtTEIiLCJuYXZpZ2F0aW9uSXRlbUxCSWNvbiIsIm5hdmlnYXRpb25JdGVtQUNIIiwibmF2aWdhdGlvbkl0ZW1BQ0hJY29uIiwibmF2aWdhdGlvbkl0ZW1SZXdhcmRzIiwibmF2aWdhdGlvbkl0ZW1SZXdhcmRzSWNvbiIsIm5hdmlnYXRpb25JdGVtSW5ib3giLCJuYXZpZ2F0aW9uSXRlbUluYm94SWNvbiIsIm1haW5TZWN0aW9uQ29udGFpbmVyIiwicHJlTG9hZGVyQ29udGFpbmVyIiwicHJlTG9hZGVyQ29udGVudCIsInByZUxvYWRlckJhcjEiLCJwcmVMb2FkZXJCYXIyIiwicHJlTG9hZGVyQmFyMyIsInNlY3Rpb25MQiIsImxlYWRlcmJvYXJkQXJlYUxheW91dCIsInNlY3Rpb25BQ0giLCJhY2hpZXZlbWVudHNBcmVhTGF5b3V0Iiwic2VjdGlvblJld2FyZHMiLCJyZXdhcmRzQXJlYUxheW91dCIsInNlY3Rpb25JbmJveCIsImluYm94QXJlYUxheW91dCIsInNlY3Rpb25MQkhlYWRlciIsInNlY3Rpb25MQkhlYWRlckxpc3QiLCJzZWN0aW9uTEJIZWFkZXJMaXN0SWNvbiIsInNlY3Rpb25MQkhlYWRlckxhYmVsIiwic2VjdGlvbkxCSGVhZGVyRGF0ZSIsInNlY3Rpb25MQkhlYWRlckNsb3NlIiwic2VjdGlvbkxCRGV0YWlscyIsInNlY3Rpb25MQkRldGFpbHNJbmZvIiwic2VjdGlvbkxCRGV0YWlsc0luZm9JY29uIiwic2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXIiLCJzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsIiwic2VjdGlvbkxCRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlIiwic2VjdGlvbkxCTGVhZGVyYm9hcmQiLCJzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlciIsInNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzIiwic2VjdGlvbkxCTGVhZGVyYm9hcmRIZWFkZXJUb3BSZXN1bHRzIiwic2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5Iiwic2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5UmVzdWx0cyIsInNlY3Rpb25MQk1pc3NpbmdNZW1iZXIiLCJzZWN0aW9uTEJPcHRJbkNvbnRhaW5lciIsInNlY3Rpb25MQk9wdEluQWN0aW9uIiwic2VjdGlvbkxCRm9vdGVyIiwic2VjdGlvbkxCRm9vdGVyQ29udGVudCIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0NvbnRhaW5lciIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlciIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlckxhYmVsIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyRGF0ZSIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JhY2tCdG4iLCJzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5Q29udGFpbmVyIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keSIsInNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQ29udGFpbmVyIiwic2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5BY3Rpb24iLCJzZWN0aW9uVG91cm5hbWVudExpc3QiLCJzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5Iiwic2VjdGlvblRvdXJuYW1lbnRMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uVG91cm5hbWVudEJhY2tBY3Rpb24iLCJnbG9iYWwiLCJjb3B5IiwiZW50ZXIiLCJzZWN0aW9uQUNISGVhZGVyIiwic2VjdGlvbkFDSEhlYWRlckxhYmVsIiwic2VjdGlvbkFDSEhlYWRlckRhdGUiLCJzZWN0aW9uQUNISGVhZGVyQ2xvc2UiLCJzZWN0aW9uQUNIRGV0YWlscyIsInNlY3Rpb25BQ0hEZXRhaWxzSW5mbyIsInNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24iLCJzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXIiLCJzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCIsInNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUiLCJzZWN0aW9uQUNITGlzdCIsInNlY3Rpb25BQ0hMaXN0Qm9keSIsInNlY3Rpb25BQ0hMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uQUNIRm9vdGVyIiwic2VjdGlvbkFDSEZvb3RlckNvbnRlbnQiLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyIiwic2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlciIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJMYWJlbCIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlIiwic2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JhY2tCdG4iLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lciIsInNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5SW1hZ2VDb250YWluZXIiLCJzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keSIsInNlY3Rpb25SZXdhcmRzSGVhZGVyIiwic2VjdGlvblJld2FyZHNIZWFkZXJMYWJlbCIsInNlY3Rpb25SZXdhcmRzSGVhZGVyRGF0ZSIsInNlY3Rpb25SZXdhcmRzSGVhZGVyQ2xvc2UiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHMiLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvIiwic2VjdGlvblJld2FyZHNEZXRhaWxzSW5mb0ljb24iLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUiLCJzZWN0aW9uUmV3YXJkc0xpc3QiLCJzZWN0aW9uUmV3YXJkc0xpc3RCb2R5Iiwic2VjdGlvblJld2FyZHNMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uUmV3YXJkc0Zvb3RlciIsInNlY3Rpb25SZXdhcmRzRm9vdGVyQ29udGVudCIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lciIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlciIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlckxhYmVsIiwic2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyRGF0ZSIsInNlY3Rpb25SZXdhcmRzRGV0YWlsc0JhY2tCdG4iLCJzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUltYWdlQ29udGFpbmVyIiwic2VjdGlvblJld2FyZHNEZXRhaWxzQm9keSIsInNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIiLCJzZWN0aW9uUmV3YXJkc1dpbm5pbmdzSWNvbiIsInNlY3Rpb25SZXdhcmRzV2lubmluZ3NWYWx1ZSIsInNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIiLCJzZWN0aW9uUmV3YXJkc0NsYWltQnRuIiwic2VjdGlvbkluYm94SGVhZGVyIiwic2VjdGlvbkluYm94SGVhZGVyTGFiZWwiLCJzZWN0aW9uSW5ib3hIZWFkZXJEYXRlIiwic2VjdGlvbkluYm94SGVhZGVyQ2xvc2UiLCJzZWN0aW9uSW5ib3hEZXRhaWxzIiwic2VjdGlvbkluYm94RGV0YWlsc0luZm8iLCJzZWN0aW9uSW5ib3hEZXRhaWxzSW5mb0ljb24iLCJzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lciIsInNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwiLCJzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUiLCJzZWN0aW9uSW5ib3hMaXN0Iiwic2VjdGlvbkluYm94TGlzdEJvZHkiLCJzZWN0aW9uSW5ib3hMaXN0Qm9keVJlc3VsdHMiLCJzZWN0aW9uSW5ib3hGb290ZXIiLCJzZWN0aW9uSW5ib3hGb290ZXJDb250ZW50Iiwic2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lciIsInNlY3Rpb25JbmJveERldGFpbHNIZWFkZXIiLCJzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyTGFiZWwiLCJzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyRGF0ZSIsInNlY3Rpb25JbmJveERldGFpbHNCYWNrQnRuIiwic2VjdGlvbkluYm94RGV0YWlsc0JvZHlDb250YWluZXIiLCJzZWN0aW9uSW5ib3hEZXRhaWxzQm9keSIsImxlYWRlcmJvYXJkSGVhZGVyIiwicmFua0NvbCIsImljb25Db2wiLCJuYW1lQ29sIiwiZ3Jvd3RoQ29sIiwicG9pbnRzQ29sIiwicmFuayIsIm5hbWUiLCJwb2ludHMiLCJyZXdhcmRDb2wiLCJyZXdhcmRFbmFibGVkIiwicHJpemUiLCJsZWFkZXJib2FyZFJvdyIsImNoYW5nZSIsImdyb3d0aCIsIm1lbWJlckZvdW5kIiwiY2VsbFdyYXBwZXIiLCJyYW5rQ2VsIiwicmFua0NlbFZhbHVlIiwiaWNvbkNlbCIsImljb25DZWxJbWciLCJJbWFnZSIsIm5hbWVDZWwiLCJncm93dGhDZWwiLCJwb2ludHNDZWwiLCJtZW1iZXJGb3VuZENsYXNzIiwic3JjIiwiYWx0IiwicmV3YXJkQ2VsIiwibGVhZGVyYm9hcmRSb3dVcGRhdGUiLCJvbk1pc3NpbmciLCJjZWxsUm93Iiwicm93SGFzQ2xhc3MiLCJwb3B1bGF0ZUxlYWRlcmJvYXJkUmVzdWx0c1dpdGhEZWZhdWx0RW50cmllcyIsInJlbWFpbmluZ1Jlc3VsdHMiLCJtZW1iZXJSZWZJZCIsInMiLCJ1cGRhdGVMZWFkZXJib2FyZFRvcFJlc3VsdHMiLCJ1cGRhdGVMZWFkZXJib2FyZFJlc3VsdHMiLCJyYW5rQ2hlY2siLCJjbGVhbnVwUmFua0NoZWNrIiwibGIiLCJyZW1vdmUiLCJtZW1iZXJOYW1lIiwieW91IiwiZ3Jvd3RoVHlwZSIsImdyb3d0aEljb24iLCJyYyIsIm5ld1JvdyIsInByZXZDZWxsUm93IiwiYXBwZW5kTmV4dCIsInJld2FyZFJlc3BvbnNlIiwiQXJyYXkiLCJ1cGRhdGVMZWFkZXJib2FyZCIsIm1pc3NpbmdNZW1iZXIiLCJpc0VsZW1lbnRWaXNpYmxlSW5WaWV3IiwidXBkYXRlTGVhZGVyYm9hcmRUaW1lIiwic2NoZWR1bGVkU3RhcnQiLCJzY2hlZHVsZWRFbmQiLCJmaW5pc2hpbmciLCJmaW5pc2hlZCIsImRldGFpbHNDb250YWluZXJEYXRlIiwibGVhZGVyYm9hcmREZXRhaWxzVXBkYXRlIiwibWFpbkxhYmVsIiwibm9BdmFpbGFibGVDb21wZXRpdGlvbnMiLCJsZWFkZXJib2FyZE9wdEluQ2hlY2siLCJvcHRJbiIsIm9wYWNpdHkiLCJpc1Zpc2libGUiLCJhcmVhIiwicG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlbGVtQ29udGFpbmVyIiwiZWxlbVRvcCIsInRvcCIsImVsZW1Cb3R0b20iLCJib3R0b20iLCJlbGVtSGVpZ2h0IiwiaGVpZ2h0Iiwib25zY3JvbGwiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIm9ucmVzaXplIiwicmVnaXN0ZXJlZCIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJpbWciLCJuZXdJbWciLCJjbG9uZU5vZGUiLCJsaXN0UmVzQ29udGFpbmVyIiwiYWNjb3JkaW9uT2JqIiwibGlzdENvbnRhaW5lciIsInRvcEVudHJ5Q29udGFpbmVyIiwidG91cm5hbWVudERhdGEiLCJ0b3VybmFtZW50IiwidG9wRW50cnlDb250YWluZVJsaXN0SXRlbSIsInRvdXJuYW1lbnRJdGVtIiwibGlzdEl0ZW0iLCJhY2hpZXZlbWVudEl0ZW0iLCJhY2hpZXZlZCIsInBlcmMiLCJkZXRhaWxzV3JhcHBlciIsImNhdGVnb3J5IiwicHJvZ3Jlc3Npb25XcmFwcGVyIiwicHJvZ3Jlc3Npb25Db250IiwicHJvZ3Jlc3Npb25CYXIiLCJtb3JlQnV0dG9uIiwiY3BvbW50YWluc0ltYWdlIiwibW9yZSIsImltYWdlSWNvbldyYXBwZXIiLCJhY2hpZXZlbWVudExpc3RMYXlvdXQiLCJhY2hpZXZlbWVudERhdGEiLCJhY2hMaXN0IiwiaW1hZ2VMb29rdXAiLCJjbGFpbUJ0biIsInJld2FyZE5hbWUiLCJfaW1hZ2UiLCJzdWJqZWN0IiwidXBkYXRlQWNoaWV2ZW1lbnRQcm9ncmVzc2lvbkFuZElzc3VlZCIsImlzc3VlZCIsInByb2dyZXNzaW9uIiwiaXNzdWVkU3RhdHVzIiwicHIiLCJwYXJzZUZsb2F0IiwiZ29hbFBlcmNlbnRhZ2VDb21wbGV0ZSIsInRvRml4ZWQiLCJiYXIiLCJjb21wbGV0ZSIsIndpZHRoIiwibG9hZEFjaGlldmVtZW50cyIsInJld2FyZEl0ZW0iLCJyZXciLCJsYWJlbFRleHQiLCJzdHJpcEh0bWwiLCJkZXNjcmlwdGlvblRleHQiLCJzdWJzdHIiLCJtZXNzYWdlSXRlbSIsImluYm94IiwiY29udGVudCIsImRlc2NyaXB0aW9uQ29udGVudCIsInJld2FyZHNMaXN0TGF5b3V0IiwicmV3YXJkTGlzdCIsInJld2FyZERhdGEiLCJtZXNzYWdlc0xpc3RMYXlvdXQiLCJtZXNzYWdlTGlzdCIsImluYm94SXRlbSIsImxvYWRNZXNzYWdlcyIsImNoYW5nZUludGVydmFsIiwiY2hhbmdlQ29udGFpbmVySW50ZXJ2YWwiLCJsYkNvbnRhaW5lciIsImFjaENvbnRhaW5lciIsInJld2FyZHNDb250YWluZXIiLCJpbmJveENvbnRhaW5lciIsInJlc2V0TmF2aWdhdGlvbiIsIk1lc3NhZ2luZyIsInNvdXJjZSIsImFqYXgiLCJlcnJvckNhbGxiYWNrIiwic3NlVXJsIiwiaGVhcnRiZWF0IiwibGFzdEhlYXJ0YmVhdCIsIm1haW5BamF4IiwiaGVhcnRCZWF0QWpheCIsImhlYXJ0V2FpdFRpbWUiLCJtZXNzYWdlUXVldWUiLCJtZXNzYWdlSW50ZXJ2YWwiLCJzdGFydHVwQ2hlY2siLCJvblN0YXJ0dXBFcnJvciIsImludGVydmFsSW5zdGFuY2UiLCJoZWFydGJlYXRJbnRlcnZhbEluc3RhbmNlIiwibG9va3VwRGF0YSIsImluZGV4Iiwic3BsaWNlIiwic2V0SW50ZXJ2YWwiLCJjdXJyZW50VGltZSIsImNsb3NlQ2hhbmVsIiwiaGVhckJlYXRDaGVjayIsImRhdGFPYmplY3QiLCJvcGVuQ2hhbmVsIiwiRXZlbnRTb3VyY2UiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZXJ2ZXJTaWRlRXZlbnRMaXN0ZW5lcnMiLCJDTE9TRUQiLCJjbG9zZSIsInNzZUZhaWxlZCIsIndpbmRvd0FjdGl2aXR5IiwiaGlkZGVuIiwib25jaGFuZ2UiLCJvbmZvY3VzaW4iLCJvbmZvY3Vzb3V0Iiwib25wYWdlc2hvdyIsIm9ucGFnZWhpZGUiLCJvbmZvY3VzIiwib25ibHVyIiwidiIsImgiLCJldnRNYXAiLCJmb2N1cyIsImZvY3VzaW4iLCJwYWdlc2hvdyIsImJsdXIiLCJmb2N1c291dCIsInBhZ2VoaWRlIiwib3ZlcmxheUNvbnRhaW5lciIsImluZm9Db250YWluZXIiLCJ1cGRhdGVJbnRlcnZhbFRpbWUiLCJlbmFibGVEcmFnZ2luZyIsImljb25XcmFwcGVyIiwiaW5mb3JtYXRpb25XcmFwcGVyIiwiaW5mb3JtYXRpb25Ub3BXcmFwcGVyIiwiaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2UiLCJpbmZvcm1hdGlvbkNsb3NlIiwib3ZlcmxheUxheW91dCIsInRpbWVNYW5hZ2VtZW50IiwiZGF0ZU9iaiIsImludmVyc2UiLCJtaW5pTGVhZGVyYm9hcmQiLCJzdGFydHNJbiIsInN0YXJ0aW5nIiwibGF5b3V0RGVmYXVsdE9yRW1wdHlFbnRyeSIsImxiUmVzdWx0c01lbUVudHJ5IiwibGJSZXN1bHRzTWVtTGFiZWwiLCJsYlJlc3VsdHNNZW1SYW5rIiwibGJSZXN1bHRzTWVtSWNvbiIsImxiUmVzdWx0c01lbUltZyIsImxiUmVzdWx0c01lbVBvaW50cyIsImxheW91dEZpcnN0VG9PckVtcHR5RW50cnkiLCJsYXlvdXREZWZhdWx0T3JFbXB0eSIsIndyYXBwZXJEb21PYmoiLCJkZWZhdWx0RG9tT2JqIiwicmVtb3ZlVW51c2VkRWxlbWVudHMiLCJsYldyYXBwZXIiLCJsYkRhdGVXcmFwcGVyIiwibGJEYXRlTGFiZWwiLCJsYkRhdGUiLCJsYlJlc3VsdHNXcmFwcGVyIiwibGJSZXN1bHRzTGlzdCIsImxiSGVhZGVycyIsImxiSGVhZGVyc1JhbmsiLCJsYkhlYWRlcnNQb2ludHMiLCJsYkVudHJ5IiwicmFua2luZ3MiLCJzY29yZUFyZWEiLCJsYlJhbmtpbmdFbnRyeSIsInNlbGZNZW1iZXIiLCJsYXlvdXRGaXJzdFRvT3JFbXB0eSIsInN0cmF0ZWd5IiwicmVjb3JkVGltZVdoZW5TdW1SZWFjaGVzIiwibGF5b3V0U3VtQmVzdE9mIiwic3VtQmVzdERvbU9iaiIsImxiUmVzdWx0c1Njb3JlQXJlYSIsImxiUmVzdWx0c1Njb3JlQXJlYUhpZ2giLCJsYlJlc3VsdHNTY29yZUFyZWFIaWdoTGFiZWwiLCJsYlJlc3VsdHNTY29yZUFyZWFIaWdoU2NvcmUiLCJsYlJlc3VsdHNTY29yZUFyZWFMYXN0IiwibGJSZXN1bHRzU2NvcmVBcmVhTGFzdExhYmVsIiwibGJSZXN1bHRzU2NvcmVBcmVhTGFzdFNjb3JlIiwibGJSZXN1bHRzUmFua0FyZWEiLCJsYlJlc3VsdHNSYW5rVmFsdWUiLCJoaWdoU2NvcmUiLCJsYXN0U2NvcmUiLCJyYW5rVmFsdWUiLCJTdHJpbmciLCJsYXlvdXRSZXF1aXJlc09wdEluIiwib3B0SW5XcmFwcGVyIiwib3B0SW5EYXRlV3JhcHBlciIsIm9wdEluRGF0ZUxhYmVsIiwib3B0SW5EYXRlIiwib3B0SW5EYXRlQWN0aW9uV3JhcHBlciIsIm9wdEluRGF0ZUFjdGlvbiIsImRlZmF1bHRMYXlvdXRXcmFwcGVyRG9tT2JqIiwib3B0SW5XcmFwcGVyRG9tT2JqIiwiZmlyc3RUb0RvbU9iaiIsInJlbW92ZUluZm9BcmVhIiwibG9hZEluZm9BcmVhIiwiZHJhZ0VsZW1lbnQiLCJuZXdUb3AiLCJuZXdMZWZ0IiwiZXZlbnRTdHJlYW0iLCJjaGVja1RpbWVvdXQiLCJvbkRpc3BsYXlDaGVja1RpbWVvdXQiLCJjaGVja0ludGVydmFsIiwiYXV0b05vdGlmaWNhdGlvbkhpZGVJbnRlcnZhbCIsImF1dG9Ob3RpZmljYXRpb25IaWRlVGltZSIsImRpc3BsYXlJblByb2dyZXNzIiwibGF5b3V0V3JhcHBlciIsImluZm9ybWF0aW9uRGV0YWlsc0NvbnRhaW5lciIsImluZm9ybWF0aW9uRGV0YWlsc0xhYmVsIiwiaW5mb3JtYXRpb25EZXRhaWxzRGVzY3JpcHRpb24iLCJwcm9jZXNzZWQiLCJzdGFydFNTRSIsInNzZUluc3RhbmNlIiwiZGF0YUtleSIsImF1dG9Ob3RpZmljYXRpb25IaWRlIiwic2hvd0FjaGlldmVtZW50Tm90aWZpY2F0aW9uIiwiZXZlbnRTdHJlYW1DaGVjayIsIm5vdGlmaWNhdGlvbklkIiwiYXBpVVJMIiwiY2xhc3NTZWxlY3RvciIsImlkU2VsZWN0b3IiLCJ0YWdTZWxlY3RvciIsIm1vdmVtZW50SW50ZXJ2YWwiLCJlbG1udCIsImRyYWdnYWJsZUVsIiwiZmluaXNoRHJhZ2dpbmciLCJtb2JpbGVUb3VjaCIsInBvczEiLCJwb3MyIiwicG9zMyIsInBvczQiLCJpc2lPUyIsImlzaU9TRGV2aWNlIiwiaXNQYXJlbnRXaW5kb3ciLCJub2RlTmFtZSIsIm1heExlZnQiLCJpbm5lcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJtYXhUb3AiLCJpbm5lckhlaWdodCIsIm9mZnNldEhlaWdodCIsInRvdWNoU3RhcnQiLCJtb3ZpbmciLCJvbldpbmRvd0NoYW5nZSIsImlzVmVydGljYWwiLCJvZmZzZXRNYXhMZWZ0Iiwib2Zmc2V0TWF4VG9wIiwiZWxUb3AiLCJlbExlZnQiLCJsZWZ0IiwianVzdEFUb3VjaCIsInBhc3NpdmUiLCJ0YXJnZXRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImVsZW1lbnREcmFnIiwiY2xvc2VEcmFnRWxlbWVudCIsIm9ubW91c2Vkb3duIiwiZHJhZ01vdXNlRG93biIsImNsaWVudFgiLCJjbGllbnRZIiwib25tb3VzZXVwIiwib25tb3VzZW1vdmUiLCJjaGVja01heE1pblJlc3RyYWludHMiLCJtaW5MZWZ0IiwicG9zWCIsInBvc1kiLCJjaGVja01vdmVtZW50Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsImxlZnRUb3BDaGVjayIsInNldFRpbWVvdXRHbG9iYWwiLCJfc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkiLCJmdW5jIiwidGltZXIiLCJpbnRlcnZhbCIsIkVycm9yIiwiY2xvc2VUaW1lb3V0IiwicmVFbmFibGVUaW1lb3V0cyIsInRtcCIsImNzc1ZhcnMiLCJpbmNsdWRlIiwid2F0Y2giLCJvbmx5TGVnYWN5IiwiU3ludGF4RXJyb3IiLCJFdmVudCIsInJldHVyblZhbHVlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwidCIsIm4iLCJyIiwiRWxlbWVudCIsInNyY0VsZW1lbnQiLCJjdXJyZW50VGFyZ2V0Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImhhbmRsZUV2ZW50IiwiY2FsbCIsIm8iLCJhdHRhY2hFdmVudCIsIm9iamVjdCIsImxpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiSFRNTERvY3VtZW50IiwiV2luZG93IiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsImYiLCJxdW90ZSIsImVzY2FwYWJsZSIsImxhc3RJbmRleCIsInRlc3QiLCJtZXRhIiwiY2hhckNvZGVBdCIsInNsaWNlIiwiYSIsInAiLCJnYXAiLCJ1IiwidG9KU09OIiwicmVwIiwiaXNGaW5pdGUiLCJpbmRlbnQiLCJPYmplY3QiLCJhcHBseSIsInZhbHVlT2YiLCJnZXRVVENTZWNvbmRzIiwiTnVtYmVyIiwiQm9vbGVhbiIsImN4IiwidGV4dCIsInJldml2ZXIiLCJ3YWxrIiwiaiIsImV2YWwiLCJfc2xpY2UiLCJkb2N1bWVudEVsZW1lbnQiLCJjIiwibCIsImNoYXJBdCIsInJlVHJpbSIsImV2ZW50c291cmNlIiwibGFzdEV2ZW50SWQiLCJjYWNoZSIsIlVSTCIsIkNPTk5FQ1RJTkciLCJfcG9sbFRpbWVyIiwiX3hociIsInBvbGxBZ2FpbiIsInBvbGwiLCJ0aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwiT1BFTiIsImRpc3BhdGNoRXZlbnQiLCJwYXJ0cyIsImV2ZW50VHlwZSIsImxpbmUiLCJyZXRyeSIsImlzTmFOIiwiTWVzc2FnZUV2ZW50IiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwib25tZXNzYWdlIiwib25vcGVuIiwib3JpZ2luIiwibW9kdWxlIiwiZXhwb3J0cyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInRyYWNlIiwibmV3Tm9kZSIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwic2VsZWN0b3IiLCJzZWxlY3RvckNsYXNzU3RyaW5nIiwiZ2V0QXR0cmlidXRlIiwic2VsZWN0b3JJZFN0cmluZyIsIm1hdGNoIiwidG9VcHBlckNhc2UiLCJudW0iLCJnZXRPZmZzZXQiLCJfeCIsIl95Iiwib2Zmc2V0UGFyZW50IiwiX2hhc0NsYXNzIiwiY29udGFpbnMiLCJSZWdFeHAiLCJzdGFjayIsImlzRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwibm9kZVR5cGUiLCJjaGVjayIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwidG9Mb3dlckNhc2UiLCJwbGF0Zm9ybSIsIm9iajEiLCJvYmoyIiwiYXJyYXlUeXBlIiwib2JqMyIsImsiLCJvYmplY3RDb3VudCIsImRvYyIsInRtcERvYyIsInRtcFNlbGVjdG9yIiwidHJpbSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicXVlcnlTZWxlY3RvckFsbCIsInNjcm9sbEVuYWJsZWQiLCJzY3JvbGxIZWlnaHQiLCJwYXJ0aWFsIiwiaHRtbCIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0Iiwic3RyaW5nIl0sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7Ozs7Ozs7O0FDbEZZOztBQUVaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsU0FBUztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN2SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVk7O0FBRVosYUFBYSxtQkFBTyxDQUFDLG9EQUFXO0FBQ2hDLGNBQWMsbUJBQU8sQ0FBQyxnREFBUztBQUMvQixjQUFjLG1CQUFPLENBQUMsZ0RBQVM7O0FBRS9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQW1EO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEVBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQSxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JB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QTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1Qiw2QkFBNkI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0JBQXNCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixRQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixPQUFPO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1JQUFrQztBQUNsRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQkFBK0I7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsRUFBRSxJQUFJLEVBQUU7QUFDbkQsd0NBQXdDLEVBQUUsSUFBSSxFQUFFOztBQUVoRDs7QUFFQTtBQUNBLGlDQUFpQyxFQUFFO0FBQ25DLDJCQUEyQixFQUFFO0FBQzdCLDZCQUE2QixFQUFFO0FBQy9CLDJCQUEyQixFQUFFO0FBQzdCLHlCQUF5QixFQUFFLElBQUksRUFBRTtBQUNqQyx3QkFBd0IsRUFBRTtBQUMxQiwrQkFBK0IsR0FBRztBQUNsQyx5QkFBeUIsRUFBRTtBQUMzQjtBQUNBLDJCQUEyQixFQUFFLElBQUksRUFBRTtBQUNuQywwQkFBMEIsRUFBRSxJQUFJLEVBQUU7QUFDbEMsd0JBQXdCLEVBQUU7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUE4RCxJQUFJLDBEQUEwRCxJQUFJLHFFQUFxRSxFQUFFOztBQUV2TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQyxnQkFBZ0I7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvQkFBb0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHFCQUFxQjtBQUM1QztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkJBQTZCO0FBQ3RDO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLDZEQUE2RDtBQUM3RCx5REFBeUQ7QUFDekQsK0RBQStEO0FBQy9ELHdEQUF3RCxPQUFPO0FBQy9ELHdEQUF3RCxPQUFPO0FBQy9ELHVEQUF1RCxPQUFPO0FBQzlELG1FQUFtRSxPQUFPO0FBQzFFLHFFQUFxRSxPQUFPO0FBQzVFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHFCQUFxQjtBQUN4RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxxQkFBcUI7QUFDeEQsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7OztBQUdMOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLG1CQUFtQjtBQUN4QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLElBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDOzs7Ozs7Ozs7Ozs7O0FDei9JRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVOzs7Ozs7Ozs7Ozs7QUN2THRDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FB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Q0FBQ3ZpQixTQUFKLEdBQWdCb3JCLElBQWhCO0FBQ0EsU0FBTzdJLEdBQUcsQ0FBQzhJLFdBQUosSUFBbUI5SSxHQUFHLENBQUMrSSxTQUF2QixJQUFvQyxFQUEzQztBQUNELENBSkQ7O0FBTWVoWCx3RUFBZixFOzs7Ozs7Ozs7Ozs7QUNaQTtBQUFBLElBQU1zVyxJQUFJLEdBQUcsU0FBUEEsSUFBTyxDQUFVVyxNQUFWLEVBQWtCO0FBQzdCLFNBQU9BLE1BQU0sQ0FBQzE5QixPQUFQLENBQWUsWUFBZixFQUE2QixFQUE3QixDQUFQO0FBQ0QsQ0FGRDs7QUFJZSs4QixtRUFBZixFIiwiZmlsZSI6ImxlYWRlcmJvYXJkLnYzLXNlbGZpbml0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvamF2YXNjcmlwdC9sZWFkZXJib2FyZC52My1zZWxmaW5pdC5qc1wiKTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayhcbiAgICAgIHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aClcbiAgICApKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwiLyohXG4gKiBjc3MtdmFycy1wb255ZmlsbFxuICogdjIuMy4yXG4gKiBodHRwczovL2poaWxkZW5iaWRkbGUuZ2l0aHViLmlvL2Nzcy12YXJzLXBvbnlmaWxsL1xuICogKGMpIDIwMTgtMjAyMCBKb2huIEhpbGRlbmJpZGRsZSA8aHR0cDovL2hpbGRlbmJpZGRsZS5jb20+XG4gKiBNSVQgbGljZW5zZVxuICovXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcbiAgICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICAgIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gICAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuLyohXG4gKiBnZXQtY3NzLWRhdGFcbiAqIHYxLjguMFxuICogaHR0cHM6Ly9naXRodWIuY29tL2poaWxkZW5iaWRkbGUvZ2V0LWNzcy1kYXRhXG4gKiAoYykgMjAxOC0yMDIwIEpvaG4gSGlsZGVuYmlkZGxlIDxodHRwOi8vaGlsZGVuYmlkZGxlLmNvbT5cbiAqIE1JVCBsaWNlbnNlXG4gKi8gZnVuY3Rpb24gZ2V0VXJscyh1cmxzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBzZXR0aW5ncyA9IHtcbiAgICAgICAgbWltZVR5cGU6IG9wdGlvbnMubWltZVR5cGUgfHwgbnVsbCxcbiAgICAgICAgb25CZWZvcmVTZW5kOiBvcHRpb25zLm9uQmVmb3JlU2VuZCB8fCBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9uU3VjY2Vzczogb3B0aW9ucy5vblN1Y2Nlc3MgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvbkVycm9yOiBvcHRpb25zLm9uRXJyb3IgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvbkNvbXBsZXRlOiBvcHRpb25zLm9uQ29tcGxldGUgfHwgRnVuY3Rpb24ucHJvdG90eXBlXG4gICAgfTtcbiAgICB2YXIgdXJsQXJyYXkgPSBBcnJheS5pc0FycmF5KHVybHMpID8gdXJscyA6IFsgdXJscyBdO1xuICAgIHZhciB1cmxRdWV1ZSA9IEFycmF5LmFwcGx5KG51bGwsIEFycmF5KHVybEFycmF5Lmxlbmd0aCkpLm1hcCgoZnVuY3Rpb24oeCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KSk7XG4gICAgZnVuY3Rpb24gaXNWYWxpZENzcygpIHtcbiAgICAgICAgdmFyIGNzc1RleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFwiXCI7XG4gICAgICAgIHZhciBpc0hUTUwgPSBjc3NUZXh0LnRyaW0oKS5jaGFyQXQoMCkgPT09IFwiPFwiO1xuICAgICAgICByZXR1cm4gIWlzSFRNTDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25FcnJvcih4aHIsIHVybEluZGV4KSB7XG4gICAgICAgIHNldHRpbmdzLm9uRXJyb3IoeGhyLCB1cmxBcnJheVt1cmxJbmRleF0sIHVybEluZGV4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3BvbnNlVGV4dCwgdXJsSW5kZXgpIHtcbiAgICAgICAgdmFyIHJldHVyblZhbCA9IHNldHRpbmdzLm9uU3VjY2VzcyhyZXNwb25zZVRleHQsIHVybEFycmF5W3VybEluZGV4XSwgdXJsSW5kZXgpO1xuICAgICAgICByZXNwb25zZVRleHQgPSByZXR1cm5WYWwgPT09IGZhbHNlID8gXCJcIiA6IHJldHVyblZhbCB8fCByZXNwb25zZVRleHQ7XG4gICAgICAgIHVybFF1ZXVlW3VybEluZGV4XSA9IHJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKHVybFF1ZXVlLmluZGV4T2YobnVsbCkgPT09IC0xKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5vbkNvbXBsZXRlKHVybFF1ZXVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgdXJsQXJyYXkuZm9yRWFjaCgoZnVuY3Rpb24odXJsLCBpKSB7XG4gICAgICAgIHBhcnNlci5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHVybCk7XG4gICAgICAgIHBhcnNlci5ocmVmID0gU3RyaW5nKHBhcnNlci5ocmVmKTtcbiAgICAgICAgdmFyIGlzSUVsdGU5ID0gQm9vbGVhbihkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICAgICAgdmFyIGlzSUVsdGU5Q09SUyA9IGlzSUVsdGU5ICYmIHBhcnNlci5ob3N0LnNwbGl0KFwiOlwiKVswXSAhPT0gbG9jYXRpb24uaG9zdC5zcGxpdChcIjpcIilbMF07XG4gICAgICAgIGlmIChpc0lFbHRlOUNPUlMpIHtcbiAgICAgICAgICAgIHZhciBpc1NhbWVQcm90b2NvbCA9IHBhcnNlci5wcm90b2NvbCA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgICAgICBpZiAoaXNTYW1lUHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICB2YXIgeGRyID0gbmV3IFhEb21haW5SZXF1ZXN0O1xuICAgICAgICAgICAgICAgIHhkci5vcGVuKFwiR0VUXCIsIHVybCk7XG4gICAgICAgICAgICAgICAgeGRyLnRpbWVvdXQgPSAwO1xuICAgICAgICAgICAgICAgIHhkci5vbnByb2dyZXNzID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICAgICAgICAgICAgICAgIHhkci5vbnRpbWVvdXQgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgICAgICAgICAgICAgeGRyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZENzcyh4ZHIucmVzcG9uc2VUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKHhkci5yZXNwb25zZVRleHQsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcih4ZHIsIGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB4ZHIub25lcnJvciA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHhkciwgaSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgeGRyLnNlbmQoKTtcbiAgICAgICAgICAgICAgICB9KSwgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkludGVybmV0IEV4cGxvcmVyIDkgQ3Jvc3MtT3JpZ2luIChDT1JTKSByZXF1ZXN0cyBtdXN0IHVzZSB0aGUgc2FtZSBwcm90b2NvbCAoXCIuY29uY2F0KHVybCwgXCIpXCIpKTtcbiAgICAgICAgICAgICAgICBvbkVycm9yKG51bGwsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdDtcbiAgICAgICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHVybCk7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZShzZXR0aW5ncy5taW1lVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXR0aW5ncy5vbkJlZm9yZVNlbmQoeGhyLCB1cmwsIGkpO1xuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwICYmIGlzVmFsaWRDc3MoeGhyLnJlc3BvbnNlVGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2Vzcyh4aHIucmVzcG9uc2VUZXh0LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoeGhyLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgICB9XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIEdldHMgQ1NTIGRhdGEgZnJvbSA8c3R5bGU+IGFuZCA8bGluaz4gbm9kZXMgKGluY2x1ZGluZyBAaW1wb3J0cyksIHRoZW5cbiAqIHJldHVybnMgZGF0YSBpbiBvcmRlciBwcm9jZXNzZWQgYnkgRE9NLiBBbGxvd3Mgc3BlY2lmeWluZyBub2RlcyB0b1xuICogaW5jbHVkZS9leGNsdWRlIGFuZCBmaWx0ZXJpbmcgQ1NTIGRhdGEgdXNpbmcgUmVnRXguXG4gKlxuICogQHByZXNlcnZlXG4gKiBAcGFyYW0ge29iamVjdH0gICBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0XG4gKiBAcGFyYW0ge29iamVjdH0gICBbb3B0aW9ucy5yb290RWxlbWVudD1kb2N1bWVudF0gUm9vdCBlbGVtZW50IHRvIHRyYXZlcnNlIGZvclxuICogICAgICAgICAgICAgICAgICAgPGxpbms+IGFuZCA8c3R5bGU+IG5vZGVzLlxuICogQHBhcmFtIHtzdHJpbmd9ICAgW29wdGlvbnMuaW5jbHVkZV0gQ1NTIHNlbGVjdG9yIG1hdGNoaW5nIDxsaW5rPiBhbmQgPHN0eWxlPlxuICogICAgICAgICAgICAgICAgICAgbm9kZXMgdG8gaW5jbHVkZVxuICogQHBhcmFtIHtzdHJpbmd9ICAgW29wdGlvbnMuZXhjbHVkZV0gQ1NTIHNlbGVjdG9yIG1hdGNoaW5nIDxsaW5rPiBhbmQgPHN0eWxlPlxuICogICAgICAgICAgICAgICAgICAgbm9kZXMgdG8gZXhjbHVkZVxuICogQHBhcmFtIHtvYmplY3R9ICAgW29wdGlvbnMuZmlsdGVyXSBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byBmaWx0ZXIgbm9kZSBDU1NcbiAqICAgICAgICAgICAgICAgICAgIGRhdGEuIEVhY2ggYmxvY2sgb2YgQ1NTIGRhdGEgaXMgdGVzdGVkIGFnYWluc3QgdGhlIGZpbHRlcixcbiAqICAgICAgICAgICAgICAgICAgIGFuZCBvbmx5IG1hdGNoaW5nIGRhdGEgaXMgaW5jbHVkZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICBbb3B0aW9ucy5za2lwRGlzYWJsZWQ9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiBkaXNhYmxlZFxuICogICAgICAgICAgICAgICAgICAgc3R5bGVzaGVldHMgd2lsbCBiZSBza2lwcGVkIHdoaWxlIGNvbGxlY3RpbmcgQ1NTIGRhdGEuXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICBbb3B0aW9ucy51c2VDU1NPTT1mYWxzZV0gRGV0ZXJtaW5lcyBpZiBDU1MgZGF0YSB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgICAgICBjb2xsZWN0ZWQgZnJvbSBhIHN0eWxlc2hlZXQncyBydW50aW1lIHZhbHVlcyBpbnN0ZWFkIG9mIGl0c1xuICogICAgICAgICAgICAgICAgICAgdGV4dCBjb250ZW50LiBUaGlzIGlzIHJlcXVpcmVkIHRvIGdldCBhY2N1cmF0ZSBDU1MgZGF0YVxuICogICAgICAgICAgICAgICAgICAgd2hlbiBhIHN0eWxlc2hlZXQgaGFzIGJlZW4gbW9kaWZpZWQgdXNpbmcgdGhlIGRlbGV0ZVJ1bGUoKVxuICogICAgICAgICAgICAgICAgICAgb3IgaW5zZXJ0UnVsZSgpIG1ldGhvZHMgYmVjYXVzZSB0aGVzZSBtb2RpZmljYXRpb25zIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgIG5vdCBiZSByZWZsZWN0ZWQgaW4gdGhlIHN0eWxlc2hlZXQncyB0ZXh0IGNvbnRlbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkJlZm9yZVNlbmRdIENhbGxiYWNrIGJlZm9yZSBYSFIgaXMgc2VudC4gUGFzc2VzXG4gKiAgICAgICAgICAgICAgICAgICAxKSB0aGUgWEhSIG9iamVjdCwgMikgc291cmNlIG5vZGUgcmVmZXJlbmNlLCBhbmQgMykgdGhlXG4gKiAgICAgICAgICAgICAgICAgICBzb3VyY2UgVVJMIGFzIGFyZ3VtZW50cy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uU3VjY2Vzc10gQ2FsbGJhY2sgb24gZWFjaCBDU1Mgbm9kZSByZWFkLiBQYXNzZXNcbiAqICAgICAgICAgICAgICAgICAgIDEpIENTUyB0ZXh0LCAyKSBzb3VyY2Ugbm9kZSByZWZlcmVuY2UsIGFuZCAzKSB0aGUgc291cmNlXG4gKiAgICAgICAgICAgICAgICAgICBVUkwgYXMgYXJndW1lbnRzLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25FcnJvcl0gQ2FsbGJhY2sgb24gZWFjaCBlcnJvci4gUGFzc2VzIDEpIHRoZSBYSFJcbiAqICAgICAgICAgICAgICAgICAgIG9iamVjdCBmb3IgaW5zcGVjdGlvbiwgMikgc291cmUgbm9kZSByZWZlcmVuY2UsIGFuZCAzKSB0aGVcbiAqICAgICAgICAgICAgICAgICAgIHNvdXJjZSBVUkwgdGhhdCBmYWlsZWQgKGVpdGhlciBhIDxsaW5rPiBocmVmIG9yIGFuIEBpbXBvcnQpXG4gKiAgICAgICAgICAgICAgICAgICBhcyBhcmd1bWVudHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uQ29tcGxldGVdIENhbGxiYWNrIGFmdGVyIGFsbCBub2RlcyBoYXZlIGJlZW5cbiAqICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZC4gUGFzc2VzIDEpIGNvbmNhdGVuYXRlZCBDU1MgdGV4dCwgMikgYW4gYXJyYXkgb2ZcbiAqICAgICAgICAgICAgICAgICAgIENTUyB0ZXh0IGluIERPTSBvcmRlciwgYW5kIDMpIGFuIGFycmF5IG9mIG5vZGVzIGluIERPTVxuICogICAgICAgICAgICAgICAgICAgb3JkZXIgYXMgYXJndW1lbnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICBnZXRDc3NEYXRhKHtcbiAqICAgICByb290RWxlbWVudCA6IGRvY3VtZW50LFxuICogICAgIGluY2x1ZGUgICAgIDogJ3N0eWxlLGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXScsXG4gKiAgICAgZXhjbHVkZSAgICAgOiAnW2hyZWY9XCJza2lwLmNzc1wiXScsXG4gKiAgICAgZmlsdGVyICAgICAgOiAvcmVkLyxcbiAqICAgICBza2lwRGlzYWJsZWQ6IHRydWUsXG4gKiAgICAgdXNlQ1NTT00gICAgOiBmYWxzZSxcbiAqICAgICBvbkJlZm9yZVNlbmQoeGhyLCBub2RlLCB1cmwpIHtcbiAqICAgICAgIC8vIC4uLlxuICogICAgIH1cbiAqICAgICBvblN1Y2Nlc3MoY3NzVGV4dCwgbm9kZSwgdXJsKSB7XG4gKiAgICAgICAvLyAuLi5cbiAqICAgICB9XG4gKiAgICAgb25FcnJvcih4aHIsIG5vZGUsIHVybCkge1xuICogICAgICAgLy8gLi4uXG4gKiAgICAgfSxcbiAqICAgICBvbkNvbXBsZXRlKGNzc1RleHQsIGNzc0FycmF5LCBub2RlQXJyYXkpIHtcbiAqICAgICAgIC8vIC4uLlxuICogICAgIH1cbiAqICAgfSk7XG4gKi8gZnVuY3Rpb24gZ2V0Q3NzRGF0YShvcHRpb25zKSB7XG4gICAgdmFyIHJlZ2V4ID0ge1xuICAgICAgICBjc3NDb21tZW50czogL1xcL1xcKltcXHNcXFNdKz9cXCpcXC8vZyxcbiAgICAgICAgY3NzSW1wb3J0czogLyg/OkBpbXBvcnRcXHMqKSg/OnVybFxcKFxccyopPyg/OlsnXCJdKShbXidcIl0qKSg/OlsnXCJdKSg/OlxccypcXCkpPyg/OlteO10qOykvZ1xuICAgIH07XG4gICAgdmFyIHNldHRpbmdzID0ge1xuICAgICAgICByb290RWxlbWVudDogb3B0aW9ucy5yb290RWxlbWVudCB8fCBkb2N1bWVudCxcbiAgICAgICAgaW5jbHVkZTogb3B0aW9ucy5pbmNsdWRlIHx8ICdzdHlsZSxsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl0nLFxuICAgICAgICBleGNsdWRlOiBvcHRpb25zLmV4Y2x1ZGUgfHwgbnVsbCxcbiAgICAgICAgZmlsdGVyOiBvcHRpb25zLmZpbHRlciB8fCBudWxsLFxuICAgICAgICBza2lwRGlzYWJsZWQ6IG9wdGlvbnMuc2tpcERpc2FibGVkICE9PSBmYWxzZSxcbiAgICAgICAgdXNlQ1NTT006IG9wdGlvbnMudXNlQ1NTT00gfHwgZmFsc2UsXG4gICAgICAgIG9uQmVmb3JlU2VuZDogb3B0aW9ucy5vbkJlZm9yZVNlbmQgfHwgRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvblN1Y2Nlc3M6IG9wdGlvbnMub25TdWNjZXNzIHx8IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb25FcnJvcjogb3B0aW9ucy5vbkVycm9yIHx8IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb25Db21wbGV0ZTogb3B0aW9ucy5vbkNvbXBsZXRlIHx8IEZ1bmN0aW9uLnByb3RvdHlwZVxuICAgIH07XG4gICAgdmFyIHNvdXJjZU5vZGVzID0gQXJyYXkuYXBwbHkobnVsbCwgc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZXR0aW5ncy5pbmNsdWRlKSkuZmlsdGVyKChmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHJldHVybiAhbWF0Y2hlc1NlbGVjdG9yKG5vZGUsIHNldHRpbmdzLmV4Y2x1ZGUpO1xuICAgIH0pKTtcbiAgICB2YXIgY3NzQXJyYXkgPSBBcnJheS5hcHBseShudWxsLCBBcnJheShzb3VyY2VOb2Rlcy5sZW5ndGgpKS5tYXAoKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSkpO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlKCkge1xuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGNzc0FycmF5LmluZGV4T2YobnVsbCkgPT09IC0xO1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgdmFyIGNzc1RleHQgPSBjc3NBcnJheS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZShjc3NUZXh0LCBjc3NBcnJheSwgc291cmNlTm9kZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVN1Y2Nlc3MoY3NzVGV4dCwgY3NzSW5kZXgsIG5vZGUsIHNvdXJjZVVybCkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsID0gc2V0dGluZ3Mub25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHNvdXJjZVVybCk7XG4gICAgICAgIGNzc1RleHQgPSByZXR1cm5WYWwgIT09IHVuZGVmaW5lZCAmJiBCb29sZWFuKHJldHVyblZhbCkgPT09IGZhbHNlID8gXCJcIiA6IHJldHVyblZhbCB8fCBjc3NUZXh0O1xuICAgICAgICByZXNvbHZlSW1wb3J0cyhjc3NUZXh0LCBub2RlLCBzb3VyY2VVcmwsIChmdW5jdGlvbihyZXNvbHZlZENzc1RleHQsIGVycm9yRGF0YSkge1xuICAgICAgICAgICAgaWYgKGNzc0FycmF5W2Nzc0luZGV4XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGVycm9yRGF0YS5mb3JFYWNoKChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5vbkVycm9yKGRhdGEueGhyLCBub2RlLCBkYXRhLnVybCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGlmICghc2V0dGluZ3MuZmlsdGVyIHx8IHNldHRpbmdzLmZpbHRlci50ZXN0KHJlc29sdmVkQ3NzVGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3NzQXJyYXlbY3NzSW5kZXhdID0gcmVzb2x2ZWRDc3NUZXh0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc0FycmF5W2Nzc0luZGV4XSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VJbXBvcnREYXRhKGNzc1RleHQsIGJhc2VVcmwpIHtcbiAgICAgICAgdmFyIGlnbm9yZVJ1bGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTtcbiAgICAgICAgdmFyIGltcG9ydERhdGEgPSB7fTtcbiAgICAgICAgaW1wb3J0RGF0YS5ydWxlcyA9IChjc3NUZXh0LnJlcGxhY2UocmVnZXguY3NzQ29tbWVudHMsIFwiXCIpLm1hdGNoKHJlZ2V4LmNzc0ltcG9ydHMpIHx8IFtdKS5maWx0ZXIoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBpZ25vcmVSdWxlcy5pbmRleE9mKHJ1bGUpID09PSAtMTtcbiAgICAgICAgfSkpO1xuICAgICAgICBpbXBvcnREYXRhLnVybHMgPSBpbXBvcnREYXRhLnJ1bGVzLm1hcCgoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJ1bGUucmVwbGFjZShyZWdleC5jc3NJbXBvcnRzLCBcIiQxXCIpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGltcG9ydERhdGEuYWJzb2x1dGVVcmxzID0gaW1wb3J0RGF0YS51cmxzLm1hcCgoZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RnVsbFVybCh1cmwsIGJhc2VVcmwpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGltcG9ydERhdGEuYWJzb2x1dGVSdWxlcyA9IGltcG9ydERhdGEucnVsZXMubWFwKChmdW5jdGlvbihydWxlLCBpKSB7XG4gICAgICAgICAgICB2YXIgb2xkVXJsID0gaW1wb3J0RGF0YS51cmxzW2ldO1xuICAgICAgICAgICAgdmFyIG5ld1VybCA9IGdldEZ1bGxVcmwoaW1wb3J0RGF0YS5hYnNvbHV0ZVVybHNbaV0sIGJhc2VVcmwpO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bGUucmVwbGFjZShvbGRVcmwsIG5ld1VybCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGltcG9ydERhdGE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVJbXBvcnRzKGNzc1RleHQsIG5vZGUsIGJhc2VVcmwsIGNhbGxiYWNrRm4pIHtcbiAgICAgICAgdmFyIF9fZXJyb3JEYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBbXTtcbiAgICAgICAgdmFyIF9fZXJyb3JSdWxlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogW107XG4gICAgICAgIHZhciBpbXBvcnREYXRhID0gcGFyc2VJbXBvcnREYXRhKGNzc1RleHQsIGJhc2VVcmwsIF9fZXJyb3JSdWxlcyk7XG4gICAgICAgIGlmIChpbXBvcnREYXRhLnJ1bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgZ2V0VXJscyhpbXBvcnREYXRhLmFic29sdXRlVXJscywge1xuICAgICAgICAgICAgICAgIG9uQmVmb3JlU2VuZDogZnVuY3Rpb24gb25CZWZvcmVTZW5kKHhociwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkJlZm9yZVNlbmQoeGhyLCBub2RlLCB1cmwpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoY3NzVGV4dCwgdXJsLCB1cmxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gc2V0dGluZ3Mub25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSByZXR1cm5WYWwgPT09IGZhbHNlID8gXCJcIiA6IHJldHVyblZhbCB8fCBjc3NUZXh0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VJbXBvcnREYXRhID0gcGFyc2VJbXBvcnREYXRhKGNzc1RleHQsIHVybCwgX19lcnJvclJ1bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJbXBvcnREYXRhLnJ1bGVzLmZvckVhY2goKGZ1bmN0aW9uKHJ1bGUsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UocnVsZSwgcmVzcG9uc2VJbXBvcnREYXRhLmFic29sdXRlUnVsZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NUZXh0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcih4aHIsIHVybCwgdXJsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgX19lcnJvckRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB4aHI6IHhocixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfX2Vycm9yUnVsZXMucHVzaChpbXBvcnREYXRhLnJ1bGVzW3VybEluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVJbXBvcnRzKGNzc1RleHQsIG5vZGUsIGJhc2VVcmwsIGNhbGxiYWNrRm4sIF9fZXJyb3JEYXRhLCBfX2Vycm9yUnVsZXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZShyZXNwb25zZUFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQXJyYXkuZm9yRWFjaCgoZnVuY3Rpb24oaW1wb3J0VGV4dCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQucmVwbGFjZShpbXBvcnREYXRhLnJ1bGVzW2ldLCBpbXBvcnRUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlSW1wb3J0cyhjc3NUZXh0LCBub2RlLCBiYXNlVXJsLCBjYWxsYmFja0ZuLCBfX2Vycm9yRGF0YSwgX19lcnJvclJ1bGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrRm4oY3NzVGV4dCwgX19lcnJvckRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzb3VyY2VOb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgc291cmNlTm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24obm9kZSwgaSkge1xuICAgICAgICAgICAgdmFyIGxpbmtIcmVmID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgdmFyIGxpbmtSZWwgPSBub2RlLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcbiAgICAgICAgICAgIHZhciBpc0xpbmsgPSBub2RlLm5vZGVOYW1lID09PSBcIkxJTktcIiAmJiBsaW5rSHJlZiAmJiBsaW5rUmVsICYmIGxpbmtSZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwic3R5bGVzaGVldFwiKSAhPT0gLTE7XG4gICAgICAgICAgICB2YXIgaXNTa2lwID0gc2V0dGluZ3Muc2tpcERpc2FibGVkID09PSBmYWxzZSA/IGZhbHNlIDogbm9kZS5kaXNhYmxlZDtcbiAgICAgICAgICAgIHZhciBpc1N0eWxlID0gbm9kZS5ub2RlTmFtZSA9PT0gXCJTVFlMRVwiO1xuICAgICAgICAgICAgaWYgKGlzTGluayAmJiAhaXNTa2lwKSB7XG4gICAgICAgICAgICAgICAgZ2V0VXJscyhsaW5rSHJlZiwge1xuICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogXCJ0ZXh0L2Nzc1wiLFxuICAgICAgICAgICAgICAgICAgICBvbkJlZm9yZVNlbmQ6IGZ1bmN0aW9uIG9uQmVmb3JlU2VuZCh4aHIsIHVybCwgdXJsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uQmVmb3JlU2VuZCh4aHIsIG5vZGUsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKGNzc1RleHQsIHVybCwgdXJsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2VVcmwgPSBnZXRGdWxsVXJsKGxpbmtIcmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVN1Y2Nlc3MoY3NzVGV4dCwgaSwgbm9kZSwgc291cmNlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcih4aHIsIHVybCwgdXJsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0FycmF5W2ldID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uRXJyb3IoeGhyLCBub2RlLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N0eWxlICYmICFpc1NraXApIHtcbiAgICAgICAgICAgICAgICB2YXIgY3NzVGV4dCA9IG5vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnVzZUNTU09NKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSBBcnJheS5hcHBseShudWxsLCBub2RlLnNoZWV0LmNzc1J1bGVzKS5tYXAoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBydWxlLmNzc1RleHQ7XG4gICAgICAgICAgICAgICAgICAgIH0pKS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVTdWNjZXNzKGNzc1RleHQsIGksIG5vZGUsIGxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjc3NBcnJheVtpXSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHRpbmdzLm9uQ29tcGxldGUoXCJcIiwgW10pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RnVsbFVybCh1cmwsIGJhc2UpIHtcbiAgICB2YXIgZCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTtcbiAgICB2YXIgYiA9IGQuY3JlYXRlRWxlbWVudChcImJhc2VcIik7XG4gICAgdmFyIGEgPSBkLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGQuaGVhZC5hcHBlbmRDaGlsZChiKTtcbiAgICBkLmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgYi5ocmVmID0gYmFzZSB8fCBkb2N1bWVudC5iYXNlVVJJIHx8IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYmFzZVwiKSB8fCB7fSkuaHJlZiB8fCBsb2NhdGlvbi5ocmVmO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYS5ocmVmO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoZWxtLCBzZWxlY3Rvcikge1xuICAgIHZhciBtYXRjaGVzID0gZWxtLm1hdGNoZXMgfHwgZWxtLm1hdGNoZXNTZWxlY3RvciB8fCBlbG0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVsbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZWxtLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGVsbS5vTWF0Y2hlc1NlbGVjdG9yO1xuICAgIHJldHVybiBtYXRjaGVzLmNhbGwoZWxtLCBzZWxlY3Rvcik7XG59XG5cbnZhciBiYWxhbmNlZE1hdGNoID0gYmFsYW5jZWQ7XG5cbmZ1bmN0aW9uIGJhbGFuY2VkKGEsIGIsIHN0cikge1xuICAgIGlmIChhIGluc3RhbmNlb2YgUmVnRXhwKSBhID0gbWF5YmVNYXRjaChhLCBzdHIpO1xuICAgIGlmIChiIGluc3RhbmNlb2YgUmVnRXhwKSBiID0gbWF5YmVNYXRjaChiLCBzdHIpO1xuICAgIHZhciByID0gcmFuZ2UoYSwgYiwgc3RyKTtcbiAgICByZXR1cm4gciAmJiB7XG4gICAgICAgIHN0YXJ0OiByWzBdLFxuICAgICAgICBlbmQ6IHJbMV0sXG4gICAgICAgIHByZTogc3RyLnNsaWNlKDAsIHJbMF0pLFxuICAgICAgICBib2R5OiBzdHIuc2xpY2UoclswXSArIGEubGVuZ3RoLCByWzFdKSxcbiAgICAgICAgcG9zdDogc3RyLnNsaWNlKHJbMV0gKyBiLmxlbmd0aClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBtYXliZU1hdGNoKHJlZywgc3RyKSB7XG4gICAgdmFyIG0gPSBzdHIubWF0Y2gocmVnKTtcbiAgICByZXR1cm4gbSA/IG1bMF0gOiBudWxsO1xufVxuXG5iYWxhbmNlZC5yYW5nZSA9IHJhbmdlO1xuXG5mdW5jdGlvbiByYW5nZShhLCBiLCBzdHIpIHtcbiAgICB2YXIgYmVncywgYmVnLCBsZWZ0LCByaWdodCwgcmVzdWx0O1xuICAgIHZhciBhaSA9IHN0ci5pbmRleE9mKGEpO1xuICAgIHZhciBiaSA9IHN0ci5pbmRleE9mKGIsIGFpICsgMSk7XG4gICAgdmFyIGkgPSBhaTtcbiAgICBpZiAoYWkgPj0gMCAmJiBiaSA+IDApIHtcbiAgICAgICAgYmVncyA9IFtdO1xuICAgICAgICBsZWZ0ID0gc3RyLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhcmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoaSA9PSBhaSkge1xuICAgICAgICAgICAgICAgIGJlZ3MucHVzaChpKTtcbiAgICAgICAgICAgICAgICBhaSA9IHN0ci5pbmRleE9mKGEsIGkgKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmVncy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsgYmVncy5wb3AoKSwgYmkgXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmVnID0gYmVncy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoYmVnIDwgbGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gYmVnO1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IGJpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaSA9IHN0ci5pbmRleE9mKGIsIGkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgPSBhaSA8IGJpICYmIGFpID49IDAgPyBhaSA6IGJpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiZWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gWyBsZWZ0LCByaWdodCBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ3NzKGNzcykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIHByZXNlcnZlU3RhdGljOiB0cnVlLFxuICAgICAgICByZW1vdmVDb21tZW50czogZmFsc2VcbiAgICB9O1xuICAgIHZhciBzZXR0aW5ncyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIGZ1bmN0aW9uIGVycm9yKG1zZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDU1MgcGFyc2UgZXJyb3I6IFwiLmNvbmNhdChtc2cpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWF0Y2gocmUpIHtcbiAgICAgICAgdmFyIG0gPSByZS5leGVjKGNzcyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICBjc3MgPSBjc3Muc2xpY2UobVswXS5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKC9ee1xccyovKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaCgvXn0vKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2hpdGVzcGFjZSgpIHtcbiAgICAgICAgbWF0Y2goL15cXHMqLyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1lbnQoKSB7XG4gICAgICAgIHdoaXRlc3BhY2UoKTtcbiAgICAgICAgaWYgKGNzc1swXSAhPT0gXCIvXCIgfHwgY3NzWzFdICE9PSBcIipcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpID0gMjtcbiAgICAgICAgd2hpbGUgKGNzc1tpXSAmJiAoY3NzW2ldICE9PSBcIipcIiB8fCBjc3NbaSArIDFdICE9PSBcIi9cIikpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNzc1tpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yKFwiZW5kIG9mIGNvbW1lbnQgaXMgbWlzc2luZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RyID0gY3NzLnNsaWNlKDIsIGkpO1xuICAgICAgICBjc3MgPSBjc3Muc2xpY2UoaSArIDIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJjb21tZW50XCIsXG4gICAgICAgICAgICBjb21tZW50OiBzdHJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWVudHMoKSB7XG4gICAgICAgIHZhciBjbW50cyA9IFtdO1xuICAgICAgICB2YXIgYztcbiAgICAgICAgd2hpbGUgKGMgPSBjb21tZW50KCkpIHtcbiAgICAgICAgICAgIGNtbnRzLnB1c2goYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldHRpbmdzLnJlbW92ZUNvbW1lbnRzID8gW10gOiBjbW50cztcbiAgICB9XG4gICAgZnVuY3Rpb24gc2VsZWN0b3IoKSB7XG4gICAgICAgIHdoaXRlc3BhY2UoKTtcbiAgICAgICAgd2hpbGUgKGNzc1swXSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgICAgIGVycm9yKFwiZXh0cmEgY2xvc2luZyBicmFja2V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtID0gbWF0Y2goL14oKFwiKD86XFxcXFwifFteXCJdKSpcInwnKD86XFxcXCd8W14nXSkqJ3xbXntdKSspLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICByZXR1cm4gbVswXS50cmltKCkucmVwbGFjZSgvXFwvXFwqKFteKl18W1xcclxcbl18KFxcKisoW14qL118W1xcclxcbl0pKSkqXFwqXFwvKy9nLCBcIlwiKS5yZXBsYWNlKC9cIig/OlxcXFxcInxbXlwiXSkqXCJ8Jyg/OlxcXFwnfFteJ10pKicvZywgKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbS5yZXBsYWNlKC8sL2csIFwi4oCMXCIpO1xuICAgICAgICAgICAgfSkpLnNwbGl0KC9cXHMqKD8hW14oXSpcXCkpLFxccyovKS5tYXAoKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9cXHUyMDBDL2csIFwiLFwiKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWNsYXJhdGlvbigpIHtcbiAgICAgICAgaWYgKGNzc1swXSA9PT0gXCJAXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBhdF9ydWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2goL14oWztcXHNdKikrLyk7XG4gICAgICAgIHZhciBjb21tZW50X3JlZ2V4cCA9IC9cXC9cXCpbXipdKlxcKisoW14vKl1bXipdKlxcKispKlxcLy9nO1xuICAgICAgICB2YXIgcHJvcCA9IG1hdGNoKC9eKFxcKj9bLSMvKlxcXFxcXHddKyhcXFtbMC05YS16Xy1dK1xcXSk/KVxccyovKTtcbiAgICAgICAgaWYgKCFwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvcCA9IHByb3BbMF0udHJpbSgpO1xuICAgICAgICBpZiAoIW1hdGNoKC9eOlxccyovKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yKFwicHJvcGVydHkgbWlzc2luZyAnOidcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbCA9IG1hdGNoKC9eKCg/OlxcL1xcKi4qP1xcKlxcL3wnKD86XFxcXCd8LikqPyd8XCIoPzpcXFxcXCJ8LikqP1wifFxcKChcXHMqJyg/OlxcXFwnfC4pKj8nfFwiKD86XFxcXFwifC4pKj9cInxbXildKj8pXFxzKlxcKXxbXn07XSkrKS8pO1xuICAgICAgICB2YXIgcmV0ID0ge1xuICAgICAgICAgICAgdHlwZTogXCJkZWNsYXJhdGlvblwiLFxuICAgICAgICAgICAgcHJvcGVydHk6IHByb3AucmVwbGFjZShjb21tZW50X3JlZ2V4cCwgXCJcIiksXG4gICAgICAgICAgICB2YWx1ZTogdmFsID8gdmFsWzBdLnJlcGxhY2UoY29tbWVudF9yZWdleHAsIFwiXCIpLnRyaW0oKSA6IFwiXCJcbiAgICAgICAgfTtcbiAgICAgICAgbWF0Y2goL15bO1xcc10qLyk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlY2xhcmF0aW9ucygpIHtcbiAgICAgICAgaWYgKCFvcGVuKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIm1pc3NpbmcgJ3snXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkO1xuICAgICAgICB2YXIgZGVjbHMgPSBjb21tZW50cygpO1xuICAgICAgICB3aGlsZSAoZCA9IGRlY2xhcmF0aW9uKCkpIHtcbiAgICAgICAgICAgIGRlY2xzLnB1c2goZCk7XG4gICAgICAgICAgICBkZWNscyA9IGRlY2xzLmNvbmNhdChjb21tZW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsb3NlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihcIm1pc3NpbmcgJ30nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNscztcbiAgICB9XG4gICAgZnVuY3Rpb24ga2V5ZnJhbWUoKSB7XG4gICAgICAgIHdoaXRlc3BhY2UoKTtcbiAgICAgICAgdmFyIHZhbHMgPSBbXTtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIHdoaWxlIChtID0gbWF0Y2goL14oKFxcZCtcXC5cXGQrfFxcLlxcZCt8XFxkKyklP3xbYS16XSspXFxzKi8pKSB7XG4gICAgICAgICAgICB2YWxzLnB1c2gobVsxXSk7XG4gICAgICAgICAgICBtYXRjaCgvXixcXHMqLyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwia2V5ZnJhbWVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHZhbHMsXG4gICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWNsYXJhdGlvbnMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9rZXlmcmFtZXMoKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AKFstXFx3XSspP2tleWZyYW1lc1xccyovKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZlbmRvciA9IG1bMV07XG4gICAgICAgIG0gPSBtYXRjaCgvXihbLVxcd10rKVxccyovKTtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJAa2V5ZnJhbWVzIG1pc3NpbmcgbmFtZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IG1bMV07XG4gICAgICAgIGlmICghb3BlbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJAa2V5ZnJhbWVzIG1pc3NpbmcgJ3snXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIGZyYW1lcyA9IGNvbW1lbnRzKCk7XG4gICAgICAgIHdoaWxlIChmcmFtZSA9IGtleWZyYW1lKCkpIHtcbiAgICAgICAgICAgIGZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgICAgIGZyYW1lcyA9IGZyYW1lcy5jb25jYXQoY29tbWVudHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjbG9zZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJAa2V5ZnJhbWVzIG1pc3NpbmcgJ30nXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcImtleWZyYW1lc1wiLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHZlbmRvcjogdmVuZG9yLFxuICAgICAgICAgICAga2V5ZnJhbWVzOiBmcmFtZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfcGFnZSgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkBwYWdlICovKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHZhciBzZWwgPSBzZWxlY3RvcigpIHx8IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInBhZ2VcIixcbiAgICAgICAgICAgICAgICBzZWxlY3RvcnM6IHNlbCxcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X3BhZ2VfbWFyZ2luX2JveCgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvQCh0b3B8Ym90dG9tfGxlZnR8cmlnaHQpLShsZWZ0fGNlbnRlcnxyaWdodHx0b3B8bWlkZGxlfGJvdHRvbSktPyhjb3JuZXIpP1xccyovKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gXCJcIi5jb25jYXQobVsxXSwgXCItXCIpLmNvbmNhdChtWzJdKSArIChtWzNdID8gXCItXCIuY29uY2F0KG1bM10pIDogXCJcIik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicGFnZS1tYXJnaW4tYm94XCIsXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X2ZvbnRmYWNlKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQGZvbnQtZmFjZVxccyovKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJmb250LWZhY2VcIixcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X3N1cHBvcnRzKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQHN1cHBvcnRzICooW157XSspLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic3VwcG9ydHNcIixcbiAgICAgICAgICAgICAgICBzdXBwb3J0czogbVsxXS50cmltKCksXG4gICAgICAgICAgICAgICAgcnVsZXM6IHJ1bGVzKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfaG9zdCgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkBob3N0XFxzKi8pO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImhvc3RcIixcbiAgICAgICAgICAgICAgICBydWxlczogcnVsZXMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9tZWRpYSgpIHtcbiAgICAgICAgdmFyIG0gPSBtYXRjaCgvXkBtZWRpYShbXntdKykqLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibWVkaWFcIixcbiAgICAgICAgICAgICAgICBtZWRpYTogKG1bMV0gfHwgXCJcIikudHJpbSgpLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiBydWxlcygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X2N1c3RvbV9tKCkge1xuICAgICAgICB2YXIgbSA9IG1hdGNoKC9eQGN1c3RvbS1tZWRpYVxccysoLS1bXlxcc10rKVxccyooW157O10rKTsvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJjdXN0b20tbWVkaWFcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBtWzFdLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBtZWRpYTogbVsyXS50cmltKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXRfZG9jdW1lbnQoKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AKFstXFx3XSspP2RvY3VtZW50ICooW157XSspLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZG9jdW1lbnRcIixcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogbVsyXS50cmltKCksXG4gICAgICAgICAgICAgICAgdmVuZG9yOiBtWzFdID8gbVsxXS50cmltKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgIHJ1bGVzOiBydWxlcygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0X3goKSB7XG4gICAgICAgIHZhciBtID0gbWF0Y2goL15AKGltcG9ydHxjaGFyc2V0fG5hbWVzcGFjZSlcXHMqKFteO10rKTsvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogbVsxXSxcbiAgICAgICAgICAgICAgICBuYW1lOiBtWzJdLnRyaW0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdF9ydWxlKCkge1xuICAgICAgICB3aGl0ZXNwYWNlKCk7XG4gICAgICAgIGlmIChjc3NbMF0gPT09IFwiQFwiKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0gYXRfeCgpIHx8IGF0X2ZvbnRmYWNlKCkgfHwgYXRfbWVkaWEoKSB8fCBhdF9rZXlmcmFtZXMoKSB8fCBhdF9zdXBwb3J0cygpIHx8IGF0X2RvY3VtZW50KCkgfHwgYXRfY3VzdG9tX20oKSB8fCBhdF9ob3N0KCkgfHwgYXRfcGFnZSgpIHx8IGF0X3BhZ2VfbWFyZ2luX2JveCgpO1xuICAgICAgICAgICAgaWYgKHJldCAmJiAhc2V0dGluZ3MucHJlc2VydmVTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFzVmFyRnVuYyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChyZXQuZGVjbGFyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhckZ1bmMgPSByZXQuZGVjbGFyYXRpb25zLnNvbWUoKGZ1bmN0aW9uKGRlY2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvdmFyXFwoLy50ZXN0KGRlY2wudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IHJldC5rZXlmcmFtZXMgfHwgcmV0LnJ1bGVzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBoYXNWYXJGdW5jID0gYXJyLnNvbWUoKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvYmouZGVjbGFyYXRpb25zIHx8IFtdKS5zb21lKChmdW5jdGlvbihkZWNsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC92YXJcXCgvLnRlc3QoZGVjbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc1ZhckZ1bmMgPyByZXQgOiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcnVsZSgpIHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5wcmVzZXJ2ZVN0YXRpYykge1xuICAgICAgICAgICAgdmFyIGJhbGFuY2VkTWF0Y2gkMSA9IGJhbGFuY2VkTWF0Y2goXCJ7XCIsIFwifVwiLCBjc3MpO1xuICAgICAgICAgICAgaWYgKGJhbGFuY2VkTWF0Y2gkMSkge1xuICAgICAgICAgICAgICAgIHZhciBoYXNWYXJEZWNsID0gLzooPzpyb290fGhvc3QpKD8hWy46IyhdKS8udGVzdChiYWxhbmNlZE1hdGNoJDEucHJlKSAmJiAvLS1cXFMqXFxzKjovLnRlc3QoYmFsYW5jZWRNYXRjaCQxLmJvZHkpO1xuICAgICAgICAgICAgICAgIHZhciBoYXNWYXJGdW5jID0gL3ZhclxcKC8udGVzdChiYWxhbmNlZE1hdGNoJDEuYm9keSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNWYXJEZWNsICYmICFoYXNWYXJGdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzcyA9IGNzcy5zbGljZShiYWxhbmNlZE1hdGNoJDEuZW5kICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbCA9IHNlbGVjdG9yKCkgfHwgW107XG4gICAgICAgIHZhciBkZWNscyA9IHNldHRpbmdzLnByZXNlcnZlU3RhdGljID8gZGVjbGFyYXRpb25zKCkgOiBkZWNsYXJhdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGRlY2wpIHtcbiAgICAgICAgICAgIHZhciBoYXNWYXJEZWNsID0gc2VsLnNvbWUoKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLzooPzpyb290fGhvc3QpKD8hWy46IyhdKS8udGVzdChzKTtcbiAgICAgICAgICAgIH0pKSAmJiAvXi0tXFxTLy50ZXN0KGRlY2wucHJvcGVydHkpO1xuICAgICAgICAgICAgdmFyIGhhc1ZhckZ1bmMgPSAvdmFyXFwoLy50ZXN0KGRlY2wudmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGhhc1ZhckRlY2wgfHwgaGFzVmFyRnVuYztcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoIXNlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVycm9yKFwic2VsZWN0b3IgbWlzc2luZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJydWxlXCIsXG4gICAgICAgICAgICBzZWxlY3RvcnM6IHNlbCxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVsZXMoY29yZSkge1xuICAgICAgICBpZiAoIWNvcmUgJiYgIW9wZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yKFwibWlzc2luZyAneydcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgIHZhciBydWxlcyA9IGNvbW1lbnRzKCk7XG4gICAgICAgIHdoaWxlIChjc3MubGVuZ3RoICYmIChjb3JlIHx8IGNzc1swXSAhPT0gXCJ9XCIpICYmIChub2RlID0gYXRfcnVsZSgpIHx8IHJ1bGUoKSkpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBydWxlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVsZXMgPSBydWxlcy5jb25jYXQoY29tbWVudHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb3JlICYmICFjbG9zZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IoXCJtaXNzaW5nICd9J1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVsZXM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3R5bGVzaGVldFwiLFxuICAgICAgICBzdHlsZXNoZWV0OiB7XG4gICAgICAgICAgICBydWxlczogcnVsZXModHJ1ZSksXG4gICAgICAgICAgICBlcnJvcnM6IGVycm9yc1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VWYXJzKGNzc0RhdGEpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBwYXJzZUhvc3Q6IGZhbHNlLFxuICAgICAgICBzdG9yZToge30sXG4gICAgICAgIG9uV2FybmluZzogZnVuY3Rpb24gb25XYXJuaW5nKCkge31cbiAgICB9O1xuICAgIHZhciBzZXR0aW5ncyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgdmFyIHJlVmFyRGVjbFNlbGVjdG9ycyA9IG5ldyBSZWdFeHAoXCI6XCIuY29uY2F0KHNldHRpbmdzLnBhcnNlSG9zdCA/IFwiaG9zdFwiIDogXCJyb290XCIsIFwiJFwiKSk7XG4gICAgaWYgKHR5cGVvZiBjc3NEYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNzc0RhdGEgPSBwYXJzZUNzcyhjc3NEYXRhLCBzZXR0aW5ncyk7XG4gICAgfVxuICAgIGNzc0RhdGEuc3R5bGVzaGVldC5ydWxlcy5mb3JFYWNoKChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgIGlmIChydWxlLnR5cGUgIT09IFwicnVsZVwiIHx8ICFydWxlLnNlbGVjdG9ycy5zb21lKChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVWYXJEZWNsU2VsZWN0b3JzLnRlc3Qocyk7XG4gICAgICAgIH0pKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJ1bGUuZGVjbGFyYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKGRlY2wsIGkpIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gZGVjbC5wcm9wZXJ0eTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRlY2wudmFsdWU7XG4gICAgICAgICAgICBpZiAocHJvcCAmJiBwcm9wLmluZGV4T2YoXCItLVwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLnN0b3JlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIHNldHRpbmdzLnN0b3JlO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnlDc3ModHJlZSkge1xuICAgIHZhciBkZWxpbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogXCJcIjtcbiAgICB2YXIgY2IgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgcmVuZGVyTWV0aG9kcyA9IHtcbiAgICAgICAgY2hhcnNldDogZnVuY3Rpb24gY2hhcnNldChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAY2hhcnNldCBcIiArIG5vZGUubmFtZSArIFwiO1wiO1xuICAgICAgICB9LFxuICAgICAgICBjb21tZW50OiBmdW5jdGlvbiBjb21tZW50KG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNvbW1lbnQuaW5kZXhPZihcIl9fQ1NTVkFSU1BPTllGSUxMXCIpID09PSAwID8gXCIvKlwiICsgbm9kZS5jb21tZW50ICsgXCIqL1wiIDogXCJcIjtcbiAgICAgICAgfSxcbiAgICAgICAgXCJjdXN0b20tbWVkaWFcIjogZnVuY3Rpb24gY3VzdG9tTWVkaWEobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQGN1c3RvbS1tZWRpYSBcIiArIG5vZGUubmFtZSArIFwiIFwiICsgbm9kZS5tZWRpYSArIFwiO1wiO1xuICAgICAgICB9LFxuICAgICAgICBkZWNsYXJhdGlvbjogZnVuY3Rpb24gZGVjbGFyYXRpb24obm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUucHJvcGVydHkgKyBcIjpcIiArIG5vZGUudmFsdWUgKyBcIjtcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZG9jdW1lbnQ6IGZ1bmN0aW9uIGRvY3VtZW50KG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBcIiArIChub2RlLnZlbmRvciB8fCBcIlwiKSArIFwiZG9jdW1lbnQgXCIgKyBub2RlLmRvY3VtZW50ICsgXCJ7XCIgKyB2aXNpdChub2RlLnJ1bGVzKSArIFwifVwiO1xuICAgICAgICB9LFxuICAgICAgICBcImZvbnQtZmFjZVwiOiBmdW5jdGlvbiBmb250RmFjZShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAZm9udC1mYWNlXCIgKyBcIntcIiArIHZpc2l0KG5vZGUuZGVjbGFyYXRpb25zKSArIFwifVwiO1xuICAgICAgICB9LFxuICAgICAgICBob3N0OiBmdW5jdGlvbiBob3N0KG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBob3N0XCIgKyBcIntcIiArIHZpc2l0KG5vZGUucnVsZXMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGltcG9ydDogZnVuY3Rpb24gX2ltcG9ydChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAaW1wb3J0IFwiICsgbm9kZS5uYW1lICsgXCI7XCI7XG4gICAgICAgIH0sXG4gICAgICAgIGtleWZyYW1lOiBmdW5jdGlvbiBrZXlmcmFtZShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS52YWx1ZXMuam9pbihcIixcIikgKyBcIntcIiArIHZpc2l0KG5vZGUuZGVjbGFyYXRpb25zKSArIFwifVwiO1xuICAgICAgICB9LFxuICAgICAgICBrZXlmcmFtZXM6IGZ1bmN0aW9uIGtleWZyYW1lcyhub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAXCIgKyAobm9kZS52ZW5kb3IgfHwgXCJcIikgKyBcImtleWZyYW1lcyBcIiArIG5vZGUubmFtZSArIFwie1wiICsgdmlzaXQobm9kZS5rZXlmcmFtZXMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhOiBmdW5jdGlvbiBtZWRpYShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIgKyBub2RlLm1lZGlhICsgXCJ7XCIgKyB2aXNpdChub2RlLnJ1bGVzKSArIFwifVwiO1xuICAgICAgICB9LFxuICAgICAgICBuYW1lc3BhY2U6IGZ1bmN0aW9uIG5hbWVzcGFjZShub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJAbmFtZXNwYWNlIFwiICsgbm9kZS5uYW1lICsgXCI7XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2U6IGZ1bmN0aW9uIHBhZ2Uobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiQHBhZ2UgXCIgKyAobm9kZS5zZWxlY3RvcnMubGVuZ3RoID8gbm9kZS5zZWxlY3RvcnMuam9pbihcIiwgXCIpIDogXCJcIikgKyBcIntcIiArIHZpc2l0KG5vZGUuZGVjbGFyYXRpb25zKSArIFwifVwiO1xuICAgICAgICB9LFxuICAgICAgICBcInBhZ2UtbWFyZ2luLWJveFwiOiBmdW5jdGlvbiBwYWdlTWFyZ2luQm94KG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBcIiArIG5vZGUubmFtZSArIFwie1wiICsgdmlzaXQobm9kZS5kZWNsYXJhdGlvbnMpICsgXCJ9XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bGU6IGZ1bmN0aW9uIHJ1bGUobm9kZSkge1xuICAgICAgICAgICAgdmFyIGRlY2xzID0gbm9kZS5kZWNsYXJhdGlvbnM7XG4gICAgICAgICAgICBpZiAoZGVjbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuc2VsZWN0b3JzLmpvaW4oXCIsXCIpICsgXCJ7XCIgKyB2aXNpdChkZWNscykgKyBcIn1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3VwcG9ydHM6IGZ1bmN0aW9uIHN1cHBvcnRzKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkBzdXBwb3J0cyBcIiArIG5vZGUuc3VwcG9ydHMgKyBcIntcIiArIHZpc2l0KG5vZGUucnVsZXMpICsgXCJ9XCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHZpc2l0KG5vZGVzKSB7XG4gICAgICAgIHZhciBidWYgPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbiA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgY2Iobik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHh0ID0gcmVuZGVyTWV0aG9kc1tuLnR5cGVdKG4pO1xuICAgICAgICAgICAgaWYgKHR4dCkge1xuICAgICAgICAgICAgICAgIGJ1ZiArPSB0eHQ7XG4gICAgICAgICAgICAgICAgaWYgKHR4dC5sZW5ndGggJiYgbi5zZWxlY3RvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmICs9IGRlbGltO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICByZXR1cm4gdmlzaXQodHJlZS5zdHlsZXNoZWV0LnJ1bGVzKTtcbn1cblxuZnVuY3Rpb24gd2Fsa0Nzcyhub2RlLCBmbikge1xuICAgIG5vZGUucnVsZXMuZm9yRWFjaCgoZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICBpZiAocnVsZS5ydWxlcykge1xuICAgICAgICAgICAgd2Fsa0NzcyhydWxlLCBmbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bGUua2V5ZnJhbWVzKSB7XG4gICAgICAgICAgICBydWxlLmtleWZyYW1lcy5mb3JFYWNoKChmdW5jdGlvbihrZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXlmcmFtZS50eXBlID09PSBcImtleWZyYW1lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oa2V5ZnJhbWUuZGVjbGFyYXRpb25zLCBydWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydWxlLmRlY2xhcmF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZuKHJ1bGUuZGVjbGFyYXRpb25zLCBub2RlKTtcbiAgICB9KSk7XG59XG5cbnZhciBWQVJfUFJPUF9JREVOVElGSUVSID0gXCItLVwiO1xuXG52YXIgVkFSX0ZVTkNfSURFTlRJRklFUiA9IFwidmFyXCI7XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybUNzcyhjc3NEYXRhKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgcHJlc2VydmVTdGF0aWM6IHRydWUsXG4gICAgICAgIHByZXNlcnZlVmFyczogZmFsc2UsXG4gICAgICAgIHZhcmlhYmxlczoge30sXG4gICAgICAgIG9uV2FybmluZzogZnVuY3Rpb24gb25XYXJuaW5nKCkge31cbiAgICB9O1xuICAgIHZhciBzZXR0aW5ncyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgaWYgKHR5cGVvZiBjc3NEYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNzc0RhdGEgPSBwYXJzZUNzcyhjc3NEYXRhLCBzZXR0aW5ncyk7XG4gICAgfVxuICAgIHdhbGtDc3MoY3NzRGF0YS5zdHlsZXNoZWV0LCAoZnVuY3Rpb24oZGVjbGFyYXRpb25zLCBub2RlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVjbGFyYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGVjbCA9IGRlY2xhcmF0aW9uc1tpXTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZGVjbC50eXBlO1xuICAgICAgICAgICAgdmFyIHByb3AgPSBkZWNsLnByb3BlcnR5O1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVjbC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0eXBlICE9PSBcImRlY2xhcmF0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2V0dGluZ3MucHJlc2VydmVWYXJzICYmIHByb3AgJiYgcHJvcC5pbmRleE9mKFZBUl9QUk9QX0lERU5USUZJRVIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihWQVJfRlVOQ19JREVOVElGSUVSICsgXCIoXCIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlZFZhbHVlID0gcmVzb2x2ZVZhbHVlKHZhbHVlLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkVmFsdWUgIT09IGRlY2wudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRWYWx1ZSA9IGZpeE5lc3RlZENhbGMocmVzb2x2ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2V0dGluZ3MucHJlc2VydmVWYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsLnZhbHVlID0gcmVzb2x2ZWRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucy5zcGxpY2UoaSwgMCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc29sdmVkVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkpO1xuICAgIHJldHVybiBzdHJpbmdpZnlDc3MoY3NzRGF0YSk7XG59XG5cbmZ1bmN0aW9uIGZpeE5lc3RlZENhbGModmFsdWUpIHtcbiAgICB2YXIgcmVDYWxjVmFsID0gL2NhbGNcXCgoW14pXSspXFwpL2c7XG4gICAgKHZhbHVlLm1hdGNoKHJlQ2FsY1ZhbCkgfHwgW10pLmZvckVhY2goKGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICAgIHZhciBuZXdWYWwgPSBcImNhbGNcIi5jb25jYXQobWF0Y2guc3BsaXQoXCJjYWxjXCIpLmpvaW4oXCJcIikpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UobWF0Y2gsIG5ld1ZhbCk7XG4gICAgfSkpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIHNldHRpbmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIgX19yZWN1cnNpdmVGYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICAgIGlmICh2YWx1ZS5pbmRleE9mKFwidmFyKFwiKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YXIgdmFsdWVEYXRhID0gYmFsYW5jZWRNYXRjaChcIihcIiwgXCIpXCIsIHZhbHVlKTtcbiAgICBmdW5jdGlvbiByZXNvbHZlRnVuYyh2YWx1ZSkge1xuICAgICAgICB2YXIgbmFtZSA9IHZhbHVlLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKC9bXFxzXFxuXFx0XS9nLCBcIlwiKTtcbiAgICAgICAgdmFyIGZhbGxiYWNrID0gKHZhbHVlLm1hdGNoKC8oPzpcXHMqLFxccyopezF9KC4qKT8vKSB8fCBbXSlbMV07XG4gICAgICAgIHZhciBtYXRjaCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzZXR0aW5ncy52YXJpYWJsZXMsIG5hbWUpID8gU3RyaW5nKHNldHRpbmdzLnZhcmlhYmxlc1tuYW1lXSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciByZXBsYWNlbWVudCA9IG1hdGNoIHx8IChmYWxsYmFjayA/IFN0cmluZyhmYWxsYmFjaykgOiB1bmRlZmluZWQpO1xuICAgICAgICB2YXIgdW5yZXNvbHZlZEZhbGxiYWNrID0gX19yZWN1cnNpdmVGYWxsYmFjayB8fCB2YWx1ZTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgc2V0dGluZ3Mub25XYXJuaW5nKCd2YXJpYWJsZSBcIicuY29uY2F0KG5hbWUsICdcIiBpcyB1bmRlZmluZWQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcGxhY2VtZW50ICYmIHJlcGxhY2VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHJlcGxhY2VtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlVmFsdWUocmVwbGFjZW1lbnQsIHNldHRpbmdzLCB1bnJlc29sdmVkRmFsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFyKFwiLmNvbmNhdCh1bnJlc29sdmVkRmFsbGJhY2ssIFwiKVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXZhbHVlRGF0YSkge1xuICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcInZhcihcIikgIT09IC0xKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5vbldhcm5pbmcoJ21pc3NpbmcgY2xvc2luZyBcIilcIiBpbiB0aGUgdmFsdWUgXCInLmNvbmNhdCh2YWx1ZSwgJ1wiJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlRGF0YS5wcmUuc2xpY2UoLTMpID09PSBcInZhclwiKSB7XG4gICAgICAgIHZhciBpc0VtcHR5VmFyRnVuYyA9IHZhbHVlRGF0YS5ib2R5LnRyaW0oKS5sZW5ndGggPT09IDA7XG4gICAgICAgIGlmIChpc0VtcHR5VmFyRnVuYykge1xuICAgICAgICAgICAgc2V0dGluZ3Mub25XYXJuaW5nKFwidmFyKCkgbXVzdCBjb250YWluIGEgbm9uLXdoaXRlc3BhY2Ugc3RyaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlRGF0YS5wcmUuc2xpY2UoMCwgLTMpICsgcmVzb2x2ZUZ1bmModmFsdWVEYXRhLmJvZHkpICsgcmVzb2x2ZVZhbHVlKHZhbHVlRGF0YS5wb3N0LCBzZXR0aW5ncyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWVEYXRhLnByZSArIFwiKFwiLmNvbmNhdChyZXNvbHZlVmFsdWUodmFsdWVEYXRhLmJvZHksIHNldHRpbmdzKSwgXCIpXCIpICsgcmVzb2x2ZVZhbHVlKHZhbHVlRGF0YS5wb3N0LCBzZXR0aW5ncyk7XG4gICAgfVxufVxuXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcblxudmFyIGlzTmF0aXZlU3VwcG9ydCA9IGlzQnJvd3NlciAmJiB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHMgJiYgd2luZG93LkNTUy5zdXBwb3J0cyhcIigtLWE6IDApXCIpO1xuXG52YXIgY291bnRlcnMgPSB7XG4gICAgZ3JvdXA6IDAsXG4gICAgam9iOiAwXG59O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgcm9vdEVsZW1lbnQ6IGlzQnJvd3NlciA/IGRvY3VtZW50IDogbnVsbCxcbiAgICBzaGFkb3dET006IGZhbHNlLFxuICAgIGluY2x1ZGU6IFwic3R5bGUsbGlua1tyZWw9c3R5bGVzaGVldF1cIixcbiAgICBleGNsdWRlOiBcIlwiLFxuICAgIHZhcmlhYmxlczoge30sXG4gICAgb25seUxlZ2FjeTogdHJ1ZSxcbiAgICBwcmVzZXJ2ZVN0YXRpYzogdHJ1ZSxcbiAgICBwcmVzZXJ2ZVZhcnM6IGZhbHNlLFxuICAgIHNpbGVudDogZmFsc2UsXG4gICAgdXBkYXRlRE9NOiB0cnVlLFxuICAgIHVwZGF0ZVVSTHM6IHRydWUsXG4gICAgd2F0Y2g6IG51bGwsXG4gICAgb25CZWZvcmVTZW5kOiBmdW5jdGlvbiBvbkJlZm9yZVNlbmQoKSB7fSxcbiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkge30sXG4gICAgb25XYXJuaW5nOiBmdW5jdGlvbiBvbldhcm5pbmcoKSB7fSxcbiAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcygpIHt9LFxuICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7fSxcbiAgICBvbkZpbmFsbHk6IGZ1bmN0aW9uIG9uRmluYWxseSgpIHt9XG59O1xuXG52YXIgcmVnZXggPSB7XG4gICAgY3NzQ29tbWVudHM6IC9cXC9cXCpbXFxzXFxTXSs/XFwqXFwvL2csXG4gICAgY3NzS2V5ZnJhbWVzOiAvQCg/Oi1cXHcqLSk/a2V5ZnJhbWVzLyxcbiAgICBjc3NNZWRpYVF1ZXJpZXM6IC9AbWVkaWFbXntdK1xceyhbXFxzXFxTXSs/fSlcXHMqfS9nLFxuICAgIGNzc1VybHM6IC91cmxcXCgoPyFbJ1wiXT8oPzpkYXRhfGh0dHB8XFwvXFwvKTopWydcIl0/KFteJ1wiKV0qKVsnXCJdP1xcKS9nLFxuICAgIGNzc1ZhckRlY2xSdWxlczogLyg/OjooPzpyb290fGhvc3QpKD8hWy46IyhdKVtcXHMsXSpbXntdKntcXHMqW159XSp9KS9nLFxuICAgIGNzc1ZhckRlY2xzOiAvKD86W1xccztdKikoLXsyfVxcd1tcXHctXSopKD86XFxzKjpcXHMqKShbXjtdKik7L2csXG4gICAgY3NzVmFyRnVuYzogL3ZhclxcKFxccyotLVtcXHctXS8sXG4gICAgY3NzVmFyczogLyg/Oig/OjooPzpyb290fGhvc3QpKD8hWy46IyhdKVtcXHMsXSpbXntdKntcXHMqW147XSo7KlxccyopfCg/OnZhclxcKFxccyopKSgtLVteOildKykoPzpcXHMqWzopXSkvXG59O1xuXG52YXIgdmFyaWFibGVTdG9yZSA9IHtcbiAgICBkb206IHt9LFxuICAgIGpvYjoge30sXG4gICAgdXNlcjoge31cbn07XG5cbnZhciBjc3NWYXJzSXNSdW5uaW5nID0gZmFsc2U7XG5cbnZhciBjc3NWYXJzT2JzZXJ2ZXIgPSBudWxsO1xuXG52YXIgY3NzVmFyc1NyY05vZGVDb3VudCA9IDA7XG5cbnZhciBkZWJvdW5jZVRpbWVyID0gbnVsbDtcblxudmFyIGlzU2hhZG93RE9NUmVhZHkgPSBmYWxzZTtcblxuLyoqXG4gKiBGZXRjaGVzLCBwYXJzZXMsIGFuZCB0cmFuc2Zvcm1zIENTUyBjdXN0b20gcHJvcGVydGllcyBmcm9tIHNwZWNpZmllZFxuICogPHN0eWxlPiBhbmQgPGxpbms+IGVsZW1lbnRzIGludG8gc3RhdGljIHZhbHVlcywgdGhlbiBhcHBlbmRzIGEgbmV3IDxzdHlsZT5cbiAqIGVsZW1lbnQgd2l0aCBzdGF0aWMgdmFsdWVzIHRvIHRoZSBET00gdG8gcHJvdmlkZSBDU1MgY3VzdG9tIHByb3BlcnR5XG4gKiBjb21wYXRpYmlsaXR5IGZvciBsZWdhY3kgYnJvd3NlcnMuIEFsc28gcHJvdmlkZXMgYSBzaW5nbGUgaW50ZXJmYWNlIGZvclxuICogbGl2ZSB1cGRhdGVzIG9mIHJ1bnRpbWUgdmFsdWVzIGluIGJvdGggbW9kZXJuIGFuZCBsZWdhY3kgYnJvd3NlcnMuXG4gKlxuICogQHByZXNlcnZlXG4gKiBAcGFyYW0ge29iamVjdH0gICBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIFtvcHRpb25zLnJvb3RFbGVtZW50PWRvY3VtZW50XSBSb290IGVsZW1lbnQgdG8gdHJhdmVyc2UgZm9yXG4gKiAgICAgICAgICAgICAgICAgICA8bGluaz4gYW5kIDxzdHlsZT4gbm9kZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnNoYWRvd0RPTT1mYWxzZV0gRGV0ZXJtaW5lcyBpZiBzaGFkb3cgRE9NIDxsaW5rPlxuICogICAgICAgICAgICAgICAgICAgYW5kIDxzdHlsZT4gbm9kZXMgd2lsbCBiZSBwcm9jZXNzZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gICBbb3B0aW9ucy5pbmNsdWRlPVwic3R5bGUsbGlua1tyZWw9c3R5bGVzaGVldF1cIl0gQ1NTIHNlbGVjdG9yXG4gKiAgICAgICAgICAgICAgICAgICBtYXRjaGluZyA8bGluayByZT1cInN0eWxlc2hlZXRcIj4gYW5kIDxzdHlsZT4gbm9kZXMgdG9cbiAqICAgICAgICAgICAgICAgICAgIHByb2Nlc3NcbiAqIEBwYXJhbSB7c3RyaW5nfSAgIFtvcHRpb25zLmV4Y2x1ZGVdIENTUyBzZWxlY3RvciBtYXRjaGluZyA8bGlua1xuICogICAgICAgICAgICAgICAgICAgcmVsPVwic3R5bGVoc2VldFwiPiBhbmQgPHN0eWxlPiBub2RlcyB0byBleGNsdWRlIGZyb20gdGhvc2VcbiAqICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgYnkgb3B0aW9ucy5pbmNsdWRlXG4gKiBAcGFyYW0ge29iamVjdH0gICBbb3B0aW9ucy52YXJpYWJsZXNdIEEgbWFwIG9mIGN1c3RvbSBwcm9wZXJ0eSBuYW1lL3ZhbHVlXG4gKiAgICAgICAgICAgICAgICAgICBwYWlycy4gUHJvcGVydHkgbmFtZXMgY2FuIG9taXQgb3IgaW5jbHVkZSB0aGUgbGVhZGluZ1xuICogICAgICAgICAgICAgICAgICAgZG91YmxlLWh5cGhlbiAo4oCUKSwgYW5kIHZhbHVlcyBzcGVjaWZpZWQgd2lsbCBvdmVycmlkZVxuICogICAgICAgICAgICAgICAgICAgcHJldmlvdXMgdmFsdWVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICBbb3B0aW9ucy5vbmx5TGVnYWN5PXRydWVdIERldGVybWluZXMgaWYgdGhlIHBvbnlmaWxsIHdpbGxcbiAqICAgICAgICAgICAgICAgICAgIG9ubHkgZ2VuZXJhdGUgbGVnYWN5LWNvbXBhdGlibGUgQ1NTIGluIGJyb3dzZXJzIHRoYXQgbGFja1xuICogICAgICAgICAgICAgICAgICAgbmF0aXZlIHN1cHBvcnQgKGkuZS4sIGxlZ2FjeSBicm93c2VycylcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnByZXNlcnZlU3RhdGljPXRydWVdIERldGVybWluZXMgaWYgQ1NTXG4gKiAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnMgdGhhdCBkbyBub3QgcmVmZXJlbmNlIGEgY3VzdG9tIHByb3BlcnR5IHdpbGxcbiAqICAgICAgICAgICAgICAgICAgIGJlIHByZXNlcnZlZCBpbiB0aGUgdHJhbnNmb3JtZWQgQ1NTXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICBbb3B0aW9ucy5wcmVzZXJ2ZVZhcnM9ZmFsc2VdIERldGVybWluZXMgaWYgQ1NTIGN1c3RvbVxuICogICAgICAgICAgICAgICAgICAgcHJvcGVydHkgZGVjbGFyYXRpb25zIHdpbGwgYmUgcHJlc2VydmVkIGluIHRoZSB0cmFuc2Zvcm1lZFxuICogICAgICAgICAgICAgICAgICAgQ1NTXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICBbb3B0aW9ucy5zaWxlbnQ9ZmFsc2VdIERldGVybWluZXMgaWYgd2FybmluZyBhbmQgZXJyb3JcbiAqICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzIHdpbGwgYmUgZGlzcGxheWVkIG9uIHRoZSBjb25zb2xlXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICBbb3B0aW9ucy51cGRhdGVET009dHJ1ZV0gRGV0ZXJtaW5lcyBpZiB0aGUgcG9ueWZpbGwgd2lsbFxuICogICAgICAgICAgICAgICAgICAgdXBkYXRlIHRoZSBET00gYWZ0ZXIgcHJvY2Vzc2luZyBDU1MgY3VzdG9tIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLnVwZGF0ZVVSTHM9dHJ1ZV0gRGV0ZXJtaW5lcyBpZiByZWxhdGl2ZSB1cmwoKVxuICogICAgICAgICAgICAgICAgICAgcGF0aHMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYWJzb2x1dGUgdXJscyBpbiBleHRlcm5hbCBDU1NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtvcHRpb25zLndhdGNoPWZhbHNlXSBEZXRlcm1pbmVzIGlmIGEgTXV0YXRpb25PYnNlcnZlciB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICBiZSBjcmVhdGVkIHRoYXQgd2lsbCBleGVjdXRlIHRoZSBwb255ZmlsbCB3aGVuIGEgPGxpbms+IG9yXG4gKiAgICAgICAgICAgICAgICAgICA8c3R5bGU+IERPTSBtdXRhdGlvbiBpcyBvYnNlcnZlZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25CZWZvcmVTZW5kXSBDYWxsYmFjayBiZWZvcmUgWEhSIGlzIHNlbnQuIFBhc3Nlc1xuICogICAgICAgICAgICAgICAgICAgMSkgdGhlIFhIUiBvYmplY3QsIDIpIHNvdXJjZSBub2RlIHJlZmVyZW5jZSwgYW5kIDMpIHRoZVxuICogICAgICAgICAgICAgICAgICAgc291cmNlIFVSTCBhcyBhcmd1bWVudHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uRXJyb3JdIENhbGxiYWNrIGFmdGVyIGEgQ1NTIHBhcnNpbmcgZXJyb3IgaGFzXG4gKiAgICAgICAgICAgICAgICAgICBvY2N1cnJlZCBvciBhbiBYSFIgcmVxdWVzdCBoYXMgZmFpbGVkLiBQYXNzZXMgMSkgYW4gZXJyb3JcbiAqICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsIGFuZCAyKSBzb3VyY2Ugbm9kZSByZWZlcmVuY2UsIDMpIHhociwgYW5kIDQgdXJsIGFzXG4gKiAgICAgICAgICAgICAgICAgICBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbldhcm5pbmddIENhbGxiYWNrIGFmdGVyIGVhY2ggQ1NTIHBhcnNpbmcgd2FybmluZ1xuICogICAgICAgICAgICAgICAgICAgaGFzIG9jY3VycmVkLiBQYXNzZXMgMSkgYSB3YXJuaW5nIG1lc3NhZ2UgYXMgYW4gYXJndW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vblN1Y2Nlc3NdIENhbGxiYWNrIGFmdGVyIENTUyBkYXRhIGhhcyBiZWVuXG4gKiAgICAgICAgICAgICAgICAgICBjb2xsZWN0ZWQgZnJvbSBlYWNoIG5vZGUgYW5kIGJlZm9yZSBDU1MgY3VzdG9tIHByb3BlcnRpZXNcbiAqICAgICAgICAgICAgICAgICAgIGhhdmUgYmVlbiB0cmFuc2Zvcm1lZC4gQWxsb3dzIG1vZGlmeWluZyB0aGUgQ1NTIGRhdGEgYmVmb3JlXG4gKiAgICAgICAgICAgICAgICAgICBpdCBpcyB0cmFuc2Zvcm1lZCBieSByZXR1cm5pbmcgYW55IHN0cmluZyB2YWx1ZSAob3IgZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgIHRvIHNraXApLiBQYXNzZXMgMSkgQ1NTIHRleHQsIDIpIHNvdXJjZSBub2RlIHJlZmVyZW5jZSwgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAzKSB0aGUgc291cmNlIFVSTCBhcyBhcmd1bWVudHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vbkNvbXBsZXRlXSBDYWxsYmFjayBhZnRlciBhbGwgQ1NTIGhhcyBiZWVuXG4gKiAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQsIGxlZ2FjeS1jb21wYXRpYmxlIENTUyBoYXMgYmVlbiBnZW5lcmF0ZWQsIGFuZFxuICogICAgICAgICAgICAgICAgICAgKG9wdGlvbmFsbHkpIHRoZSBET00gaGFzIGJlZW4gdXBkYXRlZC4gUGFzc2VzIDEpIGEgQ1NTXG4gKiAgICAgICAgICAgICAgICAgICBzdHJpbmcgd2l0aCBDU1MgdmFyaWFibGUgdmFsdWVzIHJlc29sdmVkLCAyKSBhbiBhcnJheSBvZlxuICogICAgICAgICAgICAgICAgICAgb3V0cHV0IDxzdHlsZT4gbm9kZSByZWZlcmVuY2VzIHRoYXQgaGF2ZSBiZWVuIGFwcGVuZGVkIHRvXG4gKiAgICAgICAgICAgICAgICAgICB0aGUgRE9NLCAzKSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgY3VzdG9tIHByb3BlcmllcyBuYW1lc1xuICogICAgICAgICAgICAgICAgICAgYW5kIHZhbHVlcywgYW5kIDQpIHRoZSBwb255ZmlsbCBleGVjdXRpb24gdGltZSBpblxuICogICAgICAgICAgICAgICAgICAgbWlsbGlzZWNvbmRzLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29wdGlvbnMub25GaW5hbGx5XSBDYWxsYmFjayBpbiBtb2Rlcm4gYW5kIGxlZ2FjeSBicm93c2Vyc1xuICogICAgICAgICAgICAgICAgICAgYWZ0ZXIgdGhlIHBvbnlmaWxsIGhhcyBmaW5pc2hlZCBhbGwgdGFza3MuIFBhc3NlcyAxKSBhXG4gKiAgICAgICAgICAgICAgICAgICBib29sZWFuIGluZGljYXRpbmcgaWYgdGhlIGxhc3QgcG9ueWZpbGwgY2FsbCByZXN1bHRlZCBpbiBhXG4gKiAgICAgICAgICAgICAgICAgICBzdHlsZSBjaGFuZ2UsIDIpIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBjdXJyZW50XG4gKiAgICAgICAgICAgICAgICAgICBicm93c2VyIHByb3ZpZGVzIG5hdGl2ZSBzdXBwb3J0IGZvciBDU1MgY3VzdG9tIHByb3BlcnRpZXMsXG4gKiAgICAgICAgICAgICAgICAgICBhbmQgMykgdGhlIHBvbnlmaWxsIGV4ZWN1dGlvbiB0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBleGFtcGxlXG4gKlxuICogICBjc3NWYXJzKHtcbiAqICAgICByb290RWxlbWVudCAgIDogZG9jdW1lbnQsXG4gKiAgICAgc2hhZG93RE9NICAgICA6IGZhbHNlLFxuICogICAgIGluY2x1ZGUgICAgICAgOiAnc3R5bGUsbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdJyxcbiAqICAgICBleGNsdWRlICAgICAgIDogJycsXG4gKiAgICAgdmFyaWFibGVzICAgICA6IHt9LFxuICogICAgIG9ubHlMZWdhY3kgICAgOiB0cnVlLFxuICogICAgIHByZXNlcnZlU3RhdGljOiB0cnVlLFxuICogICAgIHByZXNlcnZlVmFycyAgOiBmYWxzZSxcbiAqICAgICBzaWxlbnQgICAgICAgIDogZmFsc2UsXG4gKiAgICAgdXBkYXRlRE9NICAgICA6IHRydWUsXG4gKiAgICAgdXBkYXRlVVJMcyAgICA6IHRydWUsXG4gKiAgICAgd2F0Y2ggICAgICAgICA6IGZhbHNlLFxuICogICAgIG9uQmVmb3JlU2VuZCh4aHIsIG5vZGUsIHVybCkge30sXG4gKiAgICAgb25FcnJvcihtZXNzYWdlLCBub2RlLCB4aHIsIHVybCkge30sXG4gKiAgICAgb25XYXJuaW5nKG1lc3NhZ2UpIHt9LFxuICogICAgIG9uU3VjY2Vzcyhjc3NUZXh0LCBub2RlLCB1cmwpIHt9LFxuICogICAgIG9uQ29tcGxldGUoY3NzVGV4dCwgc3R5bGVOb2RlLCBjc3NWYXJpYWJsZXMsIGJlbmNobWFyaykge30sXG4gKiAgICAgb25GaW5hbGx5KGhhc0NoYW5nZWQsIGhhc05hdGl2ZVN1cHBvcnQsIGJlbmNobWFyaylcbiAqICAgfSk7XG4gKi8gZnVuY3Rpb24gY3NzVmFycygpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIG1zZ1ByZWZpeCA9IFwiY3NzVmFycygpOiBcIjtcbiAgICB2YXIgc2V0dGluZ3MgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKG1lc3NhZ2UsIHNvdXJjZU5vZGUsIHhociwgdXJsKSB7XG4gICAgICAgIGlmICghc2V0dGluZ3Muc2lsZW50ICYmIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiXCIuY29uY2F0KG1zZ1ByZWZpeCkuY29uY2F0KG1lc3NhZ2UsIFwiXFxuXCIpLCBzb3VyY2VOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXR0aW5ncy5vbkVycm9yKG1lc3NhZ2UsIHNvdXJjZU5vZGUsIHhociwgdXJsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlV2FybmluZyhtZXNzYWdlKSB7XG4gICAgICAgIGlmICghc2V0dGluZ3Muc2lsZW50ICYmIHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJcIi5jb25jYXQobXNnUHJlZml4KS5jb25jYXQobWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIHNldHRpbmdzLm9uV2FybmluZyhtZXNzYWdlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRmluYWxseShoYXNDaGFuZ2VkKSB7XG4gICAgICAgIHNldHRpbmdzLm9uRmluYWxseShCb29sZWFuKGhhc0NoYW5nZWQpLCBpc05hdGl2ZVN1cHBvcnQsIGdldFRpbWVTdGFtcCgpIC0gc2V0dGluZ3MuX19iZW5jaG1hcmspO1xuICAgIH1cbiAgICBpZiAoIWlzQnJvd3Nlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzZXR0aW5ncy53YXRjaCkge1xuICAgICAgICBzZXR0aW5ncy53YXRjaCA9IGRlZmF1bHRzLndhdGNoO1xuICAgICAgICBhZGRNdXRhdGlvbk9ic2VydmVyKHNldHRpbmdzKTtcbiAgICAgICAgY3NzVmFycyhzZXR0aW5ncyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHNldHRpbmdzLndhdGNoID09PSBmYWxzZSAmJiBjc3NWYXJzT2JzZXJ2ZXIpIHtcbiAgICAgICAgY3NzVmFyc09ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgY3NzVmFyc09ic2VydmVyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFzZXR0aW5ncy5fX2JlbmNobWFyaykge1xuICAgICAgICBpZiAoY3NzVmFyc0lzUnVubmluZyA9PT0gc2V0dGluZ3Mucm9vdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNzc1ZhcnNEZWJvdW5jZWQob3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0dGluZ3MuX19iZW5jaG1hcmsgPSBnZXRUaW1lU3RhbXAoKTtcbiAgICAgICAgc2V0dGluZ3MuZXhjbHVkZSA9IFsgY3NzVmFyc09ic2VydmVyID8gJ1tkYXRhLWNzc3ZhcnNdOm5vdChbZGF0YS1jc3N2YXJzPVwiXCJdKScgOiAnW2RhdGEtY3NzdmFycz1cIm91dFwiXScsIHNldHRpbmdzLmV4Y2x1ZGUgXS5maWx0ZXIoKGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICAgIH0pKS5qb2luKFwiLFwiKTtcbiAgICAgICAgc2V0dGluZ3MudmFyaWFibGVzID0gZml4VmFyTmFtZXMoc2V0dGluZ3MudmFyaWFibGVzKTtcbiAgICAgICAgaWYgKCFjc3NWYXJzT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHZhciBvdXROb2RlcyA9IEFycmF5LmFwcGx5KG51bGwsIHNldHRpbmdzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNzc3ZhcnM9XCJvdXRcIl0nKSk7XG4gICAgICAgICAgICBvdXROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihvdXROb2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFHcm91cCA9IG91dE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzLWdyb3VwXCIpO1xuICAgICAgICAgICAgICAgIHZhciBzcmNOb2RlID0gZGF0YUdyb3VwID8gc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3NzdmFycz1cInNyY1wiXVtkYXRhLWNzc3ZhcnMtZ3JvdXA9XCInLmNvbmNhdChkYXRhR3JvdXAsICdcIl0nKSkgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghc3JjTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBvdXROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob3V0Tm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKGNzc1ZhcnNTcmNOb2RlQ291bnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3JjTm9kZXMgPSBzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jc3N2YXJzXTpub3QoW2RhdGEtY3NzdmFycz1cIm91dFwiXSknKTtcbiAgICAgICAgICAgICAgICBpZiAoc3JjTm9kZXMubGVuZ3RoIDwgY3NzVmFyc1NyY05vZGVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjc3NWYXJzU3JjTm9kZUNvdW50ID0gc3JjTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVN0b3JlLmRvbSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgaWYgKGlzTmF0aXZlU3VwcG9ydCAmJiBzZXR0aW5ncy5vbmx5TGVnYWN5KSB7XG4gICAgICAgICAgICB2YXIgaGFzVmFyQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MudXBkYXRlRE9NKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldEVsbSA9IHNldHRpbmdzLnJvb3RFbGVtZW50Lmhvc3QgfHwgKHNldHRpbmdzLnJvb3RFbGVtZW50ID09PSBkb2N1bWVudCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHNldHRpbmdzLnJvb3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzZXR0aW5ncy52YXJpYWJsZXMpLmZvckVhY2goKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFyVmFsdWUgPSBzZXR0aW5ncy52YXJpYWJsZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFyQ2hhbmdlID0gaGFzVmFyQ2hhbmdlIHx8IHZhclZhbHVlICE9PSBnZXRDb21wdXRlZFN0eWxlKHRhcmdldEVsbSkuZ2V0UHJvcGVydHlWYWx1ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRFbG0uc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlRmluYWxseShoYXNWYXJDaGFuZ2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc1NoYWRvd0RPTVJlYWR5ICYmIChzZXR0aW5ncy5zaGFkb3dET00gfHwgc2V0dGluZ3Mucm9vdEVsZW1lbnQuc2hhZG93Um9vdCB8fCBzZXR0aW5ncy5yb290RWxlbWVudC5ob3N0KSkge1xuICAgICAgICAgICAgZ2V0Q3NzRGF0YSh7XG4gICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQ6IGRlZmF1bHRzLnJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IGRlZmF1bHRzLmluY2x1ZGUsXG4gICAgICAgICAgICAgICAgZXhjbHVkZTogc2V0dGluZ3MuZXhjbHVkZSxcbiAgICAgICAgICAgICAgICBza2lwRGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKGNzc1RleHQsIG5vZGUsIHVybCkge1xuICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKHJlZ2V4LmNzc0NvbW1lbnRzLCBcIlwiKS5yZXBsYWNlKHJlZ2V4LmNzc01lZGlhUXVlcmllcywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSAoY3NzVGV4dC5tYXRjaChyZWdleC5jc3NWYXJEZWNsUnVsZXMpIHx8IFtdKS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3NzVGV4dCB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoY3NzVGV4dCwgY3NzQXJyYXksIG5vZGVBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZVZhcnMoY3NzVGV4dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IHZhcmlhYmxlU3RvcmUuZG9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25XYXJuaW5nOiBoYW5kbGVXYXJuaW5nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpc1NoYWRvd0RPTVJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY3NzVmFycyhzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3NWYXJzSXNSdW5uaW5nID0gc2V0dGluZ3Mucm9vdEVsZW1lbnQ7XG4gICAgICAgICAgICBnZXRDc3NEYXRhKHtcbiAgICAgICAgICAgICAgICByb290RWxlbWVudDogc2V0dGluZ3Mucm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogc2V0dGluZ3MuaW5jbHVkZSxcbiAgICAgICAgICAgICAgICBleGNsdWRlOiBzZXR0aW5ncy5leGNsdWRlLFxuICAgICAgICAgICAgICAgIHNraXBEaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25CZWZvcmVTZW5kOiBzZXR0aW5ncy5vbkJlZm9yZVNlbmQsXG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcih4aHIsIG5vZGUsIHVybCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VVcmwgPSB4aHIucmVzcG9uc2VVUkwgfHwgZ2V0RnVsbFVybCQxKHVybCwgbG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQgPyBcIihcIi5jb25jYXQoeGhyLnN0YXR1c1RleHQsIFwiKVwiKSA6IFwiVW5zcGVjaWZpZWQgRXJyb3JcIiArICh4aHIuc3RhdHVzID09PSAwID8gXCIgKHBvc3NpYmx5IENPUlMgcmVsYXRlZClcIiA6IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNc2cgPSBcIkNTUyBYSFIgRXJyb3I6IFwiLmNvbmNhdChyZXNwb25zZVVybCwgXCIgXCIpLmNvbmNhdCh4aHIuc3RhdHVzLCBcIiBcIikuY29uY2F0KHN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnJvck1zZywgbm9kZSwgeGhyLCByZXNwb25zZVVybCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2Vzcyhjc3NUZXh0LCBub2RlLCB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzTGluayA9IG5vZGUudGFnTmFtZSA9PT0gXCJMSU5LXCI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1N0eWxlSW1wb3J0ID0gbm9kZS50YWdOYW1lID09PSBcIlNUWUxFXCIgJiYgY3NzVGV4dCAhPT0gbm9kZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbCA9IHNldHRpbmdzLm9uU3VjY2Vzcyhjc3NUZXh0LCBub2RlLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gcmV0dXJuVmFsICE9PSB1bmRlZmluZWQgJiYgQm9vbGVhbihyZXR1cm5WYWwpID09PSBmYWxzZSA/IFwiXCIgOiByZXR1cm5WYWwgfHwgY3NzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnVwZGF0ZVVSTHMgJiYgKGlzTGluayB8fCBpc1N0eWxlSW1wb3J0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IGZpeFJlbGF0aXZlQ3NzVXJscyhjc3NUZXh0LCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NUZXh0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZShjc3NUZXh0LCBjc3NBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYXJzID0gX2V4dGVuZHMoe30sIHZhcmlhYmxlU3RvcmUuZG9tLCB2YXJpYWJsZVN0b3JlLnVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzVmFyQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlU3RvcmUuam9iID0ge307XG4gICAgICAgICAgICAgICAgICAgIG5vZGVBcnJheS5mb3JFYWNoKChmdW5jdGlvbihub2RlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUNTUyA9IGNzc0FycmF5W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2V4LmNzc1ZhcnMudGVzdChub2RlQ1NTKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3NUcmVlID0gcGFyc2VDc3Mobm9kZUNTUywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVTdGF0aWM6IHNldHRpbmdzLnByZXNlcnZlU3RhdGljLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ29tbWVudHM6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlVmFycyhjc3NUcmVlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUhvc3Q6IEJvb2xlYW4oc2V0dGluZ3Mucm9vdEVsZW1lbnQuaG9zdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogdmFyaWFibGVTdG9yZS5kb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbldhcm5pbmc6IGhhbmRsZVdhcm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuX19jc3NWYXJzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJlZTogY3NzVHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIubWVzc2FnZSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHZhcmlhYmxlU3RvcmUuam9iLCB2YXJpYWJsZVN0b3JlLmRvbSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHZhcmlhYmxlU3RvcmUudXNlciwgc2V0dGluZ3MudmFyaWFibGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHZhcmlhYmxlU3RvcmUuam9iLCB2YXJpYWJsZVN0b3JlLnVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2V4dGVuZHModmFyaWFibGVTdG9yZS5qb2IsIHZhcmlhYmxlU3RvcmUudXNlciwgc2V0dGluZ3MudmFyaWFibGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKGN1cnJlbnRWYXJzLCBzZXR0aW5ncy52YXJpYWJsZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhhc1ZhckNoYW5nZSA9IGNvdW50ZXJzLmpvYiA+IDAgJiYgQm9vbGVhbihPYmplY3Qua2V5cyh2YXJpYWJsZVN0b3JlLmpvYikubGVuZ3RoID4gT2JqZWN0LmtleXMoY3VycmVudFZhcnMpLmxlbmd0aCB8fCBCb29sZWFuKE9iamVjdC5rZXlzKGN1cnJlbnRWYXJzKS5sZW5ndGggJiYgT2JqZWN0LmtleXModmFyaWFibGVTdG9yZS5qb2IpLnNvbWUoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhcmlhYmxlU3RvcmUuam9iW2tleV0gIT09IGN1cnJlbnRWYXJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzVmFyQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldENzc05vZGVzKHNldHRpbmdzLnJvb3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc1ZhcnMoc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dENzc0FycmF5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Tm9kZUFycmF5ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ZnJhbWVzV2l0aFZhcnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVycy5qb2IrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVBcnJheS5mb3JFYWNoKChmdW5jdGlvbihub2RlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzU2tpcCA9ICFub2RlLl9fY3NzVmFycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5fX2Nzc1ZhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUNzcyhub2RlLl9fY3NzVmFycy50cmVlLCBfZXh0ZW5kcyh7fSwgc2V0dGluZ3MsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHZhcmlhYmxlU3RvcmUuam9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uV2FybmluZzogaGFuZGxlV2FybmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dENzcyA9IHN0cmluZ2lmeUNzcyhub2RlLl9fY3NzVmFycy50cmVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUNTUyA9IGNzc0FycmF5W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNDU1NWYXJGdW5jID0gcmVnZXguY3NzVmFyRnVuYy50ZXN0KG5vZGVDU1MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIiwgXCJzcmNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXRDc3MubGVuZ3RoICYmIGhhc0NTU1ZhckZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFHcm91cCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzLWdyb3VwXCIpIHx8ICsrY291bnRlcnMuZ3JvdXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRDc3NOb1NwYWNlcyA9IG91dENzcy5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXROb2RlID0gc2V0dGluZ3Mucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3NzdmFycz1cIm91dFwiXVtkYXRhLWNzc3ZhcnMtZ3JvdXA9XCInLmNvbmNhdChkYXRhR3JvdXAsICdcIl0nKSkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNLZXlmcmFtZXNXaXRoVmFycyA9IGhhc0tleWZyYW1lc1dpdGhWYXJzIHx8IHJlZ2V4LmNzc0tleWZyYW1lcy50ZXN0KG91dENzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5wcmVzZXJ2ZVN0YXRpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zaGVldC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXROb2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Tm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnNcIiwgXCJvdXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dENzc05vU3BhY2VzID09PSBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoL1xccy9nLCBcIlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTa2lwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdXROb2RlICYmIG91dE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzLWdyb3VwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvdXROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvdXRDc3NOb1NwYWNlcyAhPT0gb3V0Tm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgXCJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgbm9kZSwgb3V0Tm9kZSBdLmZvckVhY2goKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1qb2JcIiwgY291bnRlcnMuam9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1ncm91cFwiLCBkYXRhR3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0Tm9kZS50ZXh0Q29udGVudCA9IG91dENzcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dENzc0FycmF5LnB1c2gob3V0Q3NzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dE5vZGVBcnJheS5wdXNoKG91dE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXROb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG91dE5vZGUsIG5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgXCJcIikgIT09IG91dENzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRDc3NBcnJheS5wdXNoKG91dENzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyci5tZXNzYWdlLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTa2lwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIsIFwic2tpcFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtY3NzdmFycy1qb2JcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnMtam9iXCIsIGNvdW50ZXJzLmpvYik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVmFyc1NyY05vZGVDb3VudCA9IHNldHRpbmdzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNzc3ZhcnNdOm5vdChbZGF0YS1jc3N2YXJzPVwib3V0XCJdKScpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zaGFkb3dET00pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxtcyA9IFsgc2V0dGluZ3Mucm9vdEVsZW1lbnQgXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNldHRpbmdzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGVsbTsgZWxtID0gZWxtc1tpXTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbG0uc2hhZG93Um9vdCAmJiBlbG0uc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwic3R5bGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFkb3dTZXR0aW5ncyA9IF9leHRlbmRzKHt9LCBzZXR0aW5ncywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50OiBlbG0uc2hhZG93Um9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NWYXJzKHNoYWRvd1NldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy51cGRhdGVET00gJiYgaGFzS2V5ZnJhbWVzV2l0aFZhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhLZXlmcmFtZXMoc2V0dGluZ3Mucm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVmFyc0lzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZShvdXRDc3NBcnJheS5qb2luKFwiXCIpLCBvdXROb2RlQXJyYXksIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFyaWFibGVTdG9yZS5qb2IpKSwgZ2V0VGltZVN0YW1wKCkgLSBzZXR0aW5ncy5fX2JlbmNobWFyayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGaW5hbGx5KG91dE5vZGVBcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoZnVuY3Rpb24gaW5pdChldnQpIHtcbiAgICAgICAgICAgIGNzc1ZhcnMob3B0aW9ucyk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuY3NzVmFycy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvdW50ZXJzLmpvYiA9IDA7XG4gICAgY291bnRlcnMuZ3JvdXAgPSAwO1xuICAgIGNzc1ZhcnNJc1J1bm5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3NzVmFyc09ic2VydmVyKSB7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIGNzc1ZhcnNPYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICAgIGNzc1ZhcnNTcmNOb2RlQ291bnQgPSAwO1xuICAgIGRlYm91bmNlVGltZXIgPSBudWxsO1xuICAgIGlzU2hhZG93RE9NUmVhZHkgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBwcm9wIGluIHZhcmlhYmxlU3RvcmUpIHtcbiAgICAgICAgdmFyaWFibGVTdG9yZVtwcm9wXSA9IHt9O1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGFkZE11dGF0aW9uT2JzZXJ2ZXIoc2V0dGluZ3MpIHtcbiAgICBmdW5jdGlvbiBpc0Rpc2FibGVkKG5vZGUpIHtcbiAgICAgICAgdmFyIGlzRGlzYWJsZWRBdHRyID0gbm9kZS5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgdmFyIGlzRGlzYWJsZWRTaGVldCA9IChub2RlLnNoZWV0IHx8IHt9KS5kaXNhYmxlZDtcbiAgICAgICAgcmV0dXJuIGlzRGlzYWJsZWRBdHRyIHx8IGlzRGlzYWJsZWRTaGVldDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMaW5rKG5vZGUpIHtcbiAgICAgICAgdmFyIGlzU3R5bGVzaGVldCA9IG5vZGUudGFnTmFtZSA9PT0gXCJMSU5LXCIgJiYgKG5vZGUuZ2V0QXR0cmlidXRlKFwicmVsXCIpIHx8IFwiXCIpLmluZGV4T2YoXCJzdHlsZXNoZWV0XCIpICE9PSAtMTtcbiAgICAgICAgcmV0dXJuIGlzU3R5bGVzaGVldCAmJiAhaXNEaXNhYmxlZChub2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNTdHlsZShub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLnRhZ05hbWUgPT09IFwiU1RZTEVcIiAmJiAhaXNEaXNhYmxlZChub2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEFkZE11dGF0aW9uKG11dGF0aW9uTm9kZXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmFwcGx5KG51bGwsIG11dGF0aW9uTm9kZXMpLnNvbWUoKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBpc0VsbSA9IG5vZGUubm9kZVR5cGUgPT09IDE7XG4gICAgICAgICAgICB2YXIgaGFzQXR0ciA9IGlzRWxtICYmIG5vZGUuaGFzQXR0cmlidXRlKFwiZGF0YS1jc3N2YXJzXCIpO1xuICAgICAgICAgICAgdmFyIGlzU3R5bGVXaXRoVmFycyA9IGlzU3R5bGUobm9kZSkgJiYgcmVnZXguY3NzVmFycy50ZXN0KG5vZGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSAhaGFzQXR0ciAmJiAoaXNMaW5rKG5vZGUpIHx8IGlzU3R5bGVXaXRoVmFycyk7XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkUmVtb3ZlTXV0YXRpb24obXV0YXRpb25Ob2Rlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuYXBwbHkobnVsbCwgbXV0YXRpb25Ob2Rlcykuc29tZSgoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgdmFyIGlzRWxtID0gbm9kZS5ub2RlVHlwZSA9PT0gMTtcbiAgICAgICAgICAgIHZhciBpc091dE5vZGUgPSBpc0VsbSAmJiBub2RlLmdldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKSA9PT0gXCJvdXRcIjtcbiAgICAgICAgICAgIHZhciBpc1NyY05vZGUgPSBpc0VsbSAmJiBub2RlLmdldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiKSA9PT0gXCJzcmNcIjtcbiAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gaXNTcmNOb2RlO1xuICAgICAgICAgICAgaWYgKGlzU3JjTm9kZSB8fCBpc091dE5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YUdyb3VwID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzc3ZhcnMtZ3JvdXBcIik7XG4gICAgICAgICAgICAgICAgdmFyIG9ycGhhbk5vZGUgPSBzZXR0aW5ncy5yb290RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jc3N2YXJzLWdyb3VwPVwiJy5jb25jYXQoZGF0YUdyb3VwLCAnXCJdJykpO1xuICAgICAgICAgICAgICAgIGlmIChpc1NyY05vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRDc3NOb2RlcyhzZXR0aW5ncy5yb290RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlU3RvcmUuZG9tID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcnBoYW5Ob2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ycGhhbk5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvcnBoYW5Ob2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAoIXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNzc1ZhcnNPYnNlcnZlcikge1xuICAgICAgICBjc3NWYXJzT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBjc3NWYXJzT2JzZXJ2ZXIgPSBudWxsO1xuICAgIH1cbiAgICBjc3NWYXJzT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24obXV0YXRpb25zKSB7XG4gICAgICAgIHZhciBoYXNWYWxpZE11dGF0aW9uID0gbXV0YXRpb25zLnNvbWUoKGZ1bmN0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09IFwiYXR0cmlidXRlc1wiKSB7XG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGlzTGluayhtdXRhdGlvbi50YXJnZXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtdXRhdGlvbi50eXBlID09PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGlzVmFsaWRBZGRNdXRhdGlvbihtdXRhdGlvbi5hZGRlZE5vZGVzKSB8fCBpc1ZhbGlkUmVtb3ZlTXV0YXRpb24obXV0YXRpb24ucmVtb3ZlZE5vZGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgICAgICB9KSk7XG4gICAgICAgIGlmIChoYXNWYWxpZE11dGF0aW9uKSB7XG4gICAgICAgICAgICBjc3NWYXJzKHNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgICBjc3NWYXJzT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbIFwiZGlzYWJsZWRcIiwgXCJocmVmXCIgXSxcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNzc1ZhcnNEZWJvdW5jZWQoc2V0dGluZ3MpIHtcbiAgICB2YXIgZGVsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lcik7XG4gICAgZGVib3VuY2VUaW1lciA9IHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXR0aW5ncy5fX2JlbmNobWFyayA9IG51bGw7XG4gICAgICAgIGNzc1ZhcnMoc2V0dGluZ3MpO1xuICAgIH0pLCBkZWxheSk7XG59XG5cbmZ1bmN0aW9uIGZpeEtleWZyYW1lcyhyb290RWxlbWVudCkge1xuICAgIHZhciBhbmltYXRpb25OYW1lUHJvcCA9IFsgXCJhbmltYXRpb24tbmFtZVwiLCBcIi1tb3otYW5pbWF0aW9uLW5hbWVcIiwgXCItd2Via2l0LWFuaW1hdGlvbi1uYW1lXCIgXS5maWx0ZXIoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSlbcHJvcF07XG4gICAgfSkpWzBdO1xuICAgIGlmIChhbmltYXRpb25OYW1lUHJvcCkge1xuICAgICAgICB2YXIgYWxsTm9kZXMgPSByb290RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIik7XG4gICAgICAgIHZhciBrZXlmcmFtZU5vZGVzID0gW107XG4gICAgICAgIHZhciBuYW1lTWFya2VyID0gXCJfX0NTU1ZBUlNQT05ZRklMTC1LRVlGUkFNRVNfX1wiO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYWxsTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gYWxsTm9kZXNbaV07XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uTmFtZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSlbYW5pbWF0aW9uTmFtZVByb3BdO1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbk5hbWUgIT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZVthbmltYXRpb25OYW1lUHJvcF0gKz0gbmFtZU1hcmtlcjtcbiAgICAgICAgICAgICAgICBrZXlmcmFtZU5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdm9pZCBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbGVuID0ga2V5ZnJhbWVOb2Rlcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgdmFyIG5vZGVTdHlsZSA9IGtleWZyYW1lTm9kZXNbX2ldLnN0eWxlO1xuICAgICAgICAgICAgbm9kZVN0eWxlW2FuaW1hdGlvbk5hbWVQcm9wXSA9IG5vZGVTdHlsZVthbmltYXRpb25OYW1lUHJvcF0ucmVwbGFjZShuYW1lTWFya2VyLCBcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZml4UmVsYXRpdmVDc3NVcmxzKGNzc1RleHQsIGJhc2VVcmwpIHtcbiAgICB2YXIgY3NzVXJscyA9IGNzc1RleHQucmVwbGFjZShyZWdleC5jc3NDb21tZW50cywgXCJcIikubWF0Y2gocmVnZXguY3NzVXJscykgfHwgW107XG4gICAgY3NzVXJscy5mb3JFYWNoKChmdW5jdGlvbihjc3NVcmwpIHtcbiAgICAgICAgdmFyIG9sZFVybCA9IGNzc1VybC5yZXBsYWNlKHJlZ2V4LmNzc1VybHMsIFwiJDFcIik7XG4gICAgICAgIHZhciBuZXdVcmwgPSBnZXRGdWxsVXJsJDEob2xkVXJsLCBiYXNlVXJsKTtcbiAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQucmVwbGFjZShjc3NVcmwsIGNzc1VybC5yZXBsYWNlKG9sZFVybCwgbmV3VXJsKSk7XG4gICAgfSkpO1xuICAgIHJldHVybiBjc3NUZXh0O1xufVxuXG5mdW5jdGlvbiBmaXhWYXJOYW1lcygpIHtcbiAgICB2YXIgdmFyT2JqID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgcmVMZWFkaW5nSHlwaGVucyA9IC9eLXsyfS87XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhck9iaikucmVkdWNlKChmdW5jdGlvbihvYmosIHZhbHVlKSB7XG4gICAgICAgIHZhciBrZXkgPSByZUxlYWRpbmdIeXBoZW5zLnRlc3QodmFsdWUpID8gdmFsdWUgOiBcIi0tXCIuY29uY2F0KHZhbHVlLnJlcGxhY2UoL14tKy8sIFwiXCIpKTtcbiAgICAgICAgb2JqW2tleV0gPSB2YXJPYmpbdmFsdWVdO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0pLCB7fSk7XG59XG5cbmZ1bmN0aW9uIGdldEZ1bGxVcmwkMSh1cmwpIHtcbiAgICB2YXIgYmFzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbG9jYXRpb24uaHJlZjtcbiAgICB2YXIgZCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTtcbiAgICB2YXIgYiA9IGQuY3JlYXRlRWxlbWVudChcImJhc2VcIik7XG4gICAgdmFyIGEgPSBkLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGQuaGVhZC5hcHBlbmRDaGlsZChiKTtcbiAgICBkLmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgYi5ocmVmID0gYmFzZTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGEuaHJlZjtcbn1cblxuZnVuY3Rpb24gZ2V0VGltZVN0YW1wKCkge1xuICAgIHJldHVybiBpc0Jyb3dzZXIgJiYgKHdpbmRvdy5wZXJmb3JtYW5jZSB8fCB7fSkubm93ID8gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIDogKG5ldyBEYXRlKS5nZXRUaW1lKCk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0Q3NzTm9kZXMocm9vdEVsZW1lbnQpIHtcbiAgICB2YXIgcmVzZXROb2RlcyA9IEFycmF5LmFwcGx5KG51bGwsIHJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNzc3ZhcnM9XCJza2lwXCJdLFtkYXRhLWNzc3ZhcnM9XCJzcmNcIl0nKSk7XG4gICAgcmVzZXROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtY3NzdmFyc1wiLCBcIlwiKTtcbiAgICB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNzc1ZhcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3MtdmFycy1wb255ZmlsbC5lc20uanMubWFwXG4iLCIvKipcbiAqIElkZW50aWNvbi5qcyAyLjMuM1xuICogaHR0cDovL2dpdGh1Yi5jb20vc3Rld2FydGxvcmQvaWRlbnRpY29uLmpzXG4gKlxuICogUE5HTGliIHJlcXVpcmVkIGZvciBQTkcgb3V0cHV0XG4gKiBodHRwOi8vd3d3Lnhhcmcub3JnL2Rvd25sb2FkL3BuZ2xpYi5qc1xuICpcbiAqIENvcHlyaWdodCAyMDE4LCBTdGV3YXJ0IExvcmRcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBCU0QgbGljZW5zZVxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHBcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIFBOR2xpYjtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBQTkdsaWIgPSByZXF1aXJlKCcuL3BuZ2xpYicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFBOR2xpYiA9IHdpbmRvdy5QTkdsaWI7XG4gICAgfVxuXG4gICAgdmFyIElkZW50aWNvbiA9IGZ1bmN0aW9uKGhhc2gsIG9wdGlvbnMpe1xuICAgICAgICBpZiAodHlwZW9mKGhhc2gpICE9PSAnc3RyaW5nJyB8fCBoYXNoLmxlbmd0aCA8IDE1KSB7XG4gICAgICAgICAgICB0aHJvdyAnQSBoYXNoIG9mIGF0IGxlYXN0IDE1IGNoYXJhY3RlcnMgaXMgcmVxdWlyZWQuJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBbMjQwLCAyNDAsIDI0MCwgMjU1XSxcbiAgICAgICAgICAgIG1hcmdpbjogICAgIDAuMDgsXG4gICAgICAgICAgICBzaXplOiAgICAgICA2NCxcbiAgICAgICAgICAgIHNhdHVyYXRpb246IDAuNyxcbiAgICAgICAgICAgIGJyaWdodG5lc3M6IDAuNSxcbiAgICAgICAgICAgIGZvcm1hdDogICAgICdwbmcnXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gdHlwZW9mKG9wdGlvbnMpID09PSAnb2JqZWN0JyA/IG9wdGlvbnMgOiB0aGlzLmRlZmF1bHRzO1xuXG4gICAgICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBvbGQgY29uc3RydWN0b3IgKGhhc2gsIHNpemUsIG1hcmdpbilcbiAgICAgICAgaWYgKHR5cGVvZihhcmd1bWVudHNbMV0pID09PSAnbnVtYmVyJykgeyB0aGlzLm9wdGlvbnMuc2l6ZSAgID0gYXJndW1lbnRzWzFdOyB9XG4gICAgICAgIGlmIChhcmd1bWVudHNbMl0pICAgICAgICAgICAgICAgICAgICAgIHsgdGhpcy5vcHRpb25zLm1hcmdpbiA9IGFyZ3VtZW50c1syXTsgfVxuXG4gICAgICAgIHRoaXMuaGFzaCAgICAgICAgPSBoYXNoXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCAgPSB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCB8fCB0aGlzLmRlZmF1bHRzLmJhY2tncm91bmQ7XG4gICAgICAgIHRoaXMuc2l6ZSAgICAgICAgPSB0aGlzLm9wdGlvbnMuc2l6ZSAgICAgICB8fCB0aGlzLmRlZmF1bHRzLnNpemU7XG4gICAgICAgIHRoaXMuZm9ybWF0ICAgICAgPSB0aGlzLm9wdGlvbnMuZm9ybWF0ICAgICB8fCB0aGlzLmRlZmF1bHRzLmZvcm1hdDtcbiAgICAgICAgdGhpcy5tYXJnaW4gICAgICA9IHRoaXMub3B0aW9ucy5tYXJnaW4gIT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5tYXJnaW4gOiB0aGlzLmRlZmF1bHRzLm1hcmdpbjtcblxuICAgICAgICAvLyBmb3JlZ3JvdW5kIGRlZmF1bHRzIHRvIGxhc3QgNyBjaGFycyBhcyBodWUgYXQgNzAlIHNhdHVyYXRpb24sIDUwJSBicmlnaHRuZXNzXG4gICAgICAgIHZhciBodWUgICAgICAgICAgPSBwYXJzZUludCh0aGlzLmhhc2guc3Vic3RyKC03KSwgMTYpIC8gMHhmZmZmZmZmO1xuICAgICAgICB2YXIgc2F0dXJhdGlvbiAgID0gdGhpcy5vcHRpb25zLnNhdHVyYXRpb24gfHwgdGhpcy5kZWZhdWx0cy5zYXR1cmF0aW9uO1xuICAgICAgICB2YXIgYnJpZ2h0bmVzcyAgID0gdGhpcy5vcHRpb25zLmJyaWdodG5lc3MgfHwgdGhpcy5kZWZhdWx0cy5icmlnaHRuZXNzO1xuICAgICAgICB0aGlzLmZvcmVncm91bmQgID0gdGhpcy5vcHRpb25zLmZvcmVncm91bmQgfHwgdGhpcy5oc2wycmdiKGh1ZSwgc2F0dXJhdGlvbiwgYnJpZ2h0bmVzcyk7XG4gICAgfTtcblxuICAgIElkZW50aWNvbi5wcm90b3R5cGUgPSB7XG4gICAgICAgIGJhY2tncm91bmQ6IG51bGwsXG4gICAgICAgIGZvcmVncm91bmQ6IG51bGwsXG4gICAgICAgIGhhc2g6ICAgICAgIG51bGwsXG4gICAgICAgIG1hcmdpbjogICAgIG51bGwsXG4gICAgICAgIHNpemU6ICAgICAgIG51bGwsXG4gICAgICAgIGZvcm1hdDogICAgIG51bGwsXG5cbiAgICAgICAgaW1hZ2U6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1N2ZygpXG4gICAgICAgICAgICAgICAgPyBuZXcgU3ZnKHRoaXMuc2l6ZSwgdGhpcy5mb3JlZ3JvdW5kLCB0aGlzLmJhY2tncm91bmQpXG4gICAgICAgICAgICAgICAgOiBuZXcgUE5HbGliKHRoaXMuc2l6ZSwgdGhpcy5zaXplLCAyNTYpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBpbWFnZSAgICAgID0gdGhpcy5pbWFnZSgpLFxuICAgICAgICAgICAgICAgIHNpemUgICAgICAgPSB0aGlzLnNpemUsXG4gICAgICAgICAgICAgICAgYmFzZU1hcmdpbiA9IE1hdGguZmxvb3Ioc2l6ZSAqIHRoaXMubWFyZ2luKSxcbiAgICAgICAgICAgICAgICBjZWxsICAgICAgID0gTWF0aC5mbG9vcigoc2l6ZSAtIChiYXNlTWFyZ2luICogMikpIC8gNSksXG4gICAgICAgICAgICAgICAgbWFyZ2luICAgICA9IE1hdGguZmxvb3IoKHNpemUgLSBjZWxsICogNSkgLyAyKSxcbiAgICAgICAgICAgICAgICBiZyAgICAgICAgID0gaW1hZ2UuY29sb3IuYXBwbHkoaW1hZ2UsIHRoaXMuYmFja2dyb3VuZCksXG4gICAgICAgICAgICAgICAgZmcgICAgICAgICA9IGltYWdlLmNvbG9yLmFwcGx5KGltYWdlLCB0aGlzLmZvcmVncm91bmQpO1xuXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgMTUgY2hhcmFjdGVycyBvZiB0aGUgaGFzaCBjb250cm9sIHRoZSBwaXhlbHMgKGV2ZW4vb2RkKVxuICAgICAgICAgICAgLy8gdGhleSBhcmUgZHJhd24gZG93biB0aGUgbWlkZGxlIGZpcnN0LCB0aGVuIG1pcnJvcmVkIG91dHdhcmRzXG4gICAgICAgICAgICB2YXIgaSwgY29sb3I7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTU7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gcGFyc2VJbnQodGhpcy5oYXNoLmNoYXJBdChpKSwgMTYpICUgMiA/IGJnIDogZmc7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDIgKiBjZWxsICsgbWFyZ2luLCBpICogY2VsbCArIG1hcmdpbiwgY2VsbCwgY2VsbCwgY29sb3IsIGltYWdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3RhbmdsZSgxICogY2VsbCArIG1hcmdpbiwgKGkgLSA1KSAqIGNlbGwgKyBtYXJnaW4sIGNlbGwsIGNlbGwsIGNvbG9yLCBpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlKDMgKiBjZWxsICsgbWFyZ2luLCAoaSAtIDUpICogY2VsbCArIG1hcmdpbiwgY2VsbCwgY2VsbCwgY29sb3IsIGltYWdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPCAxNSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3RhbmdsZSgwICogY2VsbCArIG1hcmdpbiwgKGkgLSAxMCkgKiBjZWxsICsgbWFyZ2luLCBjZWxsLCBjZWxsLCBjb2xvciwgaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3RhbmdsZSg0ICogY2VsbCArIG1hcmdpbiwgKGkgLSAxMCkgKiBjZWxsICsgbWFyZ2luLCBjZWxsLCBjZWxsLCBjb2xvciwgaW1hZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlY3RhbmdsZTogZnVuY3Rpb24oeCwgeSwgdywgaCwgY29sb3IsIGltYWdlKXtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3ZnKCkpIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5yZWN0YW5nbGVzLnB1c2goe3g6IHgsIHk6IHksIHc6IHcsIGg6IGgsIGNvbG9yOiBjb2xvcn0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaSwgajtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSB4OyBpIDwgeCArIHc7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSB5OyBqIDwgeSArIGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuYnVmZmVyW2ltYWdlLmluZGV4KGksIGopXSA9IGNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGFkYXB0ZWQgZnJvbTogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vYWVta2VpLzEzMjU5MzdcbiAgICAgICAgaHNsMnJnYjogZnVuY3Rpb24oaCwgcywgYil7XG4gICAgICAgICAgICBoICo9IDY7XG4gICAgICAgICAgICBzID0gW1xuICAgICAgICAgICAgICAgIGIgKz0gcyAqPSBiIDwgLjUgPyBiIDogMSAtIGIsXG4gICAgICAgICAgICAgICAgYiAtIGggJSAxICogcyAqIDIsXG4gICAgICAgICAgICAgICAgYiAtPSBzICo9IDIsXG4gICAgICAgICAgICAgICAgYixcbiAgICAgICAgICAgICAgICBiICsgaCAlIDEgKiBzLFxuICAgICAgICAgICAgICAgIGIgKyBzXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICByZXR1cm5bXG4gICAgICAgICAgICAgICAgc1sgfn5oICAgICUgNiBdICogMjU1LCAvLyByZWRcbiAgICAgICAgICAgICAgICBzWyAoaHwxNikgJSA2IF0gKiAyNTUsIC8vIGdyZWVuXG4gICAgICAgICAgICAgICAgc1sgKGh8OCkgICUgNiBdICogMjU1ICAvLyBibHVlXG4gICAgICAgICAgICBdO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbihyYXcpe1xuICAgICAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIG9sZCB0b1N0cmluZywgZGVmYXVsdCB0byBiYXNlNjRcbiAgICAgICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIoKS5nZXREdW1wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcigpLmdldEJhc2U2NCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGlzU3ZnOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0Lm1hdGNoKC9zdmcvaSlcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgU3ZnID0gZnVuY3Rpb24oc2l6ZSwgZm9yZWdyb3VuZCwgYmFja2dyb3VuZCl7XG4gICAgICAgIHRoaXMuc2l6ZSAgICAgICA9IHNpemU7XG4gICAgICAgIHRoaXMuZm9yZWdyb3VuZCA9IHRoaXMuY29sb3IuYXBwbHkodGhpcywgZm9yZWdyb3VuZCk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuY29sb3IuYXBwbHkodGhpcywgYmFja2dyb3VuZCk7XG4gICAgICAgIHRoaXMucmVjdGFuZ2xlcyA9IFtdO1xuICAgIH07XG5cbiAgICBTdmcucHJvdG90eXBlID0ge1xuICAgICAgICBzaXplOiAgICAgICBudWxsLFxuICAgICAgICBmb3JlZ3JvdW5kOiBudWxsLFxuICAgICAgICBiYWNrZ3JvdW5kOiBudWxsLFxuICAgICAgICByZWN0YW5nbGVzOiBudWxsLFxuXG4gICAgICAgIGNvbG9yOiBmdW5jdGlvbihyLCBnLCBiLCBhKXtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbciwgZywgYl0ubWFwKE1hdGgucm91bmQpO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goKGEgPj0gMCkgJiYgKGEgPD0gMjU1KSA/IGEvMjU1IDogMSk7XG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoJyArIHZhbHVlcy5qb2luKCcsJykgKyAnKSc7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0RHVtcDogZnVuY3Rpb24oKXtcbiAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICB4bWwsXG4gICAgICAgICAgICAgICAgcmVjdCxcbiAgICAgICAgICAgICAgICBmZyAgICAgPSB0aGlzLmZvcmVncm91bmQsXG4gICAgICAgICAgICAgICAgYmcgICAgID0gdGhpcy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIHN0cm9rZSA9IHRoaXMuc2l6ZSAqIDAuMDA1O1xuXG4gICAgICAgICAgICB4bWwgPSBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ1wiXG4gICAgICAgICAgICAgICAgKyBcIiB3aWR0aD0nXCIgKyB0aGlzLnNpemUgKyBcIicgaGVpZ2h0PSdcIiArIHRoaXMuc2l6ZSArIFwiJ1wiXG4gICAgICAgICAgICAgICAgKyBcIiBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjpcIiArIGJnICsgXCI7Jz5cIlxuICAgICAgICAgICAgICAgICsgXCI8ZyBzdHlsZT0nZmlsbDpcIiArIGZnICsgXCI7IHN0cm9rZTpcIiArIGZnICsgXCI7IHN0cm9rZS13aWR0aDpcIiArIHN0cm9rZSArIFwiOyc+XCI7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnJlY3RhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5yZWN0YW5nbGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LmNvbG9yID09IGJnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB4bWwgKz0gXCI8cmVjdCBcIlxuICAgICAgICAgICAgICAgICAgICArIFwiIHg9J1wiICAgICAgKyByZWN0LnggKyBcIidcIlxuICAgICAgICAgICAgICAgICAgICArIFwiIHk9J1wiICAgICAgKyByZWN0LnkgKyBcIidcIlxuICAgICAgICAgICAgICAgICAgICArIFwiIHdpZHRoPSdcIiAgKyByZWN0LncgKyBcIidcIlxuICAgICAgICAgICAgICAgICAgICArIFwiIGhlaWdodD0nXCIgKyByZWN0LmggKyBcIidcIlxuICAgICAgICAgICAgICAgICAgICArIFwiLz5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhtbCArPSBcIjwvZz48L3N2Zz5cIlxuXG4gICAgICAgICAgICByZXR1cm4geG1sO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldEJhc2U2NDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgYnRvYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidG9hKHRoaXMuZ2V0RHVtcCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIodGhpcy5nZXREdW1wKCksICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgZ2VuZXJhdGUgYmFzZTY0IG91dHB1dCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBJZGVudGljb247XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LklkZW50aWNvbiA9IElkZW50aWNvbjtcbiAgICB9XG59KSgpO1xuIiwiLyoqXG4qIEEgaGFuZHkgY2xhc3MgdG8gY2FsY3VsYXRlIGNvbG9yIHZhbHVlcy5cbipcbiogQHZlcnNpb24gMS4wXG4qIEBhdXRob3IgUm9iZXJ0IEVpc2VsZSA8cm9iZXJ0QHhhcmcub3JnPlxuKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxMCwgUm9iZXJ0IEVpc2VsZVxuKiBAbGluayBodHRwOi8vd3d3Lnhhcmcub3JnLzIwMTAvMDMvZ2VuZXJhdGUtY2xpZW50LXNpZGUtcG5nLWZpbGVzLXVzaW5nLWphdmFzY3JpcHQvXG4qIEBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvYnNkLWxpY2Vuc2UucGhwIEJTRCBMaWNlbnNlXG4qXG4qL1xuXG4oZnVuY3Rpb24oKSB7XG5cblx0Ly8gaGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhhdCBjdHhcblx0ZnVuY3Rpb24gd3JpdGUoYnVmZmVyLCBvZmZzKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgYXJndW1lbnRzW2ldLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGJ1ZmZlcltvZmZzKytdID0gYXJndW1lbnRzW2ldLmNoYXJBdChqKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBieXRlMih3KSB7XG5cdFx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKHcgPj4gOCkgJiAyNTUsIHcgJiAyNTUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYnl0ZTQodykge1xuXHRcdHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKCh3ID4+IDI0KSAmIDI1NSwgKHcgPj4gMTYpICYgMjU1LCAodyA+PiA4KSAmIDI1NSwgdyAmIDI1NSk7XG5cdH1cblxuXHRmdW5jdGlvbiBieXRlMmxzYih3KSB7XG5cdFx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUodyAmIDI1NSwgKHcgPj4gOCkgJiAyNTUpO1xuXHR9XG5cblx0Ly8gbW9kaWZpZWQgZnJvbSBvcmlnaW5hbCBzb3VyY2UgdG8gc3VwcG9ydCBOUE1cblx0dmFyIFBOR2xpYiA9IGZ1bmN0aW9uKHdpZHRoLGhlaWdodCxkZXB0aCkge1xuXG5cdFx0dGhpcy53aWR0aCAgID0gd2lkdGg7XG5cdFx0dGhpcy5oZWlnaHQgID0gaGVpZ2h0O1xuXHRcdHRoaXMuZGVwdGggICA9IGRlcHRoO1xuXG5cdFx0Ly8gcGl4ZWwgZGF0YSBhbmQgcm93IGZpbHRlciBpZGVudGlmaWVyIHNpemVcblx0XHR0aGlzLnBpeF9zaXplID0gaGVpZ2h0ICogKHdpZHRoICsgMSk7XG5cblx0XHQvLyBkZWZsYXRlIGhlYWRlciwgcGl4X3NpemUsIGJsb2NrIGhlYWRlcnMsIGFkbGVyMzIgY2hlY2tzdW1cblx0XHR0aGlzLmRhdGFfc2l6ZSA9IDIgKyB0aGlzLnBpeF9zaXplICsgNSAqIE1hdGguZmxvb3IoKDB4ZmZmZSArIHRoaXMucGl4X3NpemUpIC8gMHhmZmZmKSArIDQ7XG5cblx0XHQvLyBvZmZzZXRzIGFuZCBzaXplcyBvZiBQbmcgY2h1bmtzXG5cdFx0dGhpcy5paGRyX29mZnMgPSAwO1x0XHRcdFx0XHRcdFx0XHRcdC8vIElIRFIgb2Zmc2V0IGFuZCBzaXplXG5cdFx0dGhpcy5paGRyX3NpemUgPSA0ICsgNCArIDEzICsgNDtcblx0XHR0aGlzLnBsdGVfb2ZmcyA9IHRoaXMuaWhkcl9vZmZzICsgdGhpcy5paGRyX3NpemU7XHQvLyBQTFRFIG9mZnNldCBhbmQgc2l6ZVxuXHRcdHRoaXMucGx0ZV9zaXplID0gNCArIDQgKyAzICogZGVwdGggKyA0O1xuXHRcdHRoaXMudHJuc19vZmZzID0gdGhpcy5wbHRlX29mZnMgKyB0aGlzLnBsdGVfc2l6ZTtcdC8vIHRSTlMgb2Zmc2V0IGFuZCBzaXplXG5cdFx0dGhpcy50cm5zX3NpemUgPSA0ICsgNCArIGRlcHRoICsgNDtcblx0XHR0aGlzLmlkYXRfb2ZmcyA9IHRoaXMudHJuc19vZmZzICsgdGhpcy50cm5zX3NpemU7XHQvLyBJREFUIG9mZnNldCBhbmQgc2l6ZVxuXHRcdHRoaXMuaWRhdF9zaXplID0gNCArIDQgKyB0aGlzLmRhdGFfc2l6ZSArIDQ7XG5cdFx0dGhpcy5pZW5kX29mZnMgPSB0aGlzLmlkYXRfb2ZmcyArIHRoaXMuaWRhdF9zaXplO1x0Ly8gSUVORCBvZmZzZXQgYW5kIHNpemVcblx0XHR0aGlzLmllbmRfc2l6ZSA9IDQgKyA0ICsgNDtcblx0XHR0aGlzLmJ1ZmZlcl9zaXplICA9IHRoaXMuaWVuZF9vZmZzICsgdGhpcy5pZW5kX3NpemU7XHQvLyB0b3RhbCBQTkcgc2l6ZVxuXG5cdFx0dGhpcy5idWZmZXIgID0gbmV3IEFycmF5KCk7XG5cdFx0dGhpcy5wYWxldHRlID0gbmV3IE9iamVjdCgpO1xuXHRcdHRoaXMucGluZGV4ICA9IDA7XG5cblx0XHR2YXIgX2NyYzMyID0gbmV3IEFycmF5KCk7XG5cblx0XHQvLyBpbml0aWFsaXplIGJ1ZmZlciB3aXRoIHplcm8gYnl0ZXNcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnVmZmVyX3NpemU7IGkrKykge1xuXHRcdFx0dGhpcy5idWZmZXJbaV0gPSBcIlxceDAwXCI7XG5cdFx0fVxuXG5cdFx0Ly8gaW5pdGlhbGl6ZSBub24temVybyBlbGVtZW50c1xuXHRcdHdyaXRlKHRoaXMuYnVmZmVyLCB0aGlzLmloZHJfb2ZmcywgYnl0ZTQodGhpcy5paGRyX3NpemUgLSAxMiksICdJSERSJywgYnl0ZTQod2lkdGgpLCBieXRlNChoZWlnaHQpLCBcIlxceDA4XFx4MDNcIik7XG5cdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMucGx0ZV9vZmZzLCBieXRlNCh0aGlzLnBsdGVfc2l6ZSAtIDEyKSwgJ1BMVEUnKTtcblx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy50cm5zX29mZnMsIGJ5dGU0KHRoaXMudHJuc19zaXplIC0gMTIpLCAndFJOUycpO1xuXHRcdHdyaXRlKHRoaXMuYnVmZmVyLCB0aGlzLmlkYXRfb2ZmcywgYnl0ZTQodGhpcy5pZGF0X3NpemUgLSAxMiksICdJREFUJyk7XG5cdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMuaWVuZF9vZmZzLCBieXRlNCh0aGlzLmllbmRfc2l6ZSAtIDEyKSwgJ0lFTkQnKTtcblxuXHRcdC8vIGluaXRpYWxpemUgZGVmbGF0ZSBoZWFkZXJcblx0XHR2YXIgaGVhZGVyID0gKCg4ICsgKDcgPDwgNCkpIDw8IDgpIHwgKDMgPDwgNik7XG5cdFx0aGVhZGVyKz0gMzEgLSAoaGVhZGVyICUgMzEpO1xuXG5cdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMuaWRhdF9vZmZzICsgOCwgYnl0ZTIoaGVhZGVyKSk7XG5cblx0XHQvLyBpbml0aWFsaXplIGRlZmxhdGUgYmxvY2sgaGVhZGVyc1xuXHRcdGZvciAodmFyIGkgPSAwOyAoaSA8PCAxNikgLSAxIDwgdGhpcy5waXhfc2l6ZTsgaSsrKSB7XG5cdFx0XHR2YXIgc2l6ZSwgYml0cztcblx0XHRcdGlmIChpICsgMHhmZmZmIDwgdGhpcy5waXhfc2l6ZSkge1xuXHRcdFx0XHRzaXplID0gMHhmZmZmO1xuXHRcdFx0XHRiaXRzID0gXCJcXHgwMFwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2l6ZSA9IHRoaXMucGl4X3NpemUgLSAoaSA8PCAxNikgLSBpO1xuXHRcdFx0XHRiaXRzID0gXCJcXHgwMVwiO1xuXHRcdFx0fVxuXHRcdFx0d3JpdGUodGhpcy5idWZmZXIsIHRoaXMuaWRhdF9vZmZzICsgOCArIDIgKyAoaSA8PCAxNikgKyAoaSA8PCAyKSwgYml0cywgYnl0ZTJsc2Ioc2l6ZSksIGJ5dGUybHNiKH5zaXplKSk7XG5cdFx0fVxuXG5cdFx0LyogQ3JlYXRlIGNyYzMyIGxvb2t1cCB0YWJsZSAqL1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcblx0XHRcdHZhciBjID0gaTtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgODsgaisrKSB7XG5cdFx0XHRcdGlmIChjICYgMSkge1xuXHRcdFx0XHRcdGMgPSAtMzA2Njc0OTEyIF4gKChjID4+IDEpICYgMHg3ZmZmZmZmZik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YyA9IChjID4+IDEpICYgMHg3ZmZmZmZmZjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0X2NyYzMyW2ldID0gYztcblx0XHR9XG5cblx0XHQvLyBjb21wdXRlIHRoZSBpbmRleCBpbnRvIGEgcG5nIGZvciBhIGdpdmVuIHBpeGVsXG5cdFx0dGhpcy5pbmRleCA9IGZ1bmN0aW9uKHgseSkge1xuXHRcdFx0dmFyIGkgPSB5ICogKHRoaXMud2lkdGggKyAxKSArIHggKyAxO1xuXHRcdFx0dmFyIGogPSB0aGlzLmlkYXRfb2ZmcyArIDggKyAyICsgNSAqIE1hdGguZmxvb3IoKGkgLyAweGZmZmYpICsgMSkgKyBpO1xuXHRcdFx0cmV0dXJuIGo7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCBhIGNvbG9yIGFuZCBidWlsZCB1cCB0aGUgcGFsZXR0ZVxuXHRcdHRoaXMuY29sb3IgPSBmdW5jdGlvbihyZWQsIGdyZWVuLCBibHVlLCBhbHBoYSkge1xuXG5cdFx0XHRhbHBoYSA9IGFscGhhID49IDAgPyBhbHBoYSA6IDI1NTtcblx0XHRcdHZhciBjb2xvciA9ICgoKCgoYWxwaGEgPDwgOCkgfCByZWQpIDw8IDgpIHwgZ3JlZW4pIDw8IDgpIHwgYmx1ZTtcblxuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLnBhbGV0dGVbY29sb3JdID09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0aWYgKHRoaXMucGluZGV4ID09IHRoaXMuZGVwdGgpIHJldHVybiBcIlxceDAwXCI7XG5cblx0XHRcdFx0dmFyIG5keCA9IHRoaXMucGx0ZV9vZmZzICsgOCArIDMgKiB0aGlzLnBpbmRleDtcblxuXHRcdFx0XHR0aGlzLmJ1ZmZlcltuZHggKyAwXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUocmVkKTtcblx0XHRcdFx0dGhpcy5idWZmZXJbbmR4ICsgMV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGdyZWVuKTtcblx0XHRcdFx0dGhpcy5idWZmZXJbbmR4ICsgMl0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJsdWUpO1xuXHRcdFx0XHR0aGlzLmJ1ZmZlclt0aGlzLnRybnNfb2Zmcys4K3RoaXMucGluZGV4XSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYWxwaGEpO1xuXG5cdFx0XHRcdHRoaXMucGFsZXR0ZVtjb2xvcl0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucGluZGV4KyspO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMucGFsZXR0ZVtjb2xvcl07XG5cdFx0fVxuXG5cdFx0Ly8gb3V0cHV0IGEgUE5HIHN0cmluZywgQmFzZTY0IGVuY29kZWRcblx0XHR0aGlzLmdldEJhc2U2NCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgcyA9IHRoaXMuZ2V0RHVtcCgpO1xuXG5cdFx0XHR2YXIgY2ggPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG5cdFx0XHR2YXIgYzEsIGMyLCBjMywgZTEsIGUyLCBlMywgZTQ7XG5cdFx0XHR2YXIgbCA9IHMubGVuZ3RoO1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0dmFyIHIgPSBcIlwiO1xuXG5cdFx0XHRkbyB7XG5cdFx0XHRcdGMxID0gcy5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRlMSA9IGMxID4+IDI7XG5cdFx0XHRcdGMyID0gcy5jaGFyQ29kZUF0KGkrMSk7XG5cdFx0XHRcdGUyID0gKChjMSAmIDMpIDw8IDQpIHwgKGMyID4+IDQpO1xuXHRcdFx0XHRjMyA9IHMuY2hhckNvZGVBdChpKzIpO1xuXHRcdFx0XHRpZiAobCA8IGkrMikgeyBlMyA9IDY0OyB9IGVsc2UgeyBlMyA9ICgoYzIgJiAweGYpIDw8IDIpIHwgKGMzID4+IDYpOyB9XG5cdFx0XHRcdGlmIChsIDwgaSszKSB7IGU0ID0gNjQ7IH0gZWxzZSB7IGU0ID0gYzMgJiAweDNmOyB9XG5cdFx0XHRcdHIrPSBjaC5jaGFyQXQoZTEpICsgY2guY2hhckF0KGUyKSArIGNoLmNoYXJBdChlMykgKyBjaC5jaGFyQXQoZTQpO1xuXHRcdFx0fSB3aGlsZSAoKGkrPSAzKSA8IGwpO1xuXHRcdFx0cmV0dXJuIHI7XG5cdFx0fVxuXG5cdFx0Ly8gb3V0cHV0IGEgUE5HIHN0cmluZ1xuXHRcdHRoaXMuZ2V0RHVtcCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBjb21wdXRlIGFkbGVyMzIgb2Ygb3V0cHV0IHBpeGVscyArIHJvdyBmaWx0ZXIgYnl0ZXNcblx0XHRcdHZhciBCQVNFID0gNjU1MjE7IC8qIGxhcmdlc3QgcHJpbWUgc21hbGxlciB0aGFuIDY1NTM2ICovXG5cdFx0XHR2YXIgTk1BWCA9IDU1NTI7ICAvKiBOTUFYIGlzIHRoZSBsYXJnZXN0IG4gc3VjaCB0aGF0IDI1NW4obisxKS8yICsgKG4rMSkoQkFTRS0xKSA8PSAyXjMyLTEgKi9cblx0XHRcdHZhciBzMSA9IDE7XG5cdFx0XHR2YXIgczIgPSAwO1xuXHRcdFx0dmFyIG4gPSBOTUFYO1xuXG5cdFx0XHRmb3IgKHZhciB5ID0gMDsgeSA8IHRoaXMuaGVpZ2h0OyB5KyspIHtcblx0XHRcdFx0Zm9yICh2YXIgeCA9IC0xOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XG5cdFx0XHRcdFx0czErPSB0aGlzLmJ1ZmZlclt0aGlzLmluZGV4KHgsIHkpXS5jaGFyQ29kZUF0KDApO1xuXHRcdFx0XHRcdHMyKz0gczE7XG5cdFx0XHRcdFx0aWYgKChuLT0gMSkgPT0gMCkge1xuXHRcdFx0XHRcdFx0czElPSBCQVNFO1xuXHRcdFx0XHRcdFx0czIlPSBCQVNFO1xuXHRcdFx0XHRcdFx0biA9IE5NQVg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzMSU9IEJBU0U7XG5cdFx0XHRzMiU9IEJBU0U7XG5cdFx0XHR3cml0ZSh0aGlzLmJ1ZmZlciwgdGhpcy5pZGF0X29mZnMgKyB0aGlzLmlkYXRfc2l6ZSAtIDgsIGJ5dGU0KChzMiA8PCAxNikgfCBzMSkpO1xuXG5cdFx0XHQvLyBjb21wdXRlIGNyYzMyIG9mIHRoZSBQTkcgY2h1bmtzXG5cdFx0XHRmdW5jdGlvbiBjcmMzMihwbmcsIG9mZnMsIHNpemUpIHtcblx0XHRcdFx0dmFyIGNyYyA9IC0xO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gNDsgaSA8IHNpemUtNDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y3JjID0gX2NyYzMyWyhjcmMgXiBwbmdbb2ZmcytpXS5jaGFyQ29kZUF0KDApKSAmIDB4ZmZdIF4gKChjcmMgPj4gOCkgJiAweDAwZmZmZmZmKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR3cml0ZShwbmcsIG9mZnMrc2l6ZS00LCBieXRlNChjcmMgXiAtMSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRjcmMzMih0aGlzLmJ1ZmZlciwgdGhpcy5paGRyX29mZnMsIHRoaXMuaWhkcl9zaXplKTtcblx0XHRcdGNyYzMyKHRoaXMuYnVmZmVyLCB0aGlzLnBsdGVfb2ZmcywgdGhpcy5wbHRlX3NpemUpO1xuXHRcdFx0Y3JjMzIodGhpcy5idWZmZXIsIHRoaXMudHJuc19vZmZzLCB0aGlzLnRybnNfc2l6ZSk7XG5cdFx0XHRjcmMzMih0aGlzLmJ1ZmZlciwgdGhpcy5pZGF0X29mZnMsIHRoaXMuaWRhdF9zaXplKTtcblx0XHRcdGNyYzMyKHRoaXMuYnVmZmVyLCB0aGlzLmllbmRfb2ZmcywgdGhpcy5pZW5kX3NpemUpO1xuXG5cdFx0XHQvLyBjb252ZXJ0IFBORyB0byBzdHJpbmdcblx0XHRcdHJldHVybiBcIlxceDg5UE5HXFxyXFxuXFx4MWFcXG5cIit0aGlzLmJ1ZmZlci5qb2luKCcnKTtcblx0XHR9XG5cdH1cblxuXHQvLyBtb2RpZmllZCBmcm9tIG9yaWdpbmFsIHNvdXJjZSB0byBzdXBwb3J0IE5QTVxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gUE5HbGliO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5QTkdsaWIgPSBQTkdsaWI7XG5cdH1cbn0pKCk7XG4iLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qKlxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTSEEgZmFtaWx5IG9mIGhhc2hlcyAtIGRlZmluZWQgaW4gRklQUyBQVUIgMTgwLTQsIEZJUFMgUFVCIDIwMixcbiAqIGFuZCBTUCA4MDAtMTg1IC0gYXMgd2VsbCBhcyB0aGUgY29ycmVzcG9uZGluZyBITUFDIGltcGxlbWVudGF0aW9uIGFzIGRlZmluZWQgaW4gRklQUyBQVUIgMTk4LTEuXG4gKlxuICogQ29weXJpZ2h0IDIwMDgtMjAyMCBCcmlhbiBUdXJlaywgMTk5OC0yMDA5IFBhdWwgSm9obnN0b24gJiBDb250cmlidXRvcnNcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuICogU2VlIGh0dHA6Ly9jYWxpZ2F0aW8uZ2l0aHViLmNvbS9qc1NIQS8gZm9yIG1vcmUgaW5mb3JtYXRpb25cbiAqL1xuY29uc3QgdD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtmdW5jdGlvbiBuKHQsbixlLHIpe2xldCBpLHMsbztjb25zdCBoPW58fFswXSx1PShlPWV8fDApPj4+Myx3PS0xPT09cj8zOjA7Zm9yKGk9MDtpPHQubGVuZ3RoO2krPTEpbz1pK3Uscz1vPj4+MixoLmxlbmd0aDw9cyYmaC5wdXNoKDApLGhbc118PXRbaV08PDgqKHcrcioobyU0KSk7cmV0dXJue3ZhbHVlOmgsYmluTGVuOjgqdC5sZW5ndGgrZX19ZnVuY3Rpb24gZShlLHIsaSl7c3dpdGNoKHIpe2Nhc2VcIlVURjhcIjpjYXNlXCJVVEYxNkJFXCI6Y2FzZVwiVVRGMTZMRVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBVVEY4LCBVVEYxNkJFLCBvciBVVEYxNkxFXCIpfXN3aXRjaChlKXtjYXNlXCJIRVhcIjpyZXR1cm4gZnVuY3Rpb24odCxuLGUpe3JldHVybiBmdW5jdGlvbih0LG4sZSxyKXtsZXQgaSxzLG8saDtpZigwIT10Lmxlbmd0aCUyKXRocm93IG5ldyBFcnJvcihcIlN0cmluZyBvZiBIRVggdHlwZSBtdXN0IGJlIGluIGJ5dGUgaW5jcmVtZW50c1wiKTtjb25zdCB1PW58fFswXSx3PShlPWV8fDApPj4+MyxjPS0xPT09cj8zOjA7Zm9yKGk9MDtpPHQubGVuZ3RoO2krPTIpe2lmKHM9cGFyc2VJbnQodC5zdWJzdHIoaSwyKSwxNiksaXNOYU4ocykpdGhyb3cgbmV3IEVycm9yKFwiU3RyaW5nIG9mIEhFWCB0eXBlIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVyc1wiKTtmb3IoaD0oaT4+PjEpK3csbz1oPj4+Mjt1Lmxlbmd0aDw9bzspdS5wdXNoKDApO3Vbb118PXM8PDgqKGMrciooaCU0KSl9cmV0dXJue3ZhbHVlOnUsYmluTGVuOjQqdC5sZW5ndGgrZX19KHQsbixlLGkpfTtjYXNlXCJURVhUXCI6cmV0dXJuIGZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscixpKXtsZXQgcyxvLGgsdSx3LGMsZixhLGw9MDtjb25zdCBBPWV8fFswXSxFPShyPXJ8fDApPj4+MztpZihcIlVURjhcIj09PW4pZm9yKGY9LTE9PT1pPzM6MCxoPTA7aDx0Lmxlbmd0aDtoKz0xKWZvcihzPXQuY2hhckNvZGVBdChoKSxvPVtdLDEyOD5zP28ucHVzaChzKToyMDQ4PnM/KG8ucHVzaCgxOTJ8cz4+PjYpLG8ucHVzaCgxMjh8NjMmcykpOjU1Mjk2PnN8fDU3MzQ0PD1zP28ucHVzaCgyMjR8cz4+PjEyLDEyOHxzPj4+NiY2MywxMjh8NjMmcyk6KGgrPTEscz02NTUzNisoKDEwMjMmcyk8PDEwfDEwMjMmdC5jaGFyQ29kZUF0KGgpKSxvLnB1c2goMjQwfHM+Pj4xOCwxMjh8cz4+PjEyJjYzLDEyOHxzPj4+NiY2MywxMjh8NjMmcykpLHU9MDt1PG8ubGVuZ3RoO3UrPTEpe2ZvcihjPWwrRSx3PWM+Pj4yO0EubGVuZ3RoPD13OylBLnB1c2goMCk7QVt3XXw9b1t1XTw8OCooZitpKihjJTQpKSxsKz0xfWVsc2UgZm9yKGY9LTE9PT1pPzI6MCxhPVwiVVRGMTZMRVwiPT09biYmMSE9PWl8fFwiVVRGMTZMRVwiIT09biYmMT09PWksaD0wO2g8dC5sZW5ndGg7aCs9MSl7Zm9yKHM9dC5jaGFyQ29kZUF0KGgpLCEwPT09YSYmKHU9MjU1JnMscz11PDw4fHM+Pj44KSxjPWwrRSx3PWM+Pj4yO0EubGVuZ3RoPD13OylBLnB1c2goMCk7QVt3XXw9czw8OCooZitpKihjJTQpKSxsKz0yfXJldHVybnt2YWx1ZTpBLGJpbkxlbjo4Kmwrcn19KHQscixuLGUsaSl9O2Nhc2VcIkI2NFwiOnJldHVybiBmdW5jdGlvbihuLGUscil7cmV0dXJuIGZ1bmN0aW9uKG4sZSxyLGkpe2xldCBzLG8saCx1LHcsYyxmLGE9MDtjb25zdCBsPWV8fFswXSxBPShyPXJ8fDApPj4+MyxFPS0xPT09aT8zOjAsSD1uLmluZGV4T2YoXCI9XCIpO2lmKC0xPT09bi5zZWFyY2goL15bYS16QS1aMC05PSsvXSskLykpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gYmFzZS02NCBzdHJpbmdcIik7aWYobj1uLnJlcGxhY2UoLz0vZyxcIlwiKSwtMSE9PUgmJkg8bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCAnPScgZm91bmQgaW4gYmFzZS02NCBzdHJpbmdcIik7Zm9yKG89MDtvPG4ubGVuZ3RoO28rPTQpe2Zvcih3PW4uc3Vic3RyKG8sNCksdT0wLGg9MDtoPHcubGVuZ3RoO2grPTEpcz10LmluZGV4T2Yody5jaGFyQXQoaCkpLHV8PXM8PDE4LTYqaDtmb3IoaD0wO2g8dy5sZW5ndGgtMTtoKz0xKXtmb3IoZj1hK0EsYz1mPj4+MjtsLmxlbmd0aDw9YzspbC5wdXNoKDApO2xbY118PSh1Pj4+MTYtOCpoJjI1NSk8PDgqKEUraSooZiU0KSksYSs9MX19cmV0dXJue3ZhbHVlOmwsYmluTGVuOjgqYStyfX0obixlLHIsaSl9O2Nhc2VcIkJZVEVTXCI6cmV0dXJuIGZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscil7bGV0IGkscyxvLGg7Y29uc3QgdT1ufHxbMF0sdz0oZT1lfHwwKT4+PjMsYz0tMT09PXI/MzowO2ZvcihzPTA7czx0Lmxlbmd0aDtzKz0xKWk9dC5jaGFyQ29kZUF0KHMpLGg9cyt3LG89aD4+PjIsdS5sZW5ndGg8PW8mJnUucHVzaCgwKSx1W29dfD1pPDw4KihjK3IqKGglNCkpO3JldHVybnt2YWx1ZTp1LGJpbkxlbjo4KnQubGVuZ3RoK2V9fSh0LG4sZSxpKX07Y2FzZVwiQVJSQVlCVUZGRVJcIjp0cnl7bmV3IEFycmF5QnVmZmVyKDApfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkFSUkFZQlVGRkVSIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBlbnZpcm9ubWVudFwiKX1yZXR1cm4gZnVuY3Rpb24odCxlLHIpe3JldHVybiBmdW5jdGlvbih0LGUscixpKXtyZXR1cm4gbihuZXcgVWludDhBcnJheSh0KSxlLHIsaSl9KHQsZSxyLGkpfTtjYXNlXCJVSU5UOEFSUkFZXCI6dHJ5e25ldyBVaW50OEFycmF5KDApfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIlVJTlQ4QVJSQVkgbm90IHN1cHBvcnRlZCBieSB0aGlzIGVudmlyb25tZW50XCIpfXJldHVybiBmdW5jdGlvbih0LGUscil7cmV0dXJuIG4odCxlLHIsaSl9O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiZm9ybWF0IG11c3QgYmUgSEVYLCBURVhULCBCNjQsIEJZVEVTLCBBUlJBWUJVRkZFUiwgb3IgVUlOVDhBUlJBWVwiKX19ZnVuY3Rpb24gcihuLGUscixpKXtzd2l0Y2gobil7Y2FzZVwiSEVYXCI6cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LG4sZSxyKXtsZXQgaSxzLG89XCJcIjtjb25zdCBoPW4vOCx1PS0xPT09ZT8zOjA7Zm9yKGk9MDtpPGg7aSs9MSlzPXRbaT4+PjJdPj4+OCoodStlKihpJTQpKSxvKz1cIjAxMjM0NTY3ODlhYmNkZWZcIi5jaGFyQXQocz4+PjQmMTUpK1wiMDEyMzQ1Njc4OWFiY2RlZlwiLmNoYXJBdCgxNSZzKTtyZXR1cm4gci5vdXRwdXRVcHBlcj9vLnRvVXBwZXJDYXNlKCk6b30odCxlLHIsaSl9O2Nhc2VcIkI2NFwiOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24obixlLHIsaSl7bGV0IHMsbyxoLHUsdyxjPVwiXCI7Y29uc3QgZj1lLzgsYT0tMT09PXI/MzowO2ZvcihzPTA7czxmO3MrPTMpZm9yKHU9cysxPGY/bltzKzE+Pj4yXTowLHc9cysyPGY/bltzKzI+Pj4yXTowLGg9KG5bcz4+PjJdPj4+OCooYStyKihzJTQpKSYyNTUpPDwxNnwodT4+PjgqKGErciooKHMrMSklNCkpJjI1NSk8PDh8dz4+PjgqKGErciooKHMrMiklNCkpJjI1NSxvPTA7bzw0O28rPTEpYys9OCpzKzYqbzw9ZT90LmNoYXJBdChoPj4+NiooMy1vKSY2Myk6aS5iNjRQYWQ7cmV0dXJuIGN9KG4sZSxyLGkpfTtjYXNlXCJCWVRFU1wiOnJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxuLGUpe2xldCByLGkscz1cIlwiO2NvbnN0IG89bi84LGg9LTE9PT1lPzM6MDtmb3Iocj0wO3I8bztyKz0xKWk9dFtyPj4+Ml0+Pj44KihoK2UqKHIlNCkpJjI1NSxzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO3JldHVybiBzfSh0LGUscil9O2Nhc2VcIkFSUkFZQlVGRkVSXCI6dHJ5e25ldyBBcnJheUJ1ZmZlcigwKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJBUlJBWUJVRkZFUiBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZW52aXJvbm1lbnRcIil9cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LG4sZSl7bGV0IHI7Y29uc3QgaT1uLzgscz1uZXcgQXJyYXlCdWZmZXIoaSksbz1uZXcgVWludDhBcnJheShzKSxoPS0xPT09ZT8zOjA7Zm9yKHI9MDtyPGk7cis9MSlvW3JdPXRbcj4+PjJdPj4+OCooaCtlKihyJTQpKSYyNTU7cmV0dXJuIHN9KHQsZSxyKX07Y2FzZVwiVUlOVDhBUlJBWVwiOnRyeXtuZXcgVWludDhBcnJheSgwKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJVSU5UOEFSUkFZIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBlbnZpcm9ubWVudFwiKX1yZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsbixlKXtsZXQgcjtjb25zdCBpPW4vOCxzPS0xPT09ZT8zOjAsbz1uZXcgVWludDhBcnJheShpKTtmb3Iocj0wO3I8aTtyKz0xKW9bcl09dFtyPj4+Ml0+Pj44KihzK2UqKHIlNCkpJjI1NTtyZXR1cm4gb30odCxlLHIpfTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImZvcm1hdCBtdXN0IGJlIEhFWCwgQjY0LCBCWVRFUywgQVJSQVlCVUZGRVIsIG9yIFVJTlQ4QVJSQVlcIil9fWNvbnN0IGk9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0scz1bMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF0sbz1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLGg9XCJDaG9zZW4gU0hBIHZhcmlhbnQgaXMgbm90IHN1cHBvcnRlZFwiO2Z1bmN0aW9uIHUodCxuKXtsZXQgZSxyO2NvbnN0IGk9dC5iaW5MZW4+Pj4zLHM9bi5iaW5MZW4+Pj4zLG89aTw8MyxoPTQtaTw8MztpZihpJTQhPTApe2ZvcihlPTA7ZTxzO2UrPTQpcj1pK2U+Pj4yLHQudmFsdWVbcl18PW4udmFsdWVbZT4+PjJdPDxvLHQudmFsdWUucHVzaCgwKSx0LnZhbHVlW3IrMV18PW4udmFsdWVbZT4+PjJdPj4+aDtyZXR1cm4odC52YWx1ZS5sZW5ndGg8PDIpLTQ+PXMraSYmdC52YWx1ZS5wb3AoKSx7dmFsdWU6dC52YWx1ZSxiaW5MZW46dC5iaW5MZW4rbi5iaW5MZW59fXJldHVybnt2YWx1ZTp0LnZhbHVlLmNvbmNhdChuLnZhbHVlKSxiaW5MZW46dC5iaW5MZW4rbi5iaW5MZW59fWZ1bmN0aW9uIHcodCl7Y29uc3Qgbj17b3V0cHV0VXBwZXI6ITEsYjY0UGFkOlwiPVwiLG91dHB1dExlbjotMX0sZT10fHx7fSxyPVwiT3V0cHV0IGxlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgOFwiO2lmKG4ub3V0cHV0VXBwZXI9ZS5vdXRwdXRVcHBlcnx8ITEsZS5iNjRQYWQmJihuLmI2NFBhZD1lLmI2NFBhZCksZS5vdXRwdXRMZW4pe2lmKGUub3V0cHV0TGVuJTghPTApdGhyb3cgbmV3IEVycm9yKHIpO24ub3V0cHV0TGVuPWUub3V0cHV0TGVufWVsc2UgaWYoZS5zaGFrZUxlbil7aWYoZS5zaGFrZUxlbiU4IT0wKXRocm93IG5ldyBFcnJvcihyKTtuLm91dHB1dExlbj1lLnNoYWtlTGVufWlmKFwiYm9vbGVhblwiIT10eXBlb2Ygbi5vdXRwdXRVcHBlcil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG91dHB1dFVwcGVyIGZvcm1hdHRpbmcgb3B0aW9uXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuLmI2NFBhZCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGI2NFBhZCBmb3JtYXR0aW5nIG9wdGlvblwiKTtyZXR1cm4gbn1mdW5jdGlvbiBjKHQsbixyLGkpe2NvbnN0IHM9dCtcIiBtdXN0IGluY2x1ZGUgYSB2YWx1ZSBhbmQgZm9ybWF0XCI7aWYoIW4pe2lmKCFpKXRocm93IG5ldyBFcnJvcihzKTtyZXR1cm4gaX1pZih2b2lkIDA9PT1uLnZhbHVlfHwhbi5mb3JtYXQpdGhyb3cgbmV3IEVycm9yKHMpO3JldHVybiBlKG4uZm9ybWF0LG4uZW5jb2Rpbmd8fFwiVVRGOFwiLHIpKG4udmFsdWUpfWNsYXNzIGZ7Y29uc3RydWN0b3IodCxuLGUpe2NvbnN0IHI9ZXx8e307aWYodGhpcy50PW4sdGhpcy5pPXIuZW5jb2Rpbmd8fFwiVVRGOFwiLHRoaXMubnVtUm91bmRzPXIubnVtUm91bmRzfHwxLGlzTmFOKHRoaXMubnVtUm91bmRzKXx8dGhpcy5udW1Sb3VuZHMhPT1wYXJzZUludCh0aGlzLm51bVJvdW5kcywxMCl8fDE+dGhpcy5udW1Sb3VuZHMpdGhyb3cgbmV3IEVycm9yKFwibnVtUm91bmRzIG11c3QgYSBpbnRlZ2VyID49IDFcIik7dGhpcy5zPXQsdGhpcy5vPVtdLHRoaXMuaD0wLHRoaXMudT0hMSx0aGlzLmw9MCx0aGlzLkE9ITEsdGhpcy5IPVtdLHRoaXMuUz1bXX11cGRhdGUodCl7bGV0IG4sZT0wO2NvbnN0IHI9dGhpcy5wPj4+NSxpPXRoaXMubSh0LHRoaXMubyx0aGlzLmgpLHM9aS5iaW5MZW4sbz1pLnZhbHVlLGg9cz4+PjU7Zm9yKG49MDtuPGg7bis9cillK3RoaXMucDw9cyYmKHRoaXMuQz10aGlzLlIoby5zbGljZShuLG4rciksdGhpcy5DKSxlKz10aGlzLnApO3RoaXMubCs9ZSx0aGlzLm89by5zbGljZShlPj4+NSksdGhpcy5oPXMldGhpcy5wLHRoaXMudT0hMH1nZXRIYXNoKHQsbil7bGV0IGUsaSxzPXRoaXMuVTtjb25zdCBvPXcobik7aWYodGhpcy52KXtpZigtMT09PW8ub3V0cHV0TGVuKXRocm93IG5ldyBFcnJvcihcIk91dHB1dCBsZW5ndGggbXVzdCBiZSBzcGVjaWZpZWQgaW4gb3B0aW9uc1wiKTtzPW8ub3V0cHV0TGVufWNvbnN0IGg9cih0LHMsdGhpcy5LLG8pO2lmKHRoaXMuQSYmdGhpcy5UKXJldHVybiBoKHRoaXMuVChvKSk7Zm9yKGk9dGhpcy5GKHRoaXMuby5zbGljZSgpLHRoaXMuaCx0aGlzLmwsdGhpcy5nKHRoaXMuQykscyksZT0xO2U8dGhpcy5udW1Sb3VuZHM7ZSs9MSl0aGlzLnYmJnMlMzIhPTAmJihpW2kubGVuZ3RoLTFdJj0xNjc3NzIxNT4+PjI0LXMlMzIpLGk9dGhpcy5GKGkscywwLHRoaXMuQih0aGlzLnMpLHMpO3JldHVybiBoKGkpfXNldEhNQUNLZXkodCxuLHIpe2lmKCF0aGlzLkwpdGhyb3cgbmV3IEVycm9yKFwiVmFyaWFudCBkb2VzIG5vdCBzdXBwb3J0IEhNQUNcIik7aWYodGhpcy51KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgTUFDIGtleSBhZnRlciBjYWxsaW5nIHVwZGF0ZVwiKTtjb25zdCBpPWUobiwocnx8e30pLmVuY29kaW5nfHxcIlVURjhcIix0aGlzLkspO3RoaXMuTShpKHQpKX1NKHQpe2NvbnN0IG49dGhpcy5wPj4+MyxlPW4vNC0xO2xldCByO2lmKDEhPT10aGlzLm51bVJvdW5kcyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IG51bVJvdW5kcyB3aXRoIE1BQ1wiKTtpZih0aGlzLkEpdGhyb3cgbmV3IEVycm9yKFwiTUFDIGtleSBhbHJlYWR5IHNldFwiKTtmb3Iobjx0LmJpbkxlbi84JiYodC52YWx1ZT10aGlzLkYodC52YWx1ZSx0LmJpbkxlbiwwLHRoaXMuQih0aGlzLnMpLHRoaXMuVSkpO3QudmFsdWUubGVuZ3RoPD1lOyl0LnZhbHVlLnB1c2goMCk7Zm9yKHI9MDtyPD1lO3IrPTEpdGhpcy5IW3JdPTkwOTUyMjQ4Nl50LnZhbHVlW3JdLHRoaXMuU1tyXT0xNTQ5NTU2ODI4XnQudmFsdWVbcl07dGhpcy5DPXRoaXMuUih0aGlzLkgsdGhpcy5DKSx0aGlzLmw9dGhpcy5wLHRoaXMuQT0hMH1nZXRITUFDKHQsbil7Y29uc3QgZT13KG4pO3JldHVybiByKHQsdGhpcy5VLHRoaXMuSyxlKSh0aGlzLmsoKSl9aygpe2xldCB0O2lmKCF0aGlzLkEpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgZ2V0SE1BQyB3aXRob3V0IGZpcnN0IHNldHRpbmcgTUFDIGtleVwiKTtjb25zdCBuPXRoaXMuRih0aGlzLm8uc2xpY2UoKSx0aGlzLmgsdGhpcy5sLHRoaXMuZyh0aGlzLkMpLHRoaXMuVSk7cmV0dXJuIHQ9dGhpcy5SKHRoaXMuUyx0aGlzLkIodGhpcy5zKSksdD10aGlzLkYobix0aGlzLlUsdGhpcy5wLHQsdGhpcy5VKSx0fX1mdW5jdGlvbiBhKHQsbil7cmV0dXJuIHQ8PG58dD4+PjMyLW59ZnVuY3Rpb24gbCh0LG4pe3JldHVybiB0Pj4+bnx0PDwzMi1ufWZ1bmN0aW9uIEEodCxuKXtyZXR1cm4gdD4+Pm59ZnVuY3Rpb24gRSh0LG4sZSl7cmV0dXJuIHRebl5lfWZ1bmN0aW9uIEgodCxuLGUpe3JldHVybiB0Jm5efnQmZX1mdW5jdGlvbiBTKHQsbixlKXtyZXR1cm4gdCZuXnQmZV5uJmV9ZnVuY3Rpb24gYih0KXtyZXR1cm4gbCh0LDIpXmwodCwxMylebCh0LDIyKX1mdW5jdGlvbiBwKHQsbil7Y29uc3QgZT0oNjU1MzUmdCkrKDY1NTM1Jm4pO3JldHVybig2NTUzNSYodD4+PjE2KSsobj4+PjE2KSsoZT4+PjE2KSk8PDE2fDY1NTM1JmV9ZnVuY3Rpb24gZCh0LG4sZSxyKXtjb25zdCBpPSg2NTUzNSZ0KSsoNjU1MzUmbikrKDY1NTM1JmUpKyg2NTUzNSZyKTtyZXR1cm4oNjU1MzUmKHQ+Pj4xNikrKG4+Pj4xNikrKGU+Pj4xNikrKHI+Pj4xNikrKGk+Pj4xNikpPDwxNnw2NTUzNSZpfWZ1bmN0aW9uIG0odCxuLGUscixpKXtjb25zdCBzPSg2NTUzNSZ0KSsoNjU1MzUmbikrKDY1NTM1JmUpKyg2NTUzNSZyKSsoNjU1MzUmaSk7cmV0dXJuKDY1NTM1Jih0Pj4+MTYpKyhuPj4+MTYpKyhlPj4+MTYpKyhyPj4+MTYpKyhpPj4+MTYpKyhzPj4+MTYpKTw8MTZ8NjU1MzUmc31mdW5jdGlvbiBDKHQpe3JldHVybiBsKHQsNylebCh0LDE4KV5BKHQsMyl9ZnVuY3Rpb24geSh0KXtyZXR1cm4gbCh0LDYpXmwodCwxMSlebCh0LDI1KX1mdW5jdGlvbiBSKHQpe3JldHVyblsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF19ZnVuY3Rpb24gVSh0LG4pe2xldCBlLHIsaSxzLG8saCx1O2NvbnN0IHc9W107Zm9yKGU9blswXSxyPW5bMV0saT1uWzJdLHM9blszXSxvPW5bNF0sdT0wO3U8ODA7dSs9MSl3W3VdPXU8MTY/dFt1XTphKHdbdS0zXV53W3UtOF1ed1t1LTE0XV53W3UtMTZdLDEpLGg9dTwyMD9tKGEoZSw1KSxIKHIsaSxzKSxvLDE1MTg1MDAyNDksd1t1XSk6dTw0MD9tKGEoZSw1KSxFKHIsaSxzKSxvLDE4NTk3NzUzOTMsd1t1XSk6dTw2MD9tKGEoZSw1KSxTKHIsaSxzKSxvLDI0MDA5NTk3MDgsd1t1XSk6bShhKGUsNSksRShyLGkscyksbywzMzk1NDY5NzgyLHdbdV0pLG89cyxzPWksaT1hKHIsMzApLHI9ZSxlPWg7cmV0dXJuIG5bMF09cChlLG5bMF0pLG5bMV09cChyLG5bMV0pLG5bMl09cChpLG5bMl0pLG5bM109cChzLG5bM10pLG5bNF09cChvLG5bNF0pLG59ZnVuY3Rpb24gdih0LG4sZSxyKXtsZXQgaTtjb25zdCBzPTE1KyhuKzY1Pj4+OTw8NCksbz1uK2U7Zm9yKDt0Lmxlbmd0aDw9czspdC5wdXNoKDApO2Zvcih0W24+Pj41XXw9MTI4PDwyNC1uJTMyLHRbc109NDI5NDk2NzI5NSZvLHRbcy0xXT1vLzQyOTQ5NjcyOTZ8MCxpPTA7aTx0Lmxlbmd0aDtpKz0xNilyPVUodC5zbGljZShpLGkrMTYpLHIpO3JldHVybiByfWNsYXNzIEsgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsbixyKXtpZihcIlNIQS0xXCIhPT10KXRocm93IG5ldyBFcnJvcihoKTtzdXBlcih0LG4scik7Y29uc3QgaT1yfHx7fTt0aGlzLkw9ITAsdGhpcy5UPXRoaXMuayx0aGlzLks9LTEsdGhpcy5tPWUodGhpcy50LHRoaXMuaSx0aGlzLkspLHRoaXMuUj1VLHRoaXMuZz1mdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZSgpfSx0aGlzLkI9Uix0aGlzLkY9dix0aGlzLkM9WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSx0aGlzLnA9NTEyLHRoaXMuVT0xNjAsdGhpcy52PSExLGkuaG1hY0tleSYmdGhpcy5NKGMoXCJobWFjS2V5XCIsaS5obWFjS2V5LHRoaXMuSykpfX1mdW5jdGlvbiBUKHQpe2xldCBuO3JldHVybiBuPVwiU0hBLTIyNFwiPT10P3Muc2xpY2UoKTpvLnNsaWNlKCksbn1mdW5jdGlvbiBGKHQsbil7bGV0IGUscixzLG8saCx1LHcsYyxmLGEsRTtjb25zdCBSPVtdO2ZvcihlPW5bMF0scj1uWzFdLHM9blsyXSxvPW5bM10saD1uWzRdLHU9bls1XSx3PW5bNl0sYz1uWzddLEU9MDtFPDY0O0UrPTEpUltFXT1FPDE2P3RbRV06ZChsKFU9UltFLTJdLDE3KV5sKFUsMTkpXkEoVSwxMCksUltFLTddLEMoUltFLTE1XSksUltFLTE2XSksZj1tKGMseShoKSxIKGgsdSx3KSxpW0VdLFJbRV0pLGE9cChiKGUpLFMoZSxyLHMpKSxjPXcsdz11LHU9aCxoPXAobyxmKSxvPXMscz1yLHI9ZSxlPXAoZixhKTt2YXIgVTtyZXR1cm4gblswXT1wKGUsblswXSksblsxXT1wKHIsblsxXSksblsyXT1wKHMsblsyXSksblszXT1wKG8sblszXSksbls0XT1wKGgsbls0XSksbls1XT1wKHUsbls1XSksbls2XT1wKHcsbls2XSksbls3XT1wKGMsbls3XSksbn1jbGFzcyBnIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcih0LG4scil7aWYoXCJTSEEtMjI0XCIhPT10JiZcIlNIQS0yNTZcIiE9PXQpdGhyb3cgbmV3IEVycm9yKGgpO3N1cGVyKHQsbixyKTtjb25zdCBpPXJ8fHt9O3RoaXMuVD10aGlzLmssdGhpcy5MPSEwLHRoaXMuSz0tMSx0aGlzLm09ZSh0aGlzLnQsdGhpcy5pLHRoaXMuSyksdGhpcy5SPUYsdGhpcy5nPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCl9LHRoaXMuQj1ULHRoaXMuRj1mdW5jdGlvbihuLGUscixpKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscixpKXtsZXQgcyxvO2NvbnN0IGg9MTUrKG4rNjU+Pj45PDw0KSx1PW4rZTtmb3IoO3QubGVuZ3RoPD1oOyl0LnB1c2goMCk7Zm9yKHRbbj4+PjVdfD0xMjg8PDI0LW4lMzIsdFtoXT00Mjk0OTY3Mjk1JnUsdFtoLTFdPXUvNDI5NDk2NzI5NnwwLHM9MDtzPHQubGVuZ3RoO3MrPTE2KXI9Rih0LnNsaWNlKHMscysxNikscik7cmV0dXJuIG89XCJTSEEtMjI0XCI9PT1pP1tyWzBdLHJbMV0sclsyXSxyWzNdLHJbNF0scls1XSxyWzZdXTpyLG99KG4sZSxyLGksdCl9LHRoaXMuQz1UKHQpLHRoaXMucD01MTIsdGhpcy5VPVwiU0hBLTIyNFwiPT09dD8yMjQ6MjU2LHRoaXMudj0hMSxpLmhtYWNLZXkmJnRoaXMuTShjKFwiaG1hY0tleVwiLGkuaG1hY0tleSx0aGlzLkspKX19Y2xhc3MgQntjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuWT10LHRoaXMuTj1ufX1mdW5jdGlvbiBMKHQsbil7bGV0IGU7cmV0dXJuIG4+MzI/KGU9NjQtbixuZXcgQih0Lk48PG58dC5ZPj4+ZSx0Llk8PG58dC5OPj4+ZSkpOjAhPT1uPyhlPTMyLW4sbmV3IEIodC5ZPDxufHQuTj4+PmUsdC5OPDxufHQuWT4+PmUpKTp0fWZ1bmN0aW9uIE0odCxuKXtsZXQgZTtyZXR1cm4gbjwzMj8oZT0zMi1uLG5ldyBCKHQuWT4+Pm58dC5OPDxlLHQuTj4+Pm58dC5ZPDxlKSk6KGU9NjQtbixuZXcgQih0Lk4+Pj5ufHQuWTw8ZSx0Llk+Pj5ufHQuTjw8ZSkpfWZ1bmN0aW9uIGsodCxuKXtyZXR1cm4gbmV3IEIodC5ZPj4+bix0Lk4+Pj5ufHQuWTw8MzItbil9ZnVuY3Rpb24gWSh0LG4sZSl7cmV0dXJuIG5ldyBCKHQuWSZuLlledC5ZJmUuWV5uLlkmZS5ZLHQuTiZuLk5edC5OJmUuTl5uLk4mZS5OKX1mdW5jdGlvbiBOKHQpe2NvbnN0IG49TSh0LDI4KSxlPU0odCwzNCkscj1NKHQsMzkpO3JldHVybiBuZXcgQihuLlleZS5ZXnIuWSxuLk5eZS5OXnIuTil9ZnVuY3Rpb24gSSh0LG4pe2xldCBlLHI7ZT0oNjU1MzUmdC5OKSsoNjU1MzUmbi5OKSxyPSh0Lk4+Pj4xNikrKG4uTj4+PjE2KSsoZT4+PjE2KTtjb25zdCBpPSg2NTUzNSZyKTw8MTZ8NjU1MzUmZTtyZXR1cm4gZT0oNjU1MzUmdC5ZKSsoNjU1MzUmbi5ZKSsocj4+PjE2KSxyPSh0Llk+Pj4xNikrKG4uWT4+PjE2KSsoZT4+PjE2KSxuZXcgQigoNjU1MzUmcik8PDE2fDY1NTM1JmUsaSl9ZnVuY3Rpb24gWCh0LG4sZSxyKXtsZXQgaSxzO2k9KDY1NTM1JnQuTikrKDY1NTM1Jm4uTikrKDY1NTM1JmUuTikrKDY1NTM1JnIuTikscz0odC5OPj4+MTYpKyhuLk4+Pj4xNikrKGUuTj4+PjE2KSsoci5OPj4+MTYpKyhpPj4+MTYpO2NvbnN0IG89KDY1NTM1JnMpPDwxNnw2NTUzNSZpO3JldHVybiBpPSg2NTUzNSZ0LlkpKyg2NTUzNSZuLlkpKyg2NTUzNSZlLlkpKyg2NTUzNSZyLlkpKyhzPj4+MTYpLHM9KHQuWT4+PjE2KSsobi5ZPj4+MTYpKyhlLlk+Pj4xNikrKHIuWT4+PjE2KSsoaT4+PjE2KSxuZXcgQigoNjU1MzUmcyk8PDE2fDY1NTM1Jmksbyl9ZnVuY3Rpb24geih0LG4sZSxyLGkpe2xldCBzLG87cz0oNjU1MzUmdC5OKSsoNjU1MzUmbi5OKSsoNjU1MzUmZS5OKSsoNjU1MzUmci5OKSsoNjU1MzUmaS5OKSxvPSh0Lk4+Pj4xNikrKG4uTj4+PjE2KSsoZS5OPj4+MTYpKyhyLk4+Pj4xNikrKGkuTj4+PjE2KSsocz4+PjE2KTtjb25zdCBoPSg2NTUzNSZvKTw8MTZ8NjU1MzUmcztyZXR1cm4gcz0oNjU1MzUmdC5ZKSsoNjU1MzUmbi5ZKSsoNjU1MzUmZS5ZKSsoNjU1MzUmci5ZKSsoNjU1MzUmaS5ZKSsobz4+PjE2KSxvPSh0Llk+Pj4xNikrKG4uWT4+PjE2KSsoZS5ZPj4+MTYpKyhyLlk+Pj4xNikrKGkuWT4+PjE2KSsocz4+PjE2KSxuZXcgQigoNjU1MzUmbyk8PDE2fDY1NTM1JnMsaCl9ZnVuY3Rpb24geCh0LG4pe3JldHVybiBuZXcgQih0Lllebi5ZLHQuTl5uLk4pfWZ1bmN0aW9uIF8odCl7Y29uc3Qgbj1NKHQsMTkpLGU9TSh0LDYxKSxyPWsodCw2KTtyZXR1cm4gbmV3IEIobi5ZXmUuWV5yLlksbi5OXmUuTl5yLk4pfWZ1bmN0aW9uIE8odCl7Y29uc3Qgbj1NKHQsMSksZT1NKHQsOCkscj1rKHQsNyk7cmV0dXJuIG5ldyBCKG4uWV5lLlleci5ZLG4uTl5lLk5eci5OKX1mdW5jdGlvbiBQKHQpe2NvbnN0IG49TSh0LDE0KSxlPU0odCwxOCkscj1NKHQsNDEpO3JldHVybiBuZXcgQihuLlleZS5ZXnIuWSxuLk5eZS5OXnIuTil9Y29uc3QgVj1bbmV3IEIoaVswXSwzNjA5NzY3NDU4KSxuZXcgQihpWzFdLDYwMjg5MTcyNSksbmV3IEIoaVsyXSwzOTY0NDg0Mzk5KSxuZXcgQihpWzNdLDIxNzMyOTU1NDgpLG5ldyBCKGlbNF0sNDA4MTYyODQ3MiksbmV3IEIoaVs1XSwzMDUzODM0MjY1KSxuZXcgQihpWzZdLDI5Mzc2NzE1NzkpLG5ldyBCKGlbN10sMzY2NDYwOTU2MCksbmV3IEIoaVs4XSwyNzM0ODgzMzk0KSxuZXcgQihpWzldLDExNjQ5OTY1NDIpLG5ldyBCKGlbMTBdLDEzMjM2MTA3NjQpLG5ldyBCKGlbMTFdLDM1OTAzMDQ5OTQpLG5ldyBCKGlbMTJdLDQwNjgxODIzODMpLG5ldyBCKGlbMTNdLDk5MTMzNjExMyksbmV3IEIoaVsxNF0sNjMzODAzMzE3KSxuZXcgQihpWzE1XSwzNDc5Nzc0ODY4KSxuZXcgQihpWzE2XSwyNjY2NjEzNDU4KSxuZXcgQihpWzE3XSw5NDQ3MTExMzkpLG5ldyBCKGlbMThdLDIzNDEyNjI3NzMpLG5ldyBCKGlbMTldLDIwMDc4MDA5MzMpLG5ldyBCKGlbMjBdLDE0OTU5OTA5MDEpLG5ldyBCKGlbMjFdLDE4NTY0MzEyMzUpLG5ldyBCKGlbMjJdLDMxNzUyMTgxMzIpLG5ldyBCKGlbMjNdLDIxOTg5NTA4MzcpLG5ldyBCKGlbMjRdLDM5OTk3MTkzMzkpLG5ldyBCKGlbMjVdLDc2Njc4NDAxNiksbmV3IEIoaVsyNl0sMjU2NjU5NDg3OSksbmV3IEIoaVsyN10sMzIwMzMzNzk1NiksbmV3IEIoaVsyOF0sMTAzNDQ1NzAyNiksbmV3IEIoaVsyOV0sMjQ2Njk0ODkwMSksbmV3IEIoaVszMF0sMzc1ODMyNjM4MyksbmV3IEIoaVszMV0sMTY4NzE3OTM2KSxuZXcgQihpWzMyXSwxMTg4MTc5OTY0KSxuZXcgQihpWzMzXSwxNTQ2MDQ1NzM0KSxuZXcgQihpWzM0XSwxNTIyODA1NDg1KSxuZXcgQihpWzM1XSwyNjQzODMzODIzKSxuZXcgQihpWzM2XSwyMzQzNTI3MzkwKSxuZXcgQihpWzM3XSwxMDE0NDc3NDgwKSxuZXcgQihpWzM4XSwxMjA2NzU5MTQyKSxuZXcgQihpWzM5XSwzNDQwNzc2MjcpLG5ldyBCKGlbNDBdLDEyOTA4NjM0NjApLG5ldyBCKGlbNDFdLDMxNTg0NTQyNzMpLG5ldyBCKGlbNDJdLDM1MDU5NTI2NTcpLG5ldyBCKGlbNDNdLDEwNjIxNzAwOCksbmV3IEIoaVs0NF0sMzYwNjAwODM0NCksbmV3IEIoaVs0NV0sMTQzMjcyNTc3NiksbmV3IEIoaVs0Nl0sMTQ2NzAzMTU5NCksbmV3IEIoaVs0N10sODUxMTY5NzIwKSxuZXcgQihpWzQ4XSwzMTAwODIzNzUyKSxuZXcgQihpWzQ5XSwxMzYzMjU4MTk1KSxuZXcgQihpWzUwXSwzNzUwNjg1NTkzKSxuZXcgQihpWzUxXSwzNzg1MDUwMjgwKSxuZXcgQihpWzUyXSwzMzE4MzA3NDI3KSxuZXcgQihpWzUzXSwzODEyNzIzNDAzKSxuZXcgQihpWzU0XSwyMDAzMDM0OTk1KSxuZXcgQihpWzU1XSwzNjAyMDM2ODk5KSxuZXcgQihpWzU2XSwxNTc1OTkwMDEyKSxuZXcgQihpWzU3XSwxMTI1NTkyOTI4KSxuZXcgQihpWzU4XSwyNzE2OTA0MzA2KSxuZXcgQihpWzU5XSw0NDI3NzYwNDQpLG5ldyBCKGlbNjBdLDU5MzY5ODM0NCksbmV3IEIoaVs2MV0sMzczMzExMDI0OSksbmV3IEIoaVs2Ml0sMjk5OTM1MTU3MyksbmV3IEIoaVs2M10sMzgxNTkyMDQyNyksbmV3IEIoMzM5MTU2OTYxNCwzOTI4MzgzOTAwKSxuZXcgQigzNTE1MjY3MjcxLDU2NjI4MDcxMSksbmV3IEIoMzk0MDE4NzYwNiwzNDU0MDY5NTM0KSxuZXcgQig0MTE4NjMwMjcxLDQwMDAyMzk5OTIpLG5ldyBCKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxuZXcgQigxNzQyOTI0MjEsMjczMTA1NTI3MCksbmV3IEIoMjg5MzgwMzU2LDMyMDM5OTMwMDYpLG5ldyBCKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLG5ldyBCKDY4NTQ3MTczMyw1ODc0OTY4MzYpLG5ldyBCKDg1MjE0Mjk3MSwxMDg2NzkyODUxKSxuZXcgQigxMDE3MDM2Mjk4LDM2NTU0MzEwMCksbmV3IEIoMTEyNjAwMDU4MCwyNjE4Mjk3Njc2KSxuZXcgQigxMjg4MDMzNDcwLDM0MDk4NTUxNTgpLG5ldyBCKDE1MDE1MDU5NDgsNDIzNDUwOTg2NiksbmV3IEIoMTYwNzE2NzkxNSw5ODcxNjc0NjgpLG5ldyBCKDE4MTY0MDIzMTYsMTI0NjE4OTU5MSldO2Z1bmN0aW9uIFoodCl7cmV0dXJuXCJTSEEtMzg0XCI9PT10P1tuZXcgQigzNDE4MDcwMzY1LHNbMF0pLG5ldyBCKDE2NTQyNzAyNTAsc1sxXSksbmV3IEIoMjQzODUyOTM3MCxzWzJdKSxuZXcgQigzNTU0NjIzNjAsc1szXSksbmV3IEIoMTczMTQwNTQxNSxzWzRdKSxuZXcgQig0MTA0ODg4NTg5NSxzWzVdKSxuZXcgQigzNjc1MDA4NTI1LHNbNl0pLG5ldyBCKDEyMDMwNjI4MTMsc1s3XSldOltuZXcgQihvWzBdLDQwODkyMzU3MjApLG5ldyBCKG9bMV0sMjIyNzg3MzU5NSksbmV3IEIob1syXSw0MjcxMTc1NzIzKSxuZXcgQihvWzNdLDE1OTU3NTAxMjkpLG5ldyBCKG9bNF0sMjkxNzU2NTEzNyksbmV3IEIob1s1XSw3MjU1MTExOTkpLG5ldyBCKG9bNl0sNDIxNTM4OTU0NyksbmV3IEIob1s3XSwzMjcwMzMyMDkpXX1mdW5jdGlvbiBqKHQsbil7bGV0IGUscixpLHMsbyxoLHUsdyxjLGYsYSxsO2NvbnN0IEE9W107Zm9yKGU9blswXSxyPW5bMV0saT1uWzJdLHM9blszXSxvPW5bNF0saD1uWzVdLHU9bls2XSx3PW5bN10sYT0wO2E8ODA7YSs9MSlhPDE2PyhsPTIqYSxBW2FdPW5ldyBCKHRbbF0sdFtsKzFdKSk6QVthXT1YKF8oQVthLTJdKSxBW2EtN10sTyhBW2EtMTVdKSxBW2EtMTZdKSxjPXoodyxQKG8pLChIPWgsUz11LG5ldyBCKChFPW8pLlkmSC5ZXn5FLlkmUy5ZLEUuTiZILk5efkUuTiZTLk4pKSxWW2FdLEFbYV0pLGY9SShOKGUpLFkoZSxyLGkpKSx3PXUsdT1oLGg9byxvPUkocyxjKSxzPWksaT1yLHI9ZSxlPUkoYyxmKTt2YXIgRSxILFM7cmV0dXJuIG5bMF09SShlLG5bMF0pLG5bMV09SShyLG5bMV0pLG5bMl09SShpLG5bMl0pLG5bM109SShzLG5bM10pLG5bNF09SShvLG5bNF0pLG5bNV09SShoLG5bNV0pLG5bNl09SSh1LG5bNl0pLG5bN109SSh3LG5bN10pLG59Y2xhc3MgcSBleHRlbmRzIGZ7Y29uc3RydWN0b3IodCxuLHIpe2lmKFwiU0hBLTM4NFwiIT09dCYmXCJTSEEtNTEyXCIhPT10KXRocm93IG5ldyBFcnJvcihoKTtzdXBlcih0LG4scik7Y29uc3QgaT1yfHx7fTt0aGlzLlQ9dGhpcy5rLHRoaXMuTD0hMCx0aGlzLks9LTEsdGhpcy5tPWUodGhpcy50LHRoaXMuaSx0aGlzLkspLHRoaXMuUj1qLHRoaXMuZz1mdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZSgpfSx0aGlzLkI9Wix0aGlzLkY9ZnVuY3Rpb24obixlLHIsaSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixlLHIsaSl7bGV0IHMsbztjb25zdCBoPTMxKyhuKzEyOT4+PjEwPDw1KSx1PW4rZTtmb3IoO3QubGVuZ3RoPD1oOyl0LnB1c2goMCk7Zm9yKHRbbj4+PjVdfD0xMjg8PDI0LW4lMzIsdFtoXT00Mjk0OTY3Mjk1JnUsdFtoLTFdPXUvNDI5NDk2NzI5NnwwLHM9MDtzPHQubGVuZ3RoO3MrPTMyKXI9aih0LnNsaWNlKHMscyszMikscik7cmV0dXJuIG89XCJTSEEtMzg0XCI9PT1pP1socj1yKVswXS5ZLHJbMF0uTixyWzFdLlksclsxXS5OLHJbMl0uWSxyWzJdLk4sclszXS5ZLHJbM10uTixyWzRdLlkscls0XS5OLHJbNV0uWSxyWzVdLk5dOltyWzBdLlksclswXS5OLHJbMV0uWSxyWzFdLk4sclsyXS5ZLHJbMl0uTixyWzNdLlksclszXS5OLHJbNF0uWSxyWzRdLk4scls1XS5ZLHJbNV0uTixyWzZdLlkscls2XS5OLHJbN10uWSxyWzddLk5dLG99KG4sZSxyLGksdCl9LHRoaXMuQz1aKHQpLHRoaXMucD0xMDI0LHRoaXMuVT1cIlNIQS0zODRcIj09PXQ/Mzg0OjUxMix0aGlzLnY9ITEsaS5obWFjS2V5JiZ0aGlzLk0oYyhcImhtYWNLZXlcIixpLmhtYWNLZXksdGhpcy5LKSl9fWNvbnN0IEQ9W25ldyBCKDAsMSksbmV3IEIoMCwzMjg5OCksbmV3IEIoMjE0NzQ4MzY0OCwzMjkwNiksbmV3IEIoMjE0NzQ4MzY0OCwyMTQ3NTE2NDE2KSxuZXcgQigwLDMyOTA3KSxuZXcgQigwLDIxNDc0ODM2NDkpLG5ldyBCKDIxNDc0ODM2NDgsMjE0NzUxNjU0NSksbmV3IEIoMjE0NzQ4MzY0OCwzMjc3NyksbmV3IEIoMCwxMzgpLG5ldyBCKDAsMTM2KSxuZXcgQigwLDIxNDc1MTY0MjUpLG5ldyBCKDAsMjE0NzQ4MzY1OCksbmV3IEIoMCwyMTQ3NTE2NTU1KSxuZXcgQigyMTQ3NDgzNjQ4LDEzOSksbmV3IEIoMjE0NzQ4MzY0OCwzMjkwNSksbmV3IEIoMjE0NzQ4MzY0OCwzMjc3MSksbmV3IEIoMjE0NzQ4MzY0OCwzMjc3MCksbmV3IEIoMjE0NzQ4MzY0OCwxMjgpLG5ldyBCKDAsMzI3NzgpLG5ldyBCKDIxNDc0ODM2NDgsMjE0NzQ4MzY1OCksbmV3IEIoMjE0NzQ4MzY0OCwyMTQ3NTE2NTQ1KSxuZXcgQigyMTQ3NDgzNjQ4LDMyODk2KSxuZXcgQigwLDIxNDc0ODM2NDkpLG5ldyBCKDIxNDc0ODM2NDgsMjE0NzUxNjQyNCldLEc9W1swLDM2LDMsNDEsMThdLFsxLDQ0LDEwLDQ1LDJdLFs2Miw2LDQzLDE1LDYxXSxbMjgsNTUsMjUsMjEsNTZdLFsyNywyMCwzOSw4LDE0XV07ZnVuY3Rpb24gSih0KXtsZXQgbjtjb25zdCBlPVtdO2ZvcihuPTA7bjw1O24rPTEpZVtuXT1bbmV3IEIoMCwwKSxuZXcgQigwLDApLG5ldyBCKDAsMCksbmV3IEIoMCwwKSxuZXcgQigwLDApXTtyZXR1cm4gZX1mdW5jdGlvbiBRKHQpe2xldCBuO2NvbnN0IGU9W107Zm9yKG49MDtuPDU7bis9MSllW25dPXRbbl0uc2xpY2UoKTtyZXR1cm4gZX1mdW5jdGlvbiBXKHQsbil7bGV0IGUscixpLHM7Y29uc3Qgbz1bXSxoPVtdO2lmKG51bGwhPT10KWZvcihyPTA7cjx0Lmxlbmd0aDtyKz0yKW5bKHI+Pj4xKSU1XVsocj4+PjEpLzV8MF09eChuWyhyPj4+MSklNV1bKHI+Pj4xKS81fDBdLG5ldyBCKHRbcisxXSx0W3JdKSk7Zm9yKGU9MDtlPDI0O2UrPTEpe2ZvcihzPUooKSxyPTA7cjw1O3IrPTEpb1tyXT0odT1uW3JdWzBdLHc9bltyXVsxXSxjPW5bcl1bMl0sZj1uW3JdWzNdLGE9bltyXVs0XSxuZXcgQih1Llledy5ZXmMuWV5mLlleYS5ZLHUuTl53Lk5eYy5OXmYuTl5hLk4pKTtmb3Iocj0wO3I8NTtyKz0xKWhbcl09eChvWyhyKzQpJTVdLEwob1socisxKSU1XSwxKSk7Zm9yKHI9MDtyPDU7cis9MSlmb3IoaT0wO2k8NTtpKz0xKW5bcl1baV09eChuW3JdW2ldLGhbcl0pO2ZvcihyPTA7cjw1O3IrPTEpZm9yKGk9MDtpPDU7aSs9MSlzW2ldWygyKnIrMyppKSU1XT1MKG5bcl1baV0sR1tyXVtpXSk7Zm9yKHI9MDtyPDU7cis9MSlmb3IoaT0wO2k8NTtpKz0xKW5bcl1baV09eChzW3JdW2ldLG5ldyBCKH5zWyhyKzEpJTVdW2ldLlkmc1socisyKSU1XVtpXS5ZLH5zWyhyKzEpJTVdW2ldLk4mc1socisyKSU1XVtpXS5OKSk7blswXVswXT14KG5bMF1bMF0sRFtlXSl9dmFyIHUsdyxjLGYsYTtyZXR1cm4gbn1mdW5jdGlvbiAkKHQpe2xldCBuLGUscj0wO2NvbnN0IGk9WzAsMF0scz1bNDI5NDk2NzI5NSZ0LHQvNDI5NDk2NzI5NiYyMDk3MTUxXTtmb3Iobj02O24+PTA7bi0tKWU9c1tuPj4yXT4+PjgqbiYyNTUsMD09PWUmJjA9PT1yfHwoaVtyKzE+PjJdfD1lPDw4KihyKzEpLHIrPTEpO3JldHVybiByPTAhPT1yP3I6MSxpWzBdfD1yLHt2YWx1ZTpyKzE+ND9pOltpWzBdXSxiaW5MZW46OCs4KnJ9fWZ1bmN0aW9uIHR0KHQpe3JldHVybiB1KCQodC5iaW5MZW4pLHQpfWZ1bmN0aW9uIG50KHQsbil7bGV0IGUscj0kKG4pO3I9dShyLHQpO2NvbnN0IGk9bj4+PjIscz0oaS1yLnZhbHVlLmxlbmd0aCVpKSVpO2ZvcihlPTA7ZTxzO2UrKylyLnZhbHVlLnB1c2goMCk7cmV0dXJuIHIudmFsdWV9Y2xhc3MgZXQgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQsbixyKXtsZXQgaT02LHM9MDtzdXBlcih0LG4scik7Y29uc3Qgbz1yfHx7fTtpZigxIT09dGhpcy5udW1Sb3VuZHMpe2lmKG8ua21hY0tleXx8by5obWFjS2V5KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgbnVtUm91bmRzIHdpdGggTUFDXCIpO2lmKFwiQ1NIQUtFMTI4XCI9PT10aGlzLnN8fFwiQ1NIQUtFMjU2XCI9PT10aGlzLnMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBudW1Sb3VuZHMgZm9yIENTSEFLRSB2YXJpYW50c1wiKX1zd2l0Y2godGhpcy5LPTEsdGhpcy5tPWUodGhpcy50LHRoaXMuaSx0aGlzLkspLHRoaXMuUj1XLHRoaXMuZz1RLHRoaXMuQj1KLHRoaXMuQz1KKCksdGhpcy52PSExLHQpe2Nhc2VcIlNIQTMtMjI0XCI6dGhpcy5wPXM9MTE1Mix0aGlzLlU9MjI0LHRoaXMuTD0hMCx0aGlzLlQ9dGhpcy5rO2JyZWFrO2Nhc2VcIlNIQTMtMjU2XCI6dGhpcy5wPXM9MTA4OCx0aGlzLlU9MjU2LHRoaXMuTD0hMCx0aGlzLlQ9dGhpcy5rO2JyZWFrO2Nhc2VcIlNIQTMtMzg0XCI6dGhpcy5wPXM9ODMyLHRoaXMuVT0zODQsdGhpcy5MPSEwLHRoaXMuVD10aGlzLms7YnJlYWs7Y2FzZVwiU0hBMy01MTJcIjp0aGlzLnA9cz01NzYsdGhpcy5VPTUxMix0aGlzLkw9ITAsdGhpcy5UPXRoaXMuazticmVhaztjYXNlXCJTSEFLRTEyOFwiOmk9MzEsdGhpcy5wPXM9MTM0NCx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9bnVsbDticmVhaztjYXNlXCJTSEFLRTI1NlwiOmk9MzEsdGhpcy5wPXM9MTA4OCx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9bnVsbDticmVhaztjYXNlXCJLTUFDMTI4XCI6aT00LHRoaXMucD1zPTEzNDQsdGhpcy5JKHIpLHRoaXMuVT0tMSx0aGlzLnY9ITAsdGhpcy5MPSExLHRoaXMuVD10aGlzLlg7YnJlYWs7Y2FzZVwiS01BQzI1NlwiOmk9NCx0aGlzLnA9cz0xMDg4LHRoaXMuSShyKSx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9dGhpcy5YO2JyZWFrO2Nhc2VcIkNTSEFLRTEyOFwiOnRoaXMucD1zPTEzNDQsaT10aGlzLl8ociksdGhpcy5VPS0xLHRoaXMudj0hMCx0aGlzLkw9ITEsdGhpcy5UPW51bGw7YnJlYWs7Y2FzZVwiQ1NIQUtFMjU2XCI6dGhpcy5wPXM9MTA4OCxpPXRoaXMuXyhyKSx0aGlzLlU9LTEsdGhpcy52PSEwLHRoaXMuTD0hMSx0aGlzLlQ9bnVsbDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihoKX10aGlzLkY9ZnVuY3Rpb24odCxuLGUscixvKXtyZXR1cm4gZnVuY3Rpb24odCxuLGUscixpLHMsbyl7bGV0IGgsdSx3PTA7Y29uc3QgYz1bXSxmPWk+Pj41LGE9bj4+PjU7Zm9yKGg9MDtoPGEmJm4+PWk7aCs9ZilyPVcodC5zbGljZShoLGgrZiksciksbi09aTtmb3IodD10LnNsaWNlKGgpLG4lPWk7dC5sZW5ndGg8ZjspdC5wdXNoKDApO2ZvcihoPW4+Pj4zLHRbaD4+Ml1ePXM8PGglNCo4LHRbZi0xXV49MjE0NzQ4MzY0OCxyPVcodCxyKTszMipjLmxlbmd0aDxvJiYodT1yW3clNV1bdy81fDBdLGMucHVzaCh1Lk4pLCEoMzIqYy5sZW5ndGg+PW8pKTspYy5wdXNoKHUuWSksdys9MSwwPT02NCp3JWkmJihXKG51bGwsciksdz0wKTtyZXR1cm4gY30odCxuLDAscixzLGksbyl9LG8uaG1hY0tleSYmdGhpcy5NKGMoXCJobWFjS2V5XCIsby5obWFjS2V5LHRoaXMuSykpfV8odCxuKXtjb25zdCBlPWZ1bmN0aW9uKHQpe2NvbnN0IG49dHx8e307cmV0dXJue2Z1bmNOYW1lOmMoXCJmdW5jTmFtZVwiLG4uZnVuY05hbWUsMSx7dmFsdWU6W10sYmluTGVuOjB9KSxjdXN0b21pemF0aW9uOmMoXCJDdXN0b21pemF0aW9uXCIsbi5jdXN0b21pemF0aW9uLDEse3ZhbHVlOltdLGJpbkxlbjowfSl9fSh0fHx7fSk7biYmKGUuZnVuY05hbWU9bik7Y29uc3Qgcj11KHR0KGUuZnVuY05hbWUpLHR0KGUuY3VzdG9taXphdGlvbikpO2lmKDAhPT1lLmN1c3RvbWl6YXRpb24uYmluTGVufHwwIT09ZS5mdW5jTmFtZS5iaW5MZW4pe2NvbnN0IHQ9bnQocix0aGlzLnA+Pj4zKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rPXRoaXMucD4+PjUpdGhpcy5DPXRoaXMuUih0LnNsaWNlKG4sbisodGhpcy5wPj4+NSkpLHRoaXMuQyksdGhpcy5sKz10aGlzLnA7cmV0dXJuIDR9cmV0dXJuIDMxfUkodCl7Y29uc3Qgbj1mdW5jdGlvbih0KXtjb25zdCBuPXR8fHt9O3JldHVybntrbWFjS2V5OmMoXCJrbWFjS2V5XCIsbi5rbWFjS2V5LDEpLGZ1bmNOYW1lOnt2YWx1ZTpbMTEyODM1MzA5OV0sYmluTGVuOjMyfSxjdXN0b21pemF0aW9uOmMoXCJDdXN0b21pemF0aW9uXCIsbi5jdXN0b21pemF0aW9uLDEse3ZhbHVlOltdLGJpbkxlbjowfSl9fSh0fHx7fSk7dGhpcy5fKHQsbi5mdW5jTmFtZSk7Y29uc3QgZT1udCh0dChuLmttYWNLZXkpLHRoaXMucD4+PjMpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9dGhpcy5wPj4+NSl0aGlzLkM9dGhpcy5SKGUuc2xpY2UodCx0Kyh0aGlzLnA+Pj41KSksdGhpcy5DKSx0aGlzLmwrPXRoaXMucDt0aGlzLkE9ITB9WCh0KXtjb25zdCBuPXUoe3ZhbHVlOnRoaXMuby5zbGljZSgpLGJpbkxlbjp0aGlzLmh9LGZ1bmN0aW9uKHQpe2xldCBuLGUscj0wO2NvbnN0IGk9WzAsMF0scz1bNDI5NDk2NzI5NSZ0LHQvNDI5NDk2NzI5NiYyMDk3MTUxXTtmb3Iobj02O24+PTA7bi0tKWU9c1tuPj4yXT4+PjgqbiYyNTUsMD09PWUmJjA9PT1yfHwoaVtyPj4yXXw9ZTw8OCpyLHIrPTEpO3JldHVybiByPTAhPT1yP3I6MSxpW3I+PjJdfD1yPDw4KnIse3ZhbHVlOnIrMT40P2k6W2lbMF1dLGJpbkxlbjo4Kzgqcn19KHQub3V0cHV0TGVuKSk7cmV0dXJuIHRoaXMuRihuLnZhbHVlLG4uYmluTGVuLHRoaXMubCx0aGlzLmcodGhpcy5DKSx0Lm91dHB1dExlbil9fWV4cG9ydCBkZWZhdWx0IGNsYXNze2NvbnN0cnVjdG9yKHQsbixlKXtpZihcIlNIQS0xXCI9PXQpdGhpcy5PPW5ldyBLKHQsbixlKTtlbHNlIGlmKFwiU0hBLTIyNFwiPT10fHxcIlNIQS0yNTZcIj09dCl0aGlzLk89bmV3IGcodCxuLGUpO2Vsc2UgaWYoXCJTSEEtMzg0XCI9PXR8fFwiU0hBLTUxMlwiPT10KXRoaXMuTz1uZXcgcSh0LG4sZSk7ZWxzZXtpZihcIlNIQTMtMjI0XCIhPXQmJlwiU0hBMy0yNTZcIiE9dCYmXCJTSEEzLTM4NFwiIT10JiZcIlNIQTMtNTEyXCIhPXQmJlwiU0hBS0UxMjhcIiE9dCYmXCJTSEFLRTI1NlwiIT10JiZcIkNTSEFLRTEyOFwiIT10JiZcIkNTSEFLRTI1NlwiIT10JiZcIktNQUMxMjhcIiE9dCYmXCJLTUFDMjU2XCIhPXQpdGhyb3cgbmV3IEVycm9yKGgpO3RoaXMuTz1uZXcgZXQodCxuLGUpfX11cGRhdGUodCl7dGhpcy5PLnVwZGF0ZSh0KX1nZXRIYXNoKHQsbil7cmV0dXJuIHRoaXMuTy5nZXRIYXNoKHQsbil9c2V0SE1BQ0tleSh0LG4sZSl7dGhpcy5PLnNldEhNQUNLZXkodCxuLGUpfWdldEhNQUModCxuKXtyZXR1cm4gdGhpcy5PLmdldEhNQUModCxuKX19XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGEubWpzLm1hcFxuIiwiLy8hIG1vbWVudC5qc1xuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob29rQ2FsbGJhY2s7XG5cbiAgICBmdW5jdGlvbiBob29rcyAoKSB7XG4gICAgICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuICAgIC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICAgIGZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICAgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgICAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykge1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgICAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgcmZjMjgyMiAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB3ZWVrZGF5TWlzbWF0Y2ggOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG4gICAgICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5fcGY7XG4gICAgfVxuXG4gICAgdmFyIHNvbWU7XG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG4gICAgICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuICAgICAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgICAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3Mud2Vla2RheU1pc21hdGNoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgICAgIGlmIChtLl9zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xuICAgICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcbiAgICAgICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuXG4gICAgLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuICAgIC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG4gICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XG5cbiAgICBmdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc0FNb21lbnRPYmplY3QpKSB7XG4gICAgICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faSkpIHtcbiAgICAgICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2YpKSB7XG4gICAgICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sKSkge1xuICAgICAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fc3RyaWN0KSkge1xuICAgICAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3R6bSkpIHtcbiAgICAgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc1VUQykpIHtcbiAgICAgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fb2Zmc2V0KSkge1xuICAgICAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3BmKSkge1xuICAgICAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbG9jYWxlKSkge1xuICAgICAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICAvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuICAgIGZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICAgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgICAgICAvLyBvYmplY3RzLlxuICAgICAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcikgfHwgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgICAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXByZWNhdGUobXNnLCBmbikge1xuICAgICAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG4gICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX2RheU9mTW9udGhPcmRpbmFsUGFyc2UuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICAgICAgdGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlIHx8IHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UpICtcbiAgICAgICAgICAgICAgICAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgICAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXM7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICB2YXIgaSwgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsXG4gICAgICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLFxuICAgICAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICAgICAgc2FtZUVsc2UgOiAnTCdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICAgICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuICAgICAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcbiAgICAgICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICAgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblxuICAgIGZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG4gICAgdmFyIGRlZmF1bHREYXlPZk1vbnRoT3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuICAgIGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgICAgIHBhc3QgICA6ICclcyBhZ28nLFxuICAgICAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcbiAgICAgICAgc3MgOiAnJWQgc2Vjb25kcycsXG4gICAgICAgIG0gIDogJ2EgbWludXRlJyxcbiAgICAgICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgICAgIGggIDogJ2FuIGhvdXInLFxuICAgICAgICBoaCA6ICclZCBob3VycycsXG4gICAgICAgIGQgIDogJ2EgZGF5JyxcbiAgICAgICAgZGQgOiAnJWQgZGF5cycsXG4gICAgICAgIE0gIDogJ2EgbW9udGgnLFxuICAgICAgICBNTSA6ICclZCBtb250aHMnLFxuICAgICAgICB5ICA6ICdhIHllYXInLFxuICAgICAgICB5eSA6ICclZCB5ZWFycydcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuICAgICAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuICAgICAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBhbGlhc2VzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuICAgICAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgICAgIHByb3A7XG5cbiAgICAgICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbiAgICB9XG5cbiAgICB2YXIgcHJpb3JpdGllcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgICAgIHZhciB1bml0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1bml0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxuICAgIHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZGRlZCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gaXNGdW5jdGlvbihhcnJheVtpXSkgPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbiAgICBmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgICAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICAgICAgdmFyIGkgPSA1O1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XG4gICAgICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoMSAgICAgICAgID0gL1xcZC87ICAgICAgICAgICAgLy8gICAgICAgMCAtIDlcbiAgICB2YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG4gICAgdmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxuICAgIHZhciBtYXRjaDQgICAgICAgICA9IC9cXGR7NH0vOyAgICAgICAgIC8vICAgIDAwMDAgLSA5OTk5XG4gICAgdmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzdG80ICAgICAgPSAvXFxkXFxkXFxkXFxkPy87ICAgICAvLyAgICAgOTk5IC0gOTk5OVxuICAgIHZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxuICAgIHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbiAgICB2YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxuICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxuICAgIHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbiAgICB2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cbiAgICB2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuICAgIHZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbiAgICB2YXIgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vOyAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuXG4gICAgLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4gICAgLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuICAgIHZhciBtYXRjaFdvcmQgPSAvWzAtOV17MCwyNTZ9WydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGMDdcXHVGRjEwLVxcdUZGRUZdezEsMjU2fXxbXFx1MDYwMC1cXHUwNkZGXFwvXXsxLDI1Nn0oXFxzKj9bXFx1MDYwMC1cXHUwNkZGXXsxLDI1Nn0pezEsMn0vaTtcblxuICAgIHZhciByZWdleGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRSZWdleFRva2VuICh0b2tlbiwgcmVnZXgsIHN0cmljdFJlZ2V4KSB7XG4gICAgICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgICAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW5zID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRva2VuID0gW3Rva2VuXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgWUVBUiA9IDA7XG4gICAgdmFyIE1PTlRIID0gMTtcbiAgICB2YXIgREFURSA9IDI7XG4gICAgdmFyIEhPVVIgPSAzO1xuICAgIHZhciBNSU5VVEUgPSA0O1xuICAgIHZhciBTRUNPTkQgPSA1O1xuICAgIHZhciBNSUxMSVNFQ09ORCA9IDY7XG4gICAgdmFyIFdFRUsgPSA3O1xuICAgIHZhciBXRUVLREFZID0gODtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuICAgICAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQUklPUklUSUVTXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdZWScsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbiAgICB9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG4gICAgZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7XG4gICAgICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgICAgIHJldHVybiBtb20uaXNWYWxpZCgpID9cbiAgICAgICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChtb20uaXNWYWxpZCgpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh1bml0ID09PSAnRnVsbFllYXInICYmIGlzTGVhcFllYXIobW9tLnllYXIoKSkgJiYgbW9tLm1vbnRoKCkgPT09IDEgJiYgbW9tLmRhdGUoKSA9PT0gMjkpIHtcbiAgICAgICAgICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUsIG1vbS5tb250aCgpLCBkYXlzSW5Nb250aCh2YWx1ZSwgbW9tLm1vbnRoKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9kKG4sIHgpIHtcbiAgICAgICAgcmV0dXJuICgobiAlIHgpICsgeCkgJSB4O1xuICAgIH1cblxuICAgIHZhciBpbmRleE9mO1xuXG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgIC8vIEkga25vd1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgICAgICBpZiAoaXNOYU4oeWVhcikgfHwgaXNOYU4obW9udGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2RNb250aCA9IG1vZChtb250aCwgMTIpO1xuICAgICAgICB5ZWFyICs9IChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xuICAgICAgICByZXR1cm4gbW9kTW9udGggPT09IDEgPyAoaXNMZWFwWWVhcih5ZWFyKSA/IDI5IDogMjgpIDogKDMxIC0gbW9kTW9udGggJSA3ICUgMik7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ21vbnRoJywgOCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdNTScsICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbiAgICB9KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC5cbiAgICAgICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIHZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxuICAgICAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnQgOlxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0WydzdGFuZGFsb25lJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgICAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gc2V0TW9udGggKG1vbSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG4gICAgICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgICAgICBpLCBtb207XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAgICAgLy8gY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xODEzNDhcbiAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeSArIDQwMCwgbSwgZCwgaCwgTSwgcywgbXMpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICAgICAgdmFyIGRhdGU7XG4gICAgICAgIC8vIHRoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSBsZWFwIHllYXJzIHVzaW5nIGEgZnVsbCA0MDAgeWVhciBjeWNsZSwgdGhlbiByZXNldFxuICAgICAgICAgICAgYXJnc1swXSA9IHkgKyA0MDA7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJncykpO1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbiAgICBmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgICAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgICAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICAgICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgICAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICAgICAgZGF5T2ZZZWFyOiByZXNEYXlPZlllYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cbiAgICAgICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgICAgIHllYXI6IHJlc1llYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgICAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuICAgICAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbiAgICBhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuICAgIC8vIFBSSU9SSVRJRVNcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgICAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNnRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuICAgIGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgICAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG4gICAgICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xuICAgIH1cblxuICAgIC8vIExPQ0FMRVNcbiAgICBmdW5jdGlvbiBzaGlmdFdlZWtkYXlzICh3cywgbikge1xuICAgICAgICByZXR1cm4gd3Muc2xpY2UobiwgNykuY29uY2F0KHdzLnNsaWNlKDAsIG4pKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgdmFyIHdlZWtkYXlzID0gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5cyA6XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1sobSAmJiBtICE9PSB0cnVlICYmIHRoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ107XG4gICAgICAgIHJldHVybiAobSA9PT0gdHJ1ZSkgPyBzaGlmdFdlZWtkYXlzKHdlZWtkYXlzLCB0aGlzLl93ZWVrLmRvdylcbiAgICAgICAgICAgIDogKG0pID8gd2Vla2RheXNbbS5kYXkoKV0gOiB3ZWVrZGF5cztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNTaG9ydCwgdGhpcy5fd2Vlay5kb3cpXG4gICAgICAgICAgICA6IChtKSA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICAgICAgcmV0dXJuIChtID09PSB0cnVlKSA/IHNoaWZ0V2Vla2RheXModGhpcy5fd2Vla2RheXNNaW4sIHRoaXMuX3dlZWsuZG93KVxuICAgICAgICAgICAgOiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFxcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgICAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgICAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1lcmlkaWVtKCdhJywgdHJ1ZSk7XG4gICAgbWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignaycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2trJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcbiAgICBhZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaycsICdrayddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIGtJbnB1dCA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSBrSW5wdXQgPT09IDI0ID8gMCA6IGtJbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICAgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuICAgICAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG4gICAgICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ0htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICAgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICB9KTtcblxuICAgIC8vIExPQ0FMRVNcblxuICAgIGZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgICAgICBpZiAoaG91cnMgPiAxMSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ2FtJyA6ICdBTSc7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuICAgIC8vIHNwZWNpZmllZCB3aGljaCBob3VyIHRoZXkgd2FudC4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuICAgIHZhciBiYXNlQ29uZmlnID0ge1xuICAgICAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgICAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgICAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuICAgICAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICAgICAgZGF5T2ZNb250aE9yZGluYWxQYXJzZTogZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UsXG4gICAgICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgICAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG4gICAgICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICAgICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICAgICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcbiAgICAgICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICAgICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICAgICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2VcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xuICAgIHZhciBsb2NhbGVzID0ge307XG4gICAgdmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG4gICAgdmFyIGdsb2JhbExvY2FsZTtcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xuICAgIH1cblxuICAgIC8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuICAgIC8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4gICAgLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuICAgIGZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuICAgICAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgICAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgICAgICAgICAgICAgdmFyIGFsaWFzZWRSZXF1aXJlID0gcmVxdWlyZTtcbiAgICAgICAgICAgICAgICBhbGlhc2VkUmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbiAgICAvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuICAgIC8vIGxvY2FsZSBrZXkuXG4gICAgZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICBnbG9iYWxMb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy93YXJuIHVzZXIgaWYgYXJndW1lbnRzIGFyZSBwYXNzZWQgYnV0IHRoZSBsb2NhbGUgY291bGQgbm90IGJlIHNldFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0xvY2FsZSAnICsga2V5ICsgICcgbm90IGZvdW5kLiBEaWQgeW91IGZvcmdldCB0byBsb2FkIGl0PycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoY29uZmlnLnBhcmVudExvY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlLl9jb25maWc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxvY2FsZSwgdG1wTG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgICAgIHRtcExvY2FsZSA9IGxvYWRMb2NhbGUobmFtZSk7XG4gICAgICAgICAgICBpZiAodG1wTG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSB0bXBMb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH1cblxuICAgIC8vIHJldHVybnMgbG9jYWxlIGRhdGFcbiAgICBmdW5jdGlvbiBnZXRMb2NhbGUgKGtleSkge1xuICAgICAgICB2YXIgbG9jYWxlO1xuXG4gICAgICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXkgPSBba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgICAgICB2YXIgb3ZlcmZsb3c7XG4gICAgICAgIHZhciBhID0gbS5fYTtcblxuICAgICAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuICAgICAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcbiAgICAgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgICAgICAtMTtcblxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuICAgIC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4gICAgLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4gICAgLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCBleHBlY3RlZFdlZWtkYXksIHllYXJUb1VzZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgICAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSB8fCBjb25maWcuX2RheU9mWWVhciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAgICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICAgICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuICAgICAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgICAgIGV4cGVjdGVkV2Vla2RheSA9IGNvbmZpZy5fdXNlVVRDID8gY29uZmlnLl9kLmdldFVUQ0RheSgpIDogY29uZmlnLl9kLmdldERheSgpO1xuXG4gICAgICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgICAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICAgICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtaXNtYXRjaGluZyBkYXkgb2Ygd2Vla1xuICAgICAgICBpZiAoY29uZmlnLl93ICYmIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uZmlnLl93LmQgIT09IGV4cGVjdGVkV2Vla2RheSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykud2Vla2RheU1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcbiAgICAgICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXG4gICAgICAgIHcgPSBjb25maWcuX3c7XG4gICAgICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRvdyA9IDE7XG4gICAgICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb25cbiAgICAgICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcbiAgICAgICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgICAgICAvLyBjcmVhdGUgbm93KS5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7XG5cbiAgICAgICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgd2Vlay5cbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuICAgICAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgICAgIGlmICh3LmUgPCAwIHx8IHcuZSA+IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5uaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcbiAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpc28gODYwMSByZWdleFxuICAgIC8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxuICAgIHZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuICAgIHZhciBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblxuICAgIHZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG4gICAgdmFyIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgICAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICAgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcbiAgICAgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZREREJywgL1xcZHs3fS9dXG4gICAgXTtcblxuICAgIC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbiAgICB2YXIgaXNvVGltZXMgPSBbXG4gICAgICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgWydISCcsIC9cXGRcXGQvXVxuICAgIF07XG5cbiAgICB2YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGwsXG4gICAgICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xuICAgIHZhciByZmMyODIyID0gL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSw/XFxzKT8oXFxkezEsMn0pXFxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxccyhcXGR7Miw0fSlcXHMoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKSk/XFxzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfChbKy1dXFxkezR9KSkkLztcblxuICAgIGZ1bmN0aW9uIGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpLFxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxuICAgICAgICAgICAgcGFyc2VJbnQoZGF5U3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChob3VyU3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKVxuICAgICAgICBdO1xuXG4gICAgICAgIGlmIChzZWNvbmRTdHIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KHNlY29uZFN0ciwgMTApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW50cnVuY2F0ZVllYXIoeWVhclN0cikge1xuICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KHllYXJTdHIsIDEwKTtcbiAgICAgICAgaWYgKHllYXIgPD0gNDkpIHtcbiAgICAgICAgICAgIHJldHVybiAyMDAwICsgeWVhcjtcbiAgICAgICAgfSBlbHNlIGlmICh5ZWFyIDw9IDk5OSkge1xuICAgICAgICAgICAgcmV0dXJuIDE5MDAgKyB5ZWFyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXByb2Nlc3NSRkMyODIyKHMpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNvbW1lbnRzIGFuZCBmb2xkaW5nIHdoaXRlc3BhY2UgYW5kIHJlcGxhY2UgbXVsdGlwbGUtc3BhY2VzIHdpdGggYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXFwoW14pXSpcXCl8W1xcblxcdF0vZywgJyAnKS5yZXBsYWNlKC8oXFxzXFxzKykvZywgJyAnKS5yZXBsYWNlKC9eXFxzXFxzKi8sICcnKS5yZXBsYWNlKC9cXHNcXHMqJC8sICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1dlZWtkYXkod2Vla2RheVN0ciwgcGFyc2VkSW5wdXQsIGNvbmZpZykge1xuICAgICAgICBpZiAod2Vla2RheVN0cikge1xuICAgICAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB0aGUgdmFuaWxsYSBKUyBEYXRlIG9iamVjdCB3aXRoIGFuIGluZGVwZW50ZW50IGRheS1vZi13ZWVrIGNoZWNrLlxuICAgICAgICAgICAgdmFyIHdlZWtkYXlQcm92aWRlZCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0ciksXG4gICAgICAgICAgICAgICAgd2Vla2RheUFjdHVhbCA9IG5ldyBEYXRlKHBhcnNlZElucHV0WzBdLCBwYXJzZWRJbnB1dFsxXSwgcGFyc2VkSW5wdXRbMl0pLmdldERheSgpO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXlQcm92aWRlZCAhPT0gd2Vla2RheUFjdHVhbCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBvYnNPZmZzZXRzID0ge1xuICAgICAgICBVVDogMCxcbiAgICAgICAgR01UOiAwLFxuICAgICAgICBFRFQ6IC00ICogNjAsXG4gICAgICAgIEVTVDogLTUgKiA2MCxcbiAgICAgICAgQ0RUOiAtNSAqIDYwLFxuICAgICAgICBDU1Q6IC02ICogNjAsXG4gICAgICAgIE1EVDogLTYgKiA2MCxcbiAgICAgICAgTVNUOiAtNyAqIDYwLFxuICAgICAgICBQRFQ6IC03ICogNjAsXG4gICAgICAgIFBTVDogLTggKiA2MFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQob2JzT2Zmc2V0LCBtaWxpdGFyeU9mZnNldCwgbnVtT2Zmc2V0KSB7XG4gICAgICAgIGlmIChvYnNPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gICAgICAgIH0gZWxzZSBpZiAobWlsaXRhcnlPZmZzZXQpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvbmx5IGFsbG93ZWQgbWlsaXRhcnkgdHogaXMgWlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaG0gPSBwYXJzZUludChudW1PZmZzZXQsIDEwKTtcbiAgICAgICAgICAgIHZhciBtID0gaG0gJSAxMDAsIGggPSAoaG0gLSBtKSAvIDEwMDtcbiAgICAgICAgICAgIHJldHVybiBoICogNjAgKyBtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBhbmQgdGltZSBmcm9tIHJlZiAyODIyIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZmMyODIyLmV4ZWMocHJlcHJvY2Vzc1JGQzI4MjIoY29uZmlnLl9pKSk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIHBhcnNlZEFycmF5ID0gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhtYXRjaFs0XSwgbWF0Y2hbM10sIG1hdGNoWzJdLCBtYXRjaFs1XSwgbWF0Y2hbNl0sIG1hdGNoWzddKTtcbiAgICAgICAgICAgIGlmICghY2hlY2tXZWVrZGF5KG1hdGNoWzFdLCBwYXJzZWRBcnJheSwgY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uZmlnLl9hID0gcGFyc2VkQXJyYXk7XG4gICAgICAgICAgICBjb25maWcuX3R6bSA9IGNhbGN1bGF0ZU9mZnNldChtYXRjaFs4XSwgbWF0Y2hbOV0sIG1hdGNoWzEwXSk7XG5cbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGNyZWF0ZVVUQ0RhdGUuYXBwbHkobnVsbCwgY29uZmlnLl9hKTtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnJmYzI4MjIgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdCBvciBmYWxsYmFja1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgICAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluYWwgYXR0ZW1wdCwgdXNlIElucHV0IEZhbGxiYWNrXG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIFJGQzI4MjIgb3IgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICAgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG4gICAgaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBSRkMgMjgyMiBmb3JtXG4gICAgaG9va3MuUkZDXzI4MjIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLlJGQ18yODIyKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cbiAgICAgICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICAgICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG4gICAgICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICAgICAgdG9rZW5zID0gZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgICAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG4gICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAgICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblxuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgICAgIHZhciBpc1BtO1xuXG4gICAgICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICAgICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgICAgICBiZXN0TW9tZW50LFxuXG4gICAgICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuICAgICAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnIChjb25maWcpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICAgICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSAgZWxzZSB7XG4gICAgICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbiAgICAvL1xuICAgIC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2VcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuICAgIGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgICAgICB2YXIgcmVzLCBpO1xuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gbW9tZW50c1swXTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuICAgIGZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF4ICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xuICAgIH1cblxuICAgIHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xuICAgIH07XG5cbiAgICB2YXIgb3JkZXJpbmcgPSBbJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCAnbWlsbGlzZWNvbmQnXTtcblxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb25WYWxpZChtKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBtKSB7XG4gICAgICAgICAgICBpZiAoIShpbmRleE9mLmNhbGwob3JkZXJpbmcsIGtleSkgIT09IC0xICYmIChtW2tleV0gPT0gbnVsbCB8fCAhaXNOYU4obVtrZXldKSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVuaXRIYXNEZWNpbWFsID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgYWxsb3cgbm9uLWludGVnZXJzIGZvciBzbWFsbGVzdCB1bml0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXRIYXNEZWNpbWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQkMSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG4gICAgICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgbm9ybWFsaXplZElucHV0Lmlzb1dlZWsgfHwgMCxcbiAgICAgICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuICAgICAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBpc0R1cmF0aW9uVmFsaWQobm9ybWFsaXplZElucHV0KTtcblxuICAgICAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgICAgIHdlZWtzICogNztcbiAgICAgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0byB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAgICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAgICAgLy8gaXQgc2VwYXJhdGVseS5cbiAgICAgICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG4gICAgICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICAgICAgeWVhcnMgKiAxMjtcblxuICAgICAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XG4gICAgYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuICAgICAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy8gdGltZXpvbmUgY2h1bmtlclxuICAgIC8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuICAgIC8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxuICAgIHZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuICAgIGZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XG5cbiAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBtaW51dGVzID09PSAwID9cbiAgICAgICAgICAwIDpcbiAgICAgICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgICAgICB2YXIgcmVzLCBkaWZmO1xuICAgICAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG4gICAgICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgICAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG4gICAgfVxuXG4gICAgLy8gSE9PS1NcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cbiAgICAvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbiAgICBob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4gICAgLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuICAgIC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbiAgICAvL1xuICAgIC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuICAgIC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbiAgICAvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUsIGtlZXBNaW51dGVzKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0O1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNiAmJiAha2VlcE1pbnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGNyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/IG9mZnNldCA6IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1VUQykge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgICAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuICAgICAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblxuICAgICAgICBpZiAoYy5fYSkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG4gICAgdmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtfFxcKyk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbiAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAvLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG4gICAgdmFyIGlzb1JlZ2V4ID0gL14oLXxcXCspP1AoPzooWy0rXT9bMC05LC5dKilZKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilXKT8oPzooWy0rXT9bMC05LC5dKilEKT8oPzpUKD86KFstK10/WzAtOSwuXSopSCk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopUyk/KT8kLztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcbiAgICAgICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgICAgIHNpZ24sXG4gICAgICAgICAgICByZXQsXG4gICAgICAgICAgICBkaWZmUmVzO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSAgOiAwLFxuICAgICAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTtcblxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG4gICAgICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuICAgIGNyZWF0ZUR1cmF0aW9uLmludmFsaWQgPSBjcmVhdGVJbnZhbGlkJDE7XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG4gICAgICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG4gICAgICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgICAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuICAgICAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXMgPSB7fTtcblxuICAgICAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzO1xuICAgICAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICAgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuICAgICAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgICAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIC8vIE5vIG9wXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICAgICAgaWYgKG1vbnRocykge1xuICAgICAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF5cykge1xuICAgICAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblxuICAgIGZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICAgICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgICAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICAgICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnO1xuXG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpIHx8ICdtaWxsaXNlY29uZCc7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICAgICAgdmFyIGxvY2FsRnJvbSA9IGlzTW9tZW50KGZyb20pID8gZnJvbSA6IGNyZWF0ZUxvY2FsKGZyb20pLFxuICAgICAgICAgICAgbG9jYWxUbyA9IGlzTW9tZW50KHRvKSA/IHRvIDogY3JlYXRlTG9jYWwodG8pO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbEZyb20uaXNWYWxpZCgpICYmIGxvY2FsVG8uaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICAgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGxvY2FsRnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUobG9jYWxGcm9tLCB1bml0cykpICYmXG4gICAgICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJyA/IHRoaXMuaXNCZWZvcmUobG9jYWxUbywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcihsb2NhbFRvLCB1bml0cykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgICAgICBpbnB1dE1zO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB8fCAnbWlsbGlzZWNvbmQnO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LCB1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LCB1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgICAgIHZhciB0aGF0LFxuICAgICAgICAgICAgem9uZURlbHRhLFxuICAgICAgICAgICAgb3V0cHV0O1xuXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgICAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpIC8gMTI7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KSAvIDM7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDFlMzsgYnJlYWs7IC8vIDEwMDBcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZSc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyA2ZTQ7IGJyZWFrOyAvLyAxMDAwICogNjBcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMzZlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICBjYXNlICdkYXknOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQgLSB6b25lRGVsdGEpIC8gODY0ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDYwNDhlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWZhdWx0OiBvdXRwdXQgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAgICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcbiAgICAgICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcbiAgICAgICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgICAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICAgICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG4gICAgfVxuXG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG4gICAgaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA9ICdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJztcblxuICAgIGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSVNPU3RyaW5nKGtlZXBPZmZzZXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHV0YyA9IGtlZXBPZmZzZXQgIT09IHRydWU7XG4gICAgICAgIHZhciBtID0gdXRjID8gdGhpcy5jbG9uZSgpLnV0YygpIDogdGhpcztcbiAgICAgICAgaWYgKG0ueWVhcigpIDwgMCB8fCBtLnllYXIoKSA+IDk5OTkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgdXRjID8gJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTWicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIGlmICh1dGMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkgKyB0aGlzLnV0Y09mZnNldCgpICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1onLCBmb3JtYXRNb21lbnQobSwgJ1onKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCB1dGMgPyAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICAgICAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZ1bmMgPSAnbW9tZW50JztcbiAgICAgICAgdmFyIHpvbmUgPSAnJztcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuICAgICAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgICAgICB6b25lID0gJ1onO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgICAgICB2YXIgeWVhciA9ICgwIDw9IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XG4gICAgICAgIHZhciBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgICAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgICAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG4gICAgICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHt0bzogdGhpcywgZnJvbTogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0byAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgLy8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuICAgIC8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbiAgICAvLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgaWYgKG5ld0xvY2FsZURhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsYW5nID0gZGVwcmVjYXRlKFxuICAgICAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgICAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xuICAgIH1cblxuICAgIHZhciBNU19QRVJfU0VDT05EID0gMTAwMDtcbiAgICB2YXIgTVNfUEVSX01JTlVURSA9IDYwICogTVNfUEVSX1NFQ09ORDtcbiAgICB2YXIgTVNfUEVSX0hPVVIgPSA2MCAqIE1TX1BFUl9NSU5VVEU7XG4gICAgdmFyIE1TX1BFUl80MDBfWUVBUlMgPSAoMzY1ICogNDAwICsgOTcpICogMjQgKiBNU19QRVJfSE9VUjtcblxuICAgIC8vIGFjdHVhbCBtb2R1bG8gLSBoYW5kbGVzIG5lZ2F0aXZlIG51bWJlcnMgKGZvciBkYXRlcyBiZWZvcmUgMTk3MCk6XG4gICAgZnVuY3Rpb24gbW9kJDEoZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgICAgcmV0dXJuIChkaXZpZGVuZCAlIGRpdmlzb3IgKyBkaXZpc29yKSAlIGRpdmlzb3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxTdGFydE9mRGF0ZSh5LCBtLCBkKSB7XG4gICAgICAgIC8vIHRoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDApIHtcbiAgICAgICAgICAgIC8vIHByZXNlcnZlIGxlYXAgeWVhcnMgdXNpbmcgYSBmdWxsIDQwMCB5ZWFyIGN5Y2xlLCB0aGVuIHJlc2V0XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeSArIDQwMCwgbSwgZCkgLSBNU19QRVJfNDAwX1lFQVJTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHksIG0sIGQpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHV0Y1N0YXJ0T2ZEYXRlKHksIG0sIGQpIHtcbiAgICAgICAgLy8gRGF0ZS5VVEMgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCkge1xuICAgICAgICAgICAgLy8gcHJlc2VydmUgbGVhcCB5ZWFycyB1c2luZyBhIGZ1bGwgNDAwIHllYXIgY3ljbGUsIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIHJldHVybiBEYXRlLlVUQyh5ICsgNDAwLCBtLCBkKSAtIE1TX1BFUl80MDBfWUVBUlM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5VVEMoeSwgbSwgZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgICAgICB2YXIgdGltZTtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnIHx8ICF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhcnRPZkRhdGUgPSB0aGlzLl9pc1VUQyA/IHV0Y1N0YXJ0T2ZEYXRlIDogbG9jYWxTdGFydE9mRGF0ZTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIDAsIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSB0aGlzLm1vbnRoKCkgJSAzLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSB0aGlzLndlZWtkYXkoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLCBNU19QRVJfSE9VUik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9kLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB0aW1lIC09IG1vZCQxKHRpbWUsIE1TX1BFUl9NSU5VVEUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSAtPSBtb2QkMSh0aW1lLCBNU19QRVJfU0VDT05EKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Quc2V0VGltZSh0aW1lKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICAgICAgdmFyIHRpbWU7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJyB8fCAhdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0T2ZEYXRlID0gdGhpcy5faXNVVEMgPyB1dGNTdGFydE9mRGF0ZSA6IGxvY2FsU3RhcnRPZkRhdGU7XG5cbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpICsgMSwgMCwgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkgLSB0aGlzLm1vbnRoKCkgJSAzICsgMywgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgIHRpbWUgPSBzdGFydE9mRGF0ZSh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpICsgMSwgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgICAgICAgICAgdGltZSA9IHN0YXJ0T2ZEYXRlKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCksIHRoaXMuZGF0ZSgpIC0gdGhpcy53ZWVrZGF5KCkgKyA3KSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgLSAodGhpcy5pc29XZWVrZGF5KCkgLSAxKSArIDcpIC0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gc3RhcnRPZkRhdGUodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSwgdGhpcy5kYXRlKCkgKyAxKSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfSE9VUiAtIG1vZCQxKHRpbWUgKyAodGhpcy5faXNVVEMgPyAwIDogdGhpcy51dGNPZmZzZXQoKSAqIE1TX1BFUl9NSU5VVEUpLCBNU19QRVJfSE9VUikgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfTUlOVVRFIC0gbW9kJDEodGltZSwgTVNfUEVSX01JTlVURSkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fZC52YWx1ZU9mKCk7XG4gICAgICAgICAgICAgICAgdGltZSArPSBNU19QRVJfU0VDT05EIC0gbW9kJDEodGltZSwgTVNfUEVSX1NFQ09ORCkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZC5zZXRUaW1lKHRpbWUpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bml4ICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuICAgICAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG4gICAgICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG4gICAgICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgICAgICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQkMiAoKSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG4gICAgfVxuXG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgICAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgICAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbiAgICBhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgICAgIHJldHVybiBpc1N0cmljdCA/XG4gICAgICAgICAgKGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZSB8fCBsb2NhbGUuX29yZGluYWxQYXJzZSkgOlxuICAgICAgICAgIGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQ7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbiAgICBhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdKTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG4gICAgYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG4gICAgYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdTU1MnLCAgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXG4gICAgdmFyIHRva2VuO1xuICAgIGZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICAgICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIHBhcnNlTXMpO1xuICAgIH1cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZScgOiAnJztcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XG4gICAgcHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xuICAgIHByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG4gICAgcHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xuICAgIHByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG4gICAgcHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG4gICAgcHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xuICAgIHByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbiAgICBwcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xuICAgIHByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XG4gICAgcHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG4gICAgcHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG4gICAgcHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xuICAgIHByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG4gICAgcHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG4gICAgcHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XG4gICAgcHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xuICAgIHByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG4gICAgcHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDI7XG4gICAgcHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xuICAgIHByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xuICAgIHByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcbiAgICBwcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbiAgICBwcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbiAgICBwcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcbiAgICBwcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbiAgICBwcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG4gICAgcHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcbiAgICBwcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG4gICAgcHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbiAgICBwcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcbiAgICBwcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xuICAgIHByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbiAgICBwcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcbiAgICBwcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xuICAgIHByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbiAgICBwcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XG4gICAgcHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG4gICAgcHJvdG8ueWVhciAgICAgICA9IGdldFNldFllYXI7XG4gICAgcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG4gICAgcHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbiAgICBwcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuICAgIHByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG4gICAgcHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbiAgICBwcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuICAgIHByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbiAgICBwcm90by5pc29XZWVrICAgICAgICA9IHByb3RvLmlzb1dlZWtzICAgICA9IGdldFNldElTT1dlZWs7XG4gICAgcHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbiAgICBwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuICAgIHByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xuICAgIHByb3RvLmRheSAgICAgICAgPSBwcm90by5kYXlzICAgICAgICAgICAgID0gZ2V0U2V0RGF5T2ZXZWVrO1xuICAgIHByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG4gICAgcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBwcm90by5kYXlPZlllYXIgID0gZ2V0U2V0RGF5T2ZZZWFyO1xuICAgIHByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG4gICAgcHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcbiAgICBwcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuICAgIHByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XG4gICAgcHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG4gICAgcHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbiAgICBwcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG4gICAgcHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbiAgICBwcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xuICAgIHByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG4gICAgcHJvdG8uaXNMb2NhbCAgICAgICAgICAgICAgPSBpc0xvY2FsO1xuICAgIHByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG4gICAgcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBwcm90by5pc1VUQyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuICAgIHByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG4gICAgcHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcbiAgICBwcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG4gICAgcHJvdG8ubW9udGhzID0gZGVwcmVjYXRlKCdtb250aHMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbnRoIGluc3RlYWQnLCBnZXRTZXRNb250aCk7XG4gICAgcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG4gICAgcHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xuICAgIHByb3RvLmlzRFNUU2hpZnRlZCA9IGRlcHJlY2F0ZSgnaXNEU1RTaGlmdGVkIGlzIGRlcHJlY2F0ZWQuIFNlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RzdC1zaGlmdGVkLyBmb3IgbW9yZSBpbmZvcm1hdGlvbicsIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cblxuICAgIHZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxuICAgIHByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG4gICAgcHJvdG8kMS5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xuICAgIHByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbiAgICBwcm90byQxLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbiAgICBwcm90byQxLnBhc3RGdXR1cmUgICAgICA9IHBhc3RGdXR1cmU7XG4gICAgcHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbiAgICBwcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG4gICAgcHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xuICAgIHByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuICAgIHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2VlaztcblxuICAgIHByb3RvJDEud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbiAgICBwcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1BhcnNlICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXG4gICAgcHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWtkYXlzTWluUmVnZXggICAgPSAgICAgICAgd2Vla2RheXNNaW5SZWdleDtcblxuICAgIHByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG4gICAgZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpO1xuICAgICAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8vICgpXG4gICAgLy8gKDUpXG4gICAgLy8gKGZtdCwgNSlcbiAgICAvLyAoZm10KVxuICAgIC8vICh0cnVlKVxuICAgIC8vICh0cnVlLCA1KVxuICAgIC8vICh0cnVlLCBmbXQsIDUpXG4gICAgLy8gKHRydWUsIGZtdClcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuICAgICAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuICAgIH1cblxuICAgIGdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG4gICAgICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgaG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuICAgIGhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblxuICAgIHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBhYnMgKCkge1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcbiAgICAgICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgICAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG4gICAgICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICAgICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICAgICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG4gICAgICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICAgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgICAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICAgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICAgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5cztcbiAgICAgICAgdmFyIG1vbnRocztcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzogICByZXR1cm4gbW9udGhzO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOiByZXR1cm4gbW9udGhzIC8gMztcbiAgICAgICAgICAgICAgICBjYXNlICd5ZWFyJzogICAgcmV0dXJuIG1vbnRocyAvIDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hvdXInICAgOiByZXR1cm4gZGF5cyAqIDI0ICAgICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXG4gICAgICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcbiAgICAgICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG4gICAgdmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG4gICAgdmFyIGFzTWludXRlcyAgICAgID0gbWFrZUFzKCdtJyk7XG4gICAgdmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG4gICAgdmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG4gICAgdmFyIGFzV2Vla3MgICAgICAgID0gbWFrZUFzKCd3Jyk7XG4gICAgdmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG4gICAgdmFyIGFzUXVhcnRlcnMgICAgID0gbWFrZUFzKCdRJyk7XG4gICAgdmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cbiAgICBmdW5jdGlvbiBjbG9uZSQxICgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpc1t1bml0cyArICdzJ10oKSA6IE5hTjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2RhdGFbbmFtZV0gOiBOYU47XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ21pbGxpc2Vjb25kcycpO1xuICAgIHZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG4gICAgdmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcbiAgICB2YXIgaG91cnMgICAgICAgID0gbWFrZUdldHRlcignaG91cnMnKTtcbiAgICB2YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcbiAgICB2YXIgeWVhcnMgICAgICAgID0gbWFrZUdldHRlcigneWVhcnMnKTtcblxuICAgIGZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICAgICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG4gICAgfVxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbiAgICB2YXIgdGhyZXNob2xkcyA9IHtcbiAgICAgICAgc3M6IDQ0LCAgICAgICAgIC8vIGEgZmV3IHNlY29uZHMgdG8gc2Vjb25kc1xuICAgICAgICBzIDogNDUsICAgICAgICAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICAgICAgbSA6IDQ1LCAgICAgICAgIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgICAgICBoIDogMjIsICAgICAgICAgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgIGQgOiAyNiwgICAgICAgICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgICAgIE0gOiAxMSAgICAgICAgICAvLyBtb250aHMgdG8geWVhclxuICAgIH07XG5cbiAgICAvLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuICAgIGZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICAgICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgICAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICAgICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgICAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgICAgICB2YXIgYSA9IHNlY29uZHMgPD0gdGhyZXNob2xkcy5zcyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgICAgICBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICAgJiYgWydzcycsIHNlY29uZHNdIHx8XG4gICAgICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAgICYmIFsnbSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gICAmJiBbJ21tJywgbWludXRlc10gfHxcbiAgICAgICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAgICYmIFsnaGgnLCBob3Vyc10gICB8fFxuICAgICAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICAgJiYgWydkZCcsIGRheXNdICAgIHx8XG4gICAgICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAgICYmIFsnTSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gICAmJiBbJ01NJywgbW9udGhzXSAgfHxcbiAgICAgICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgICAgICBhWzRdID0gbG9jYWxlO1xuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG4gICAgICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByb3VuZCA9IHJvdW5kaW5nRnVuY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG4gICAgZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkICh0aHJlc2hvbGQsIGxpbWl0KSB7XG4gICAgICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgICAgICB9XG4gICAgICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAncycpIHtcbiAgICAgICAgICAgIHRocmVzaG9sZHMuc3MgPSBsaW1pdCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIHZhciBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblxuICAgICAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgYWJzJDEgPSBNYXRoLmFicztcblxuICAgIGZ1bmN0aW9uIHNpZ24oeCkge1xuICAgICAgICByZXR1cm4gKCh4ID4gMCkgLSAoeCA8IDApKSB8fCAreDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgICAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuICAgICAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG4gICAgICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAgICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuICAgICAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuICAgICAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAgICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2Vjb25kcyA9IGFicyQxKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG4gICAgICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgICAgICB2YXIgbWludXRlcywgaG91cnMsIHllYXJzO1xuXG4gICAgICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgICAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICAgICAgc2Vjb25kcyAlPSA2MDtcbiAgICAgICAgbWludXRlcyAlPSA2MDtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICAgICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAgICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2RvcmRpbGxlL21vbWVudC1pc29kdXJhdGlvbi9ibG9iL21hc3Rlci9tb21lbnQuaXNvZHVyYXRpb24uanNcbiAgICAgICAgdmFyIFkgPSB5ZWFycztcbiAgICAgICAgdmFyIE0gPSBtb250aHM7XG4gICAgICAgIHZhciBEID0gZGF5cztcbiAgICAgICAgdmFyIGggPSBob3VycztcbiAgICAgICAgdmFyIG0gPSBtaW51dGVzO1xuICAgICAgICB2YXIgcyA9IHNlY29uZHMgPyBzZWNvbmRzLnRvRml4ZWQoMykucmVwbGFjZSgvXFwuPzArJC8sICcnKSA6ICcnO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXG4gICAgICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgICAgIHJldHVybiAnUDBEJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFNpZ24gPSB0b3RhbCA8IDAgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIHltU2lnbiA9IHNpZ24odGhpcy5fbW9udGhzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIGRheXNTaWduID0gc2lnbih0aGlzLl9kYXlzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICAgICAgdmFyIGhtc1NpZ24gPSBzaWduKHRoaXMuX21pbGxpc2Vjb25kcykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG5cbiAgICAgICAgcmV0dXJuIHRvdGFsU2lnbiArICdQJyArXG4gICAgICAgICAgICAoWSA/IHltU2lnbiArIFkgKyAnWScgOiAnJykgK1xuICAgICAgICAgICAgKE0gPyB5bVNpZ24gKyBNICsgJ00nIDogJycpICtcbiAgICAgICAgICAgIChEID8gZGF5c1NpZ24gKyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgICAgICgoaCB8fCBtIHx8IHMpID8gJ1QnIDogJycpICtcbiAgICAgICAgICAgIChoID8gaG1zU2lnbiArIGggKyAnSCcgOiAnJykgK1xuICAgICAgICAgICAgKG0gPyBobXNTaWduICsgbSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAocyA/IGhtc1NpZ24gKyBzICsgJ1MnIDogJycpO1xuICAgIH1cblxuICAgIHZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG4gICAgcHJvdG8kMi5pc1ZhbGlkICAgICAgICA9IGlzVmFsaWQkMTtcbiAgICBwcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xuICAgIHByb3RvJDIuYWRkICAgICAgICAgICAgPSBhZGQkMTtcbiAgICBwcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcbiAgICBwcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG4gICAgcHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xuICAgIHByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG4gICAgcHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbiAgICBwcm90byQyLmFzSG91cnMgICAgICAgID0gYXNIb3VycztcbiAgICBwcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xuICAgIHByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xuICAgIHByb3RvJDIuYXNNb250aHMgICAgICAgPSBhc01vbnRocztcbiAgICBwcm90byQyLmFzUXVhcnRlcnMgICAgID0gYXNRdWFydGVycztcbiAgICBwcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcbiAgICBwcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xuICAgIHByb3RvJDIuX2J1YmJsZSAgICAgICAgPSBidWJibGU7XG4gICAgcHJvdG8kMi5jbG9uZSAgICAgICAgICA9IGNsb25lJDE7XG4gICAgcHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xuICAgIHByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG4gICAgcHJvdG8kMi5zZWNvbmRzICAgICAgICA9IHNlY29uZHM7XG4gICAgcHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG4gICAgcHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xuICAgIHByb3RvJDIuZGF5cyAgICAgICAgICAgPSBkYXlzO1xuICAgIHByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcbiAgICBwcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xuICAgIHByb3RvJDIueWVhcnMgICAgICAgICAgPSB5ZWFycztcbiAgICBwcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG4gICAgcHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG4gICAgcHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbiAgICBwcm90byQyLmxvY2FsZURhdGEgICAgID0gbG9jYWxlRGF0YTtcblxuICAgIHByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG4gICAgcHJvdG8kMi5sYW5nID0gbGFuZztcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdYJywgMCwgMCwgJ3VuaXgnKTtcbiAgICBhZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCd4JywgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG4gICAgYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KGlucHV0LCAxMCkgKiAxMDAwKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XG4gICAgfSk7XG5cbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuICAgIGhvb2tzLnZlcnNpb24gPSAnMi4yNC4wJztcblxuICAgIHNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cbiAgICBob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbiAgICBob29rcy5taW4gICAgICAgICAgICAgICAgICAgPSBtaW47XG4gICAgaG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuICAgIGhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbiAgICBob29rcy51dGMgICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVVEM7XG4gICAgaG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcbiAgICBob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuICAgIGhvb2tzLmlzRGF0ZSAgICAgICAgICAgICAgICA9IGlzRGF0ZTtcbiAgICBob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG4gICAgaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbiAgICBob29rcy5kdXJhdGlvbiAgICAgICAgICAgICAgPSBjcmVhdGVEdXJhdGlvbjtcbiAgICBob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcbiAgICBob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG4gICAgaG9va3MucGFyc2Vab25lICAgICAgICAgICAgID0gY3JlYXRlSW5ab25lO1xuICAgIGhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcbiAgICBob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuICAgIGhvb2tzLm1vbnRoc1Nob3J0ICAgICAgICAgICA9IGxpc3RNb250aHNTaG9ydDtcbiAgICBob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG4gICAgaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuICAgIGhvb2tzLnVwZGF0ZUxvY2FsZSAgICAgICAgICA9IHVwZGF0ZUxvY2FsZTtcbiAgICBob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcbiAgICBob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbiAgICBob29rcy5ub3JtYWxpemVVbml0cyAgICAgICAgPSBub3JtYWxpemVVbml0cztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyAgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbiAgICBob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG4gICAgaG9va3MuY2FsZW5kYXJGb3JtYXQgICAgICAgID0gZ2V0Q2FsZW5kYXJGb3JtYXQ7XG4gICAgaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbiAgICAvLyBjdXJyZW50bHkgSFRNTDUgaW5wdXQgdHlwZSBvbmx5IHN1cHBvcnRzIDI0LWhvdXIgZm9ybWF0c1xuICAgIGhvb2tzLkhUTUw1X0ZNVCA9IHtcbiAgICAgICAgREFURVRJTUVfTE9DQUw6ICdZWVlZLU1NLUREVEhIOm1tJywgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIC8+XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX1NFQ09ORFM6ICdZWVlZLU1NLUREVEhIOm1tOnNzJywgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMX01TOiAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1MnLCAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMC4wMDFcIiAvPlxuICAgICAgICBEQVRFOiAnWVlZWS1NTS1ERCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cImRhdGVcIiAvPlxuICAgICAgICBUSU1FOiAnSEg6bW0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiAvPlxuICAgICAgICBUSU1FX1NFQ09ORFM6ICdISDptbTpzcycsICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMVwiIC8+XG4gICAgICAgIFRJTUVfTVM6ICdISDptbTpzcy5TU1MnLCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgICAgIFdFRUs6ICdHR0dHLVtXXVdXJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwid2Vla1wiIC8+XG4gICAgICAgIE1PTlRIOiAnWVlZWS1NTScgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwibW9udGhcIiAvPlxuICAgIH07XG5cbiAgICByZXR1cm4gaG9va3M7XG5cbn0pKSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwidmFyIG1hcCA9IHtcblx0XCIuL3RyYW5zbGF0aW9uX2VuLmpzb25cIjogXCIuL3NyYy9pMThuL3RyYW5zbGF0aW9uX2VuLmpzb25cIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi9zcmMvaTE4biBzeW5jIHJlY3Vyc2l2ZSBeXFxcXC5cXFxcL3RyYW5zbGF0aW9uXy4qXFxcXC5qc29uJFwiOyIsIi8qXG4gQ09NUEVUSVRJT04gTEFCUyBMVEQgdjEuMC41XG4gKGMpIDIwMTUtMjAyMCBBbGVrc2FuZHIgQmVybm90YXNcbiBMaWNlbnNlOiB3d3cuY29tcGV0aXRpb25sYWJzLmNvbS90ZXJtcy1vZi1zZXJ2aWNlXG4qL1xuXG5pbXBvcnQgJy4vcG9seWZpbGxzJztcbmltcG9ydCAnLi9wb2x5ZmlsbHMvY3NzVmFycyc7XG5pbXBvcnQgJy4vbW9kdWxlcy9zZXRUaW1lb3V0R2xvYmFsJztcblxuaW1wb3J0IHsgTGJXaWRnZXQgfSBmcm9tICcuL21vZHVsZXMvTGJXaWRnZXQnO1xuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdy5fY2xMZWFkZXJCb2FyZFYzU2VsZkluaXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Ll9jbExlYWRlckJvYXJkVjNTZWxmSW5pdCA9IExiV2lkZ2V0O1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybignd2luZG93Ll9jbExlYWRlckJvYXJkVjNTZWxmSW5pdCBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgfVxufSkoKTtcbiIsImltcG9ydCBjTGFicyBmcm9tICcuL2NMYWJzJztcbmltcG9ydCBzaXplb2YgZnJvbSAnLi4vdXRpbHMvc2l6ZW9mJztcblxuLyoqXG4gKiBBamF4IG1ldGhvZFxuICpcbiAqIEBjbGFzcyBBamF4XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY0xhYnMuQWpheCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbn07XG5cbmNMYWJzLkFqYXgucHJvdG90eXBlLmNyZWF0ZUNPUlNSZXF1ZXN0ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsKSB7XG4gIHZhciBvYmogPSB0aGlzO1xuXG4gIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiBvYmoueGhyKSB7XG4gICAgLy8gTW9zdCBicm93c2Vycy5cbiAgICBvYmoueGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBJRTggJiBJRTlcbiAgICAvKiBlc2xpbnQgbm8tdW5kZWY6IFwib2ZmXCIgKi9cbiAgICBvYmoueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG5cbiAgICB1cmwgPSAodXJsLmluZGV4T2YoJ2h0dHBzJykgPiAtMSAmJiBsb2NhdGlvbi5wcm90b2NvbCAhPT0gJ2h0dHBzOicpID8gdXJsLnJlcGxhY2UoJ2h0dHBzJywgJ2h0dHAnKSA6IHVybDtcblxuICAgIG9iai54aHIub3BlbihtZXRob2QsIHVybCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ09SUyBub3Qgc3VwcG9ydGVkLlxuICAgIG9iai54aHIgPSBudWxsO1xuICB9XG4gIHJldHVybiBvYmoueGhyO1xufTtcblxuY0xhYnMuQWpheC5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKF90aGlzLnhociAmJiB0eXBlb2YgX3RoaXMueGhyLnJlYWR5U3RhdGUgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnhoci5yZWFkeVN0YXRlICE9PSA0ICYmIF90aGlzLnhoci5yZWFkeVN0YXRlID4gMCkge1xuICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJhYm9ydGluZyBBamF4XCIsIF90aGlzLnhoci5yZWFkeVN0YXRlLCBfdGhpcy54aHIpO1xuICAgIF90aGlzLnhoci5hYm9ydCgpO1xuICB9XG5cbiAgcmV0dXJuIF90aGlzO1xufTtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgZGF0YSBmcm9tIGEgVVJMIHdpdGhvdXQgcGFnZSByZWZyZXNoXG4gKlxuICogQG1ldGhvZCBnZXREYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlndXJhdGlvbiBvYmplY3RcbiAqICAtIG9iamVjdCBjb250YWluczogSFRUUCBtZXRob2QgXCJ0eXBlOiBQT1NULCBHRVRcIiwgdXJsOiB0byBzZW5kIHRoZSByZXF1ZXN0IHRvLCBkYXRhOiB7b2JqZWN0fVxuICogQHJldHVybiB7U3RyaW5nfSBpbiBzdWNjZXNzIG9iamVjdFxuICovXG5jTGFicy5BamF4LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIG9iaiA9IHRoaXM7XG5cbiAgdHJ5IHtcbiAgICBkYXRhLnR5cGUgPSAoZGF0YS50eXBlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGRhdGEudHlwZSA9PT0gJ3N0cmluZycgJiYgZGF0YS50eXBlLmxlbmd0aCA+IDApID8gZGF0YS50eXBlIDogJ1BPU1QnO1xuICAgIGRhdGEuZGF0YSA9IChkYXRhLmRhdGEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZGF0YS5kYXRhID09PSAnb2JqZWN0JykgPyBkYXRhLmRhdGEgOiB7fTtcbiAgICBkYXRhLnVybCA9IChkYXRhLnVybCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBkYXRhLnVybCA9PT0gJ3N0cmluZycgJiYgZGF0YS51cmwubGVuZ3RoID4gMCkgPyBkYXRhLnVybCA6ICcnO1xuICAgIGRhdGEuc3VjY2VzcyA9IChkYXRhLnN1Y2Nlc3MgIT09IHVuZGVmaW5lZCkgPyBkYXRhLnN1Y2Nlc3MgOiBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBkYXRhLmVycm9yID0gKGRhdGEuZXJyb3IgIT09IHVuZGVmaW5lZCkgPyBkYXRhLmVycm9yIDogZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgZGF0YS5oZWFkZXJzID0gKGRhdGEuaGVhZGVycyAhPT0gdW5kZWZpbmVkKSA/IGRhdGEuaGVhZGVycyA6IHt9O1xuICAgIGRhdGEuZXh0cmFDYWxsYmFjayA9IChkYXRhLmV4dHJhQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgPyBkYXRhLmV4dHJhQ2FsbGJhY2sgOiBmdW5jdGlvbiAoKSB7XG4gICAgfTtcblxuICAgIC8vIGNyb3NzIGJyb3dzZXIgQ09SUyBzdXBwb3J0XG4gICAgb2JqLnhociA9IHRoaXMuY3JlYXRlQ09SU1JlcXVlc3QoZGF0YS50eXBlLCBkYXRhLnVybCk7XG5cbiAgICBvYmoueGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRhdGEuZXh0cmFDYWxsYmFjayhkYXRhLCBvYmoueGhyKTtcbiAgICAgIGRhdGEuc3VjY2VzcyhvYmoueGhyLnJlc3BvbnNlVGV4dCwgZGF0YSwgb2JqLnhocik7XG4gICAgfTtcblxuICAgIG9iai54aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRhdGEuZXJyb3Iob2JqLnhoci5zdGF0dXMpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHNpemVvZihkYXRhLmhlYWRlcnMpID4gMCkge1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgZm9yIChpdGVtIGluIGRhdGEuaGVhZGVycykge1xuICAgICAgICAgIG9iai54aHIuc2V0UmVxdWVzdEhlYWRlcihpdGVtLCBkYXRhLmhlYWRlcnNbaXRlbV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKChkYXRhLnR5cGUgPT09ICdQT1NUJyB8fCBkYXRhLnR5cGUgPT09ICdQVVQnKSAmJiBzaXplb2YoZGF0YS5oZWFkZXJzKSA9PT0gMCkge1xuICAgICAgICBvYmoueGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmoueGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb2JqLnhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YSkpO1xuXG4gICAgcmV0dXJuIG9iai54aHI7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH1cbn07XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgSWRlbnRpY29uIGZyb20gJ2lkZW50aWNvbi5qcyc7XG5pbXBvcnQganNTSEEgZnJvbSAnanNzaGEnO1xuXG5pbXBvcnQgbWVyZ2VPYmplY3RzIGZyb20gJy4uL3V0aWxzL21lcmdlT2JqZWN0cyc7XG5pbXBvcnQgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zIGZyb20gJy4uL3V0aWxzL2Zvcm1hdE51bWJlckxlYWRpbmdaZXJvcyc7XG5pbXBvcnQgc3RyaW5nQ29udGFpbnMgZnJvbSAnLi4vdXRpbHMvc3RyaW5nQ29udGFpbnMnO1xuaW1wb3J0IG9iamVjdEl0ZXJhdG9yIGZyb20gJy4uL3V0aWxzL29iamVjdEl0ZXJhdG9yJztcbmltcG9ydCBxdWVyeSBmcm9tICcuLi91dGlscy9xdWVyeSc7XG5pbXBvcnQgaGFzQ2xhc3MgZnJvbSAnLi4vdXRpbHMvaGFzQ2xhc3MnO1xuaW1wb3J0IGFkZENsYXNzIGZyb20gJy4uL3V0aWxzL2FkZENsYXNzJztcbmltcG9ydCByZW1vdmVDbGFzcyBmcm9tICcuLi91dGlscy9yZW1vdmVDbGFzcyc7XG5pbXBvcnQgY2xvc2VzdCBmcm9tICcuLi91dGlscy9jbG9zZXN0JztcbmltcG9ydCBpc01vYmlsZVRhYmxldCBmcm9tICcuLi91dGlscy9pc01vYmlsZVRhYmxldCc7XG5cbmltcG9ydCBjTGFicyBmcm9tICcuL2NMYWJzJztcbmltcG9ydCAnLi9BamF4JztcblxuaW1wb3J0IHsgTm90aWZpY2F0aW9ucyB9IGZyb20gJy4vTm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgeyBNaW5pU2NvcmVCb2FyZCB9IGZyb20gJy4vTWluaVNjb3JlQm9hcmQnO1xuaW1wb3J0IHsgTWFpbldpZGdldCB9IGZyb20gJy4vTWFpbldpZGdldCc7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZShgLi4vLi4vaTE4bi90cmFuc2xhdGlvbl8ke3Byb2Nlc3MuZW52LkxBTkd9Lmpzb25gKTtcblxuLyoqXG4gKiBNYWluIGxlYWRlcmJvYXJkIHdpZGdldCwgY29udHJvbHMgYWxsIGFjdGlvbnMgYW5kIGluaXRpYXRpb24gbG9naWMuXG4gKiBNYWluIHJlc3BvbnNpYmlsaXR5IGlzIHRvIGNvbnRyb2wgdGhlIGludGVyYWN0aW9ucyBiZXR3ZWVuIGRpZmZlcmVudCB3aWRnZXRzL3BsdWdpbnMgYW5kIHVzZXIgZXZlbiBhY3Rpb25zXG4gKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fSBzZXR0aW5nIHBhcmFtZXRlcnMgdXNlZCB0byBvdmVyd3JpdGUgdGhlIGRlZmF1bHQgc2V0dGluZ3NcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY29uc3QgTGJXaWRnZXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB0aGlzLnNldHRpbmdzID0ge1xuICAgIGRlYnVnOiB0cnVlLFxuICAgIGJpbmRDb250YWluZXI6IGRvY3VtZW50LmJvZHksXG4gICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgIHNzZU1lc3NhZ2luZzogbnVsbCxcbiAgICBub3RpZmljYXRpb25zOiBudWxsLFxuICAgIG1pbmlTY29yZUJvYXJkOiBudWxsLFxuICAgIGVuYWJsZU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgbWFpbldpZGdldDogbnVsbCxcbiAgICBnbG9iYWxBamF4OiBuZXcgY0xhYnMuQWpheCgpLFxuICAgIGNoZWNrQWpheDogbmV3IGNMYWJzLkFqYXgoKSxcbiAgICBsYW5ndWFnZTogcHJvY2Vzcy5lbnYuTEFORyxcbiAgICBjdXJyZW5jeTogJycsXG4gICAgc3BhY2VOYW1lOiAnJyxcbiAgICBtZW1iZXJJZDogJycsXG4gICAgZ3JvdXBzOiAnJyxcbiAgICBnYW1lSWQ6ICcnLFxuICAgIGVuZm9yY2VHYW1lTG9va3VwOiBmYWxzZSwgLy8gdG91cm5hbWVudCBsb29rdXAgd2lsbCBpbmNsdWRlL2V4Y2x1ZGUgZ2FtZSBvbmx5IHJlcXVlc3RzXG4gICAgYXBpS2V5OiAnJyxcbiAgICBtZW1iZXI6IG51bGwsXG4gICAgY29tcGV0aXRpb246IHtcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uSWQ6IG51bGwsXG4gICAgICBhY3RpdmVDb250ZXN0SWQ6IG51bGwsXG4gICAgICBhY3RpdmVDb21wZXRpdGlvbjogbnVsbCxcbiAgICAgIGFjdGl2ZUNvbnRlc3Q6IG51bGwsXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IG51bGwsXG4gICAgICByZWZyZXNoSW50ZXJ2YWxNaWxsaXM6IDEwMDAwLFxuICAgICAgZXh0cmFjdEltYWdlSGVhZGVyOiB0cnVlIC8vIHdpbGwgZXh0cmFjdCB0aGUgZmlyc3QgZm91bmQgaW1hZ2UgaW5zaWRlIHRoZSBib2R5IHRhZyBhbmQgbW92ZSBpdCBvbiB0b3BcbiAgICB9LFxuICAgIGFjaGlldmVtZW50czoge1xuICAgICAgbGlzdDogW10sXG4gICAgICBhdmFpbGFibGVSZXdhcmRzOiBbXSxcbiAgICAgIHJld2FyZHM6IFtdLFxuICAgICAgZXhwaXJlZFJld2FyZHM6IFtdLFxuICAgICAgZXh0cmFjdEltYWdlSGVhZGVyOiB0cnVlIC8vIHdpbGwgZXh0cmFjdCB0aGUgZmlyc3QgZm91bmQgaW1hZ2UgaW5zaWRlIHRoZSBib2R5IHRhZyBhbmQgbW92ZSBpdCBvbiB0b3BcbiAgICB9LFxuICAgIHJld2FyZHM6IHtcbiAgICAgIGF2YWlsYWJsZVJld2FyZHM6IFtdLFxuICAgICAgcmV3YXJkczogW10sXG4gICAgICBleHBpcmVkUmV3YXJkczogW10sXG4gICAgICByZXdhcmRGb3JtYXR0ZXI6IGZ1bmN0aW9uIChyZXdhcmQpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRSZXdhcmRWYWx1ZSA9IHJld2FyZC52YWx1ZTtcblxuICAgICAgICBpZiAodHlwZW9mIHJld2FyZC51bml0T2ZNZWFzdXJlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcmV3YXJkLnVuaXRPZk1lYXN1cmUuc3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiByZXdhcmQudW5pdE9mTWVhc3VyZS5zeW1ib2wgIT09IG51bGwpIHtcbiAgICAgICAgICBkZWZhdWx0UmV3YXJkVmFsdWUgPSByZXdhcmQudW5pdE9mTWVhc3VyZS5zeW1ib2wgKyByZXdhcmQudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmYXVsdFJld2FyZFZhbHVlO1xuICAgICAgfVxuICAgIH0sXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgIG1lc3NhZ2VzOiBbXVxuICAgIH0sXG4gICAgdG91cm5hbWVudHM6IHtcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uSWQ6IG51bGwsXG4gICAgICByZWFkeUNvbXBldGl0aW9uczogW10sIC8vIHN0YXR1c0NvZGUgM1xuICAgICAgYWN0aXZlQ29tcGV0aXRpb25zOiBbXSwgLy8gc3RhdHVzQ29kZSA1XG4gICAgICBmaW5pc2hlZENvbXBldGl0aW9uczogW10gLy8gc3RhdHVzQ29kZSA3XG4gICAgfSxcbiAgICBsZWFkZXJib2FyZDoge1xuICAgICAgZnVsbExlYWRlcmJvYXJkU2l6ZTogMTAwLFxuICAgICAgcmVmcmVzaEludGVydmFsTWlsbGlzOiAzMDAwLFxuICAgICAgcmVmcmVzaEludGVydmFsOiBudWxsLFxuICAgICAgcmVmcmVzaExiRGF0YUludGVydmFsOiBudWxsLFxuICAgICAgbGVhZGVyYm9hcmREYXRhOiBbXSxcbiAgICAgIGxvYWRMZWFkZXJib2FyZEhpc3Rvcnk6IHt9XG5cbiAgICB9LFxuICAgIHVyaToge1xuICAgICAgZ2F0ZXdheURvbWFpbjogY0xhYnMuYXBpLnVybCxcblxuICAgICAgbWVtYmVyczogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZCcsXG4gICAgICBhc3NldHM6ICcvYXNzZXRzL2F0dGFjaG1lbnRzLzphdHRhY2htZW50SWQnLFxuXG4gICAgICBtZW1iZXJTU0U6ICcvYXBpL3YxLzpzcGFjZS9zc2UvcmVmZXJlbmNlLzppZCcsXG4gICAgICBtZW1iZXJTU0VIZWFydGJlYXQ6ICcvYXBpL3YxLzpzcGFjZS9zc2UvcmVmZXJlbmNlLzppZC9oZWFydGJlYXQnLFxuXG4gICAgICBjb21wZXRpdGlvbnM6ICcvYXBpL3YxLzpzcGFjZS9jb21wZXRpdGlvbnMnLFxuICAgICAgY29tcGV0aXRpb25CeUlkOiAnL2FwaS92MS86c3BhY2UvY29tcGV0aXRpb25zLzppZCcsXG4gICAgICBjb250ZXN0TGVhZGVyYm9hcmQ6ICcvYXBpL3YxLzpzcGFjZS9jb250ZXN0cy86aWQvbGVhZGVyYm9hcmQnLFxuXG4gICAgICBhY2hpZXZlbWVudDogJy9hcGkvdjEvOnNwYWNlL2FjaGlldmVtZW50cy86aWQnLFxuICAgICAgYWNoaWV2ZW1lbnRzOiAnL2FwaS92MS86c3BhY2UvYWNoaWV2ZW1lbnRzL21lbWJlcnMvcmVmZXJlbmNlLzppZCcsXG4gICAgICAvLyBhY2hpZXZlbWVudHM6IFwiL2FwaS92MS86c3BhY2UvYWNoaWV2ZW1lbnRzXCIsXG4gICAgICBhY2hpZXZlbWVudHNQcm9ncmVzc2lvbjogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9hY2hpZXZlbWVudHMnLFxuICAgICAgYWNoaWV2ZW1lbnRzSXNzdWVkOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2FjaGlldmVtZW50cy9pc3N1ZWQnLFxuXG4gICAgICBtZXNzYWdlczogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9tZXNzYWdlcycsXG4gICAgICBtZXNzYWdlQnlJZDogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9tZXNzYWdlcy86bWVzc2FnZUlkJyxcblxuICAgICAgbWVtYmVyUmV3YXJkOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2F3YXJkLzphd2FyZElkJyxcbiAgICAgIG1lbWJlclJld2FyZENsYWltOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2F3YXJkLzphd2FyZElkL2F3YXJkJyxcblxuICAgICAgbWVtYmVyQ29tcGV0aXRpb25zOiAnL2FwaS92MS86c3BhY2UvbWVtYmVycy9yZWZlcmVuY2UvOmlkL2NvbXBldGl0aW9ucycsXG4gICAgICBtZW1iZXJDb21wZXRpdGlvbkJ5SWQ6ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvY29tcGV0aXRpb24vOmNvbXBldGl0aW9uSWQnLFxuICAgICAgbWVtYmVyQ29tcGV0aXRpb25PcHRJbjogJy9hcGkvdjEvOnNwYWNlL21lbWJlcnMvcmVmZXJlbmNlLzppZC9jb21wZXRpdGlvbi86Y29tcGV0aXRpb25JZC9vcHRpbicsXG4gICAgICBtZW1iZXJDb21wZXRpdGlvbk9wdEluQ2hlY2s6ICcvYXBpL3YxLzpzcGFjZS9tZW1iZXJzL3JlZmVyZW5jZS86aWQvY29tcGV0aXRpb24vOmNvbXBldGl0aW9uSWQvb3B0aW4tY2hlY2snLFxuXG4gICAgICB0cmFuc2xhdGlvblBhdGg6ICcnIC8vIC4uL2kxOG4vdHJhbnNsYXRpb25fOmxhbmd1YWdlLmpzb25cbiAgICB9LFxuICAgIGxvYWRUcmFuc2xhdGlvbnM6IHRydWUsXG4gICAgdHJhbnNsYXRpb246IHRyYW5zbGF0aW9uLFxuICAgIHJlc291cmNlczogW1xuICAgICAgKGNMYWJzLmFwaS51cmwgKyAnL2Fzc2V0cy93aWRnZXRzL2xlYWRlcmJvYXJkX3YzL2Nzcy9zdHlsZS5jc3M/dD0nICsgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSksXG4gICAgICAoY0xhYnMuYXBpLnVybCArICcvYXNzZXRzL3dpZGdldHMvbGVhZGVyYm9hcmRfdjMvY3NzL2ZvbnRzLmNzcz90PScgKyAobmV3IERhdGUoKS5nZXRUaW1lKCkpKVxuICAgIF0sXG4gICAgbGF5b3V0QnVpbGRDYWxsYmFjazogZnVuY3Rpb24gKGxheW91dCwgaW5zdGFuY2UpIHtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBtZXJnZU9iamVjdHModGhpcy5zZXR0aW5ncywgb3B0aW9ucyk7XG4gIH1cblxuICB0aGlzLmxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBGb3JtYXQgZHVyYXRpb24gb2YgRGF0ZSBUaW1lIGZyb20gbW9tZW50KCkgb2JqZWN0XG4gICAqIEBwYXJhbSBkdXJhdGlvbiB7bW9tZW50fVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgdGhpcy5mb3JtYXREYXRlVGltZSA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxhcmdlUmVzdWx0ID0gW107XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGlmIChkdXJhdGlvbi5kYXlzKCkpIGxhcmdlUmVzdWx0LnB1c2goZHVyYXRpb24uZGF5cygpICsgJzxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj4nICsgX3RoaXMuc2V0dGluZ3MudHJhbnNsYXRpb24udGltZS5kYXlzICsgJzwvc3Bhbj4nKTtcbiAgICBpZiAoZHVyYXRpb24uaG91cnMoKSB8fCBkdXJhdGlvbi5kYXlzKCkgPiAwKSB7XG4gICAgICByZXN1bHQucHVzaChmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoZHVyYXRpb24uaG91cnMoKSwgMikgKyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLmhvdXJzICsgJzwvc3Bhbj4nKTtcbiAgICB9IGVsc2UgcmVzdWx0LnB1c2goJzAwPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLmhvdXJzICsgJzwvc3Bhbj4nKTtcbiAgICBpZiAoZHVyYXRpb24ubWludXRlcygpIHx8IGR1cmF0aW9uLmhvdXJzKCkgPiAwIHx8IGR1cmF0aW9uLmRheXMoKSA+IDApIHtcbiAgICAgIHJlc3VsdC5wdXNoKGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkdXJhdGlvbi5taW51dGVzKCksIDIpICsgKChkdXJhdGlvbi5kYXlzKCkgPiAwKSA/ICc8c3BhbiBjbGFzcz1cInRpbWUtaW5kXCI+JyArIF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnRpbWUubWludXRlcyArICc8L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cInRpbWUtaW5kXCI+JyArIF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnRpbWUubWludXRlc1Nob3J0SGFuZCArICc8L3NwYW4+JykpO1xuICAgIH0gZWxzZSAocmVzdWx0LnB1c2goJzAwJyArICgoZHVyYXRpb24uZGF5cygpID4gMCkgPyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLm1pbnV0ZXMgKyAnPC9zcGFuPicgOiAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLm1pbnV0ZXNTaG9ydEhhbmQgKyAnPC9zcGFuPicpKSk7XG4gICAgLy8gaWYgKGR1cmF0aW9uLnNlY29uZHMoKSAmJiBkdXJhdGlvbi5kYXlzKCkgPT09IDApeyByZXN1bHQucHVzaCggZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGR1cmF0aW9uLnNlY29uZHMoKSwgMikgKyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPnM8L3NwYW4+JyApIH1lbHNlIGlmKGR1cmF0aW9uLmRheXMoKSA9PT0gMCl7cmVzdWx0LnB1c2goICcwMDxzcGFuIGNsYXNzPVwidGltZS1pbmRcIj5zPC9zcGFuPicgKX07XG4gICAgcmVzdWx0LnB1c2goZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGR1cmF0aW9uLnNlY29uZHMoKSwgMikgKyAnPHNwYW4gY2xhc3M9XCJ0aW1lLWluZFwiPicgKyBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi50aW1lLnNlY29uZHMgKyAnPC9zcGFuPicpO1xuICAgIHJldHVybiAobGFyZ2VSZXN1bHQubGVuZ3RoID4gMCkgPyAobGFyZ2VSZXN1bHQuam9pbignICcpICsgJyAnICsgcmVzdWx0LmpvaW4oJzonKSkgOiByZXN1bHQuam9pbignOicpO1xuICB9O1xuXG4gIHRoaXMucG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgIC8qIGVzbGludCBuZXctY2FwOiBcIm9mZlwiICovXG4gICAgICB2YXIgc2hhT2JqID0gbmV3IGpzU0hBKCdTSEEtNTEyJywgJ1RFWFQnKTtcbiAgICAgIHNoYU9iai51cGRhdGUoc3RyKTtcbiAgICAgIHZhciBoYXNoID0gc2hhT2JqLmdldEhhc2goJ0hFWCcsIDEpO1xuICAgICAgdmFyIGRhdGEgPSBuZXcgSWRlbnRpY29uKGhhc2gsIHtcbiAgICAgICAgYmFja2dyb3VuZDogWzI1NSwgMjU1LCAyNTUsIDI1NV0sIC8vIHJnYmEgd2hpdGVcbiAgICAgICAgbWFyZ2luOiAwLjEsIC8vIDIwJSBtYXJnaW5cbiAgICAgICAgc2l6ZTogMjIsIC8vIDQyMHB4IHNxdWFyZVxuICAgICAgICBmb3JtYXQ6ICdzdmcnIC8vIHVzZSBTVkcgaW5zdGVhZCBvZiBQTkdcbiAgICAgIH0pLnRvU3RyaW5nKCk7XG5cbiAgICAgIHZhciBpY29uID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJyArIGRhdGE7XG5cbiAgICAgIHJldHVybiBpY29uO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBnZXQgYSBsaXN0IG9mIGF2YWlsYWJsZSBjb21wZXRpdGlvbiBmaWx0ZXJlZCBieSBwcm92aWRlZCBnbG9iYWwgY3JpdGVyaWFcbiAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn1cbiAgICovXG4gIHZhciBjb21wZXRpdGlvbkNoZWNrQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuY2hlY2tGb3JBdmFpbGFibGVDb21wZXRpdGlvbnMgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGFqYXhJbnN0YW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHVybCA9IChfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApID8gKFxuICAgICAgX3RoaXMuc2V0dGluZ3MudXJpLmNvbXBldGl0aW9ucy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpXG4gICAgKSA6IChcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJDb21wZXRpdGlvbnMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZClcbiAgICApO1xuICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgJ3N0YXR1c0NvZGU+PT0zJyxcbiAgICAgICdzdGF0dXNDb2RlPD09NScsXG4gICAgICAnX3NvcnRCeUZpZWxkcz1vcHRpb25zLnNjaGVkdWxlZERhdGVzLmVuZDpkZXNjJyxcbiAgICAgICgnX2xhbmc9JyArIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKVxuICAgIF07XG4gICAgdmFyIGFqYXhJbnN0YW5jZVRvVXNlID0gKHR5cGVvZiBhamF4SW5zdGFuY2UgIT09ICd1bmRlZmluZWQnICYmIGFqYXhJbnN0YW5jZSAhPT0gbnVsbCkgPyBhamF4SW5zdGFuY2UgOiBjb21wZXRpdGlvbkNoZWNrQWpheDtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kgPT09ICdzdHJpbmcnICYmIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGZpbHRlcnMucHVzaCgnX3VvbUtleScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSk7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmdhbWVJZC5sZW5ndGggPiAwICYmIF90aGlzLnNldHRpbmdzLmVuZm9yY2VHYW1lTG9va3VwKSB7XG4gICAgICBmaWx0ZXJzLnB1c2goJ29wdGlvbnMucHJvZHVjdHMucHJvZHVjdFJlZklkPScgKyBfdGhpcy5zZXR0aW5ncy5nYW1lSWQpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5ncm91cHMubGVuZ3RoID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbHRlcnMucHVzaCgnb3B0aW9ucy5saW1pdEVudHJhbnRzVG89JyArIF90aGlzLnNldHRpbmdzLmdyb3Vwcyk7XG4gICAgfVxuXG4gICAgYWpheEluc3RhbmNlVG9Vc2UuYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/JyArIGZpbHRlcnMuam9pbignJicpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5yZWFkeUNvbXBldGl0aW9ucyA9IFtdO1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgd2luZG93Lm1hcE9iamVjdChqc29uLmRhdGEsIGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgICAgICBpZiAoY29tcC5zdGF0dXNDb2RlID09PSAzKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLnJlYWR5Q29tcGV0aXRpb25zLnB1c2goY29tcCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXAuc3RhdHVzQ29kZSA9PT0gNSkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbnMucHVzaChjb21wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzLmNoZWNrRm9yRmluaXNoZWRDb21wZXRpdGlvbnMoY2FsbGJhY2ssIGFqYXhJbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBY3RpdmVDb21wZXRpdGlvbnMgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBnZXQgYSBsaXN0IG9mIGZpbmlzaGVkIGNvbXBldGl0aW9uIGZpbHRlcmVkIGJ5IHByb3ZpZGVkIGdsb2JhbCBjcml0ZXJpYVxuICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufVxuICAgKi9cbiAgdmFyIGNvbXBldGl0aW9uRmluaXNoZWRDaGVja0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuICB0aGlzLmNoZWNrRm9yRmluaXNoZWRDb21wZXRpdGlvbnMgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGFqYXhJbnN0YW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHVybCA9IChfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApID8gKFxuICAgICAgX3RoaXMuc2V0dGluZ3MudXJpLmNvbXBldGl0aW9ucy5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpXG4gICAgKSA6IChcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJDb21wZXRpdGlvbnMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZClcbiAgICApO1xuICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgJ3N0YXR1c0NvZGU9NycsXG4gICAgICAnX2xpbWl0PTEwJyxcbiAgICAgICdfc29ydEJ5RmllbGRzPW9wdGlvbnMuc2NoZWR1bGVkRGF0ZXMuZW5kOmRlc2MnLFxuICAgICAgKCdfbGFuZz0nICsgX3RoaXMuc2V0dGluZ3MubGFuZ3VhZ2UpXG4gICAgXTtcbiAgICB2YXIgYWpheEluc3RhbmNlVG9Vc2UgPSAodHlwZW9mIGFqYXhJbnN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgYWpheEluc3RhbmNlICE9PSBudWxsKSA/IGFqYXhJbnN0YW5jZSA6IGNvbXBldGl0aW9uRmluaXNoZWRDaGVja0FqYXg7XG5cbiAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5ID09PSAnc3RyaW5nJyAmJiBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeS5sZW5ndGggPiAwKSB7XG4gICAgICBmaWx0ZXJzLnB1c2goJ191b21LZXknICsgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kpO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5nYW1lSWQubGVuZ3RoID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5lbmZvcmNlR2FtZUxvb2t1cCkge1xuICAgICAgZmlsdGVycy5wdXNoKCdvcHRpb25zLnByb2R1Y3RzLnByb2R1Y3RSZWZJZD0nICsgX3RoaXMuc2V0dGluZ3MuZ2FtZUlkKTtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZ3JvdXBzLmxlbmd0aCA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQubGVuZ3RoID09PSAwKSB7XG4gICAgICBmaWx0ZXJzLnB1c2goJ29wdGlvbnMubGltaXRFbnRyYW50c1RvPScgKyBfdGhpcy5zZXR0aW5ncy5ncm91cHMpO1xuICAgIH1cblxuICAgIGFqYXhJbnN0YW5jZVRvVXNlLmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnPycgKyBmaWx0ZXJzLmpvaW4oJyYnKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuZmluaXNoZWRDb21wZXRpdGlvbnMgPSBbXTtcblxuICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbi5kYXRhLCBmdW5jdGlvbiAoY29tcCkge1xuICAgICAgICAgICAgaWYgKGNvbXAuc3RhdHVzQ29kZSA9PT0gNykge1xuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5maW5pc2hlZENvbXBldGl0aW9ucy5wdXNoKGNvbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBY3RpdmVDb21wZXRpdGlvbnMgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMucHJlcGFyZUFjdGl2ZUNvbXBldGl0aW9uID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgYWN0aXZlQ29tcGV0aXRpb24gPSBudWxsO1xuICAgIHZhciBhY3RpdmVDb21wZXRpdGlvbklkID0gbnVsbDtcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbklkICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cubWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9ucywgZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgaWYgKGNvbXAuaWQgPT09IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQpIHtcbiAgICAgICAgICBhY3RpdmVDb21wZXRpdGlvbiA9IGNvbXA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5yZWFkeUNvbXBldGl0aW9ucywgZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgaWYgKGNvbXAuaWQgPT09IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQpIHtcbiAgICAgICAgICBhY3RpdmVDb21wZXRpdGlvbiA9IGNvbXA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5maW5pc2hlZENvbXBldGl0aW9ucywgZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgaWYgKGNvbXAuaWQgPT09IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQpIHtcbiAgICAgICAgICBhY3RpdmVDb21wZXRpdGlvbiA9IGNvbXA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWN0aXZlQ29tcGV0aXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgYWN0aXZlQ29tcGV0aXRpb25JZCA9IF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRzLmFjdGl2ZUNvbXBldGl0aW9uSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5hY3RpdmVDb21wZXRpdGlvbklkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlQ29tcGV0aXRpb24gPT09IG51bGwgJiYgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uID0gX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25zWzBdO1xuICAgICAgYWN0aXZlQ29tcGV0aXRpb25JZCA9IGFjdGl2ZUNvbXBldGl0aW9uLmlkO1xuICAgIH0gZWxzZSBpZiAoYWN0aXZlQ29tcGV0aXRpb24gPT09IG51bGwgJiYgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMucmVhZHlDb21wZXRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgYWN0aXZlQ29tcGV0aXRpb24gPSBfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50cy5yZWFkeUNvbXBldGl0aW9uc1swXTtcbiAgICAgIGFjdGl2ZUNvbXBldGl0aW9uSWQgPSBhY3RpdmVDb21wZXRpdGlvbi5pZDtcbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlQ29tcGV0aXRpb25JZCA9PT0gbnVsbCkgeyAvLyBubyBhY3RpdmUgb3IgcmVhZHkgY29tcGV0aXRpb25zIGZvdW5kXG4gICAgICBfdGhpcy5kZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbklkICE9PSBhY3RpdmVDb21wZXRpdGlvbklkICYmIGFjdGl2ZUNvbXBldGl0aW9uSWQgIT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gPSBhY3RpdmVDb21wZXRpdGlvbjtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb25JZCA9IGFjdGl2ZUNvbXBldGl0aW9uSWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVDb21wZXRpdGlvbklkICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLmxvYWRBY3RpdmVDb21wZXRpdGlvbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgIF90aGlzLnNldEFjdGl2ZUNvbXBldGl0aW9uKGpzb24sIGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLmxvYWRBY3RpdmVDb21wZXRpdGlvbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHVybCA9IChfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZC5sZW5ndGggPT09IDApID8gKFxuICAgICAgX3RoaXMuc2V0dGluZ3MudXJpLmNvbXBldGl0aW9uQnlJZC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uSWQpXG4gICAgKSA6IChcbiAgICAgIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJDb21wZXRpdGlvbkJ5SWQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCkucmVwbGFjZSgnOmNvbXBldGl0aW9uSWQnLCBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbklkKVxuICAgICk7XG4gICAgdmFyIGZpbHRlcnMgPSBbXG4gICAgICAoJ19pbmNsdWRlPXN0cmF0ZWd5JyksXG4gICAgICAoJ19sYW5nPScgKyBfdGhpcy5zZXR0aW5ncy5sYW5ndWFnZSlcbiAgICBdO1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kubGVuZ3RoID4gMCkge1xuICAgICAgZmlsdGVycy5wdXNoKCdfdW9tS2V5JyArIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5KTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5nbG9iYWxBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnPycgKyBmaWx0ZXJzLmpvaW4oJyYnKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2soanNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGxvYWRBY3RpdmVDb21wZXRpdGlvbiAnICsgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXRBY3RpdmVDb21wZXRpdGlvbiA9IGZ1bmN0aW9uIChqc29uLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiA9IGpzb24uZGF0YTtcbiAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ID0gbnVsbDtcbiAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWQgPSBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBqc29uLmRhdGEuY29udGVzdHMgIT09ICd1bmRlZmluZWQnICYmIGpzb24uZGF0YS5jb250ZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICB3aW5kb3cubWFwT2JqZWN0KGpzb24uZGF0YS5jb250ZXN0cywgZnVuY3Rpb24gKGNvbnRlc3QpIHtcbiAgICAgICAgaWYgKGNvbnRlc3Quc3RhdHVzQ29kZSA8IDcgJiYgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCA9PT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgPSBjb250ZXN0O1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZCA9IGNvbnRlc3QuaWQ7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcyA9IFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByZXdhcmRzID0gW107XG4gICAgICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMsIGZ1bmN0aW9uIChyZXdhcmQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmV3YXJkLnJld2FyZFJhbmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHZhciByYW5rUGFydHMgPSByZXdhcmQucmV3YXJkUmFuay5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICB2YXIgcmV3YXJkUmFuayA9IFtdO1xuXG4gICAgICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QocmFua1BhcnRzLCBmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgICAgIGlmIChzdHJpbmdDb250YWlucyhwYXJ0LCAnLScpKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcmFua1JhbmdlID0gcGFydC5zcGxpdCgnLScpO1xuICAgICAgICAgICAgICAgICAgdmFyIHJhZ2VTdGFydCA9IHBhcnNlSW50KHJhbmtSYW5nZVswXSk7XG4gICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VFbmQgPSBwYXJzZUludChyYW5rUmFuZ2VbMV0pO1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJhZ2VTdGFydDsgaSA8PSByYW5nZUVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJld2FyZFJhbmsucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV3YXJkUmFuay5wdXNoKHBhcnNlSW50KHBhcnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJld2FyZC5yZXdhcmRSYW5rID0gcmV3YXJkUmFuaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV3YXJkcy5wdXNoKHJld2FyZCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMgPSByZXdhcmRzO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmdldExlYWRlcmJvYXJkRGF0YSA9IGZ1bmN0aW9uIChjb3VudCwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWQgIT09IG51bGwpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLmNvbnRlc3RMZWFkZXJib2FyZC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZCk7XG4gICAgICB2YXIgZmlsdGVycyA9IFtcbiAgICAgICAgJ19saW1pdD0nICsgY291bnQsXG4gICAgICAgICdyYW5raW5ncz0yJ1xuICAgICAgXTtcblxuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQubGVuZ3RoID4gMCkge1xuICAgICAgICBmaWx0ZXJzLnB1c2goJ21lbWJlcklkPScgKyBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnPycgKyBmaWx0ZXJzLmpvaW4oJyYnKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAvLyBpZihcbiAgICAgICAgICAgIC8vICAgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxvYWRMZWFkZXJib2FyZEhpc3RvcnlbX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkXSA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgLy8gICB8fFxuICAgICAgICAgICAgLy8gICAoXG4gICAgICAgICAgICAvLyAgICAgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxvYWRMZWFkZXJib2FyZEhpc3RvcnlbX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdElkXSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgLy8gICAgICYmXG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuc2V0dGluZ3MubG9hZExlYWRlcmJvYXJkSGlzdG9yeVtfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0SWRdICE9PSBkYXRhXG4gICAgICAgICAgICAvLyAgIClcbiAgICAgICAgICAgIC8vICkge1xuICAgICAgICAgICAgLy8gICBfdGhpcy5zZXR0aW5ncy5sb2FkTGVhZGVyYm9hcmRIaXN0b3J5W190aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZF0gPSB7XG4gICAgICAgICAgICAvLyAgICAgY2hhbmdlZDogdHJ1ZSxcbiAgICAgICAgICAgIC8vICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShqc29uLmRhdGEpXG4gICAgICAgICAgICAvLyAgIH07XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxlYWRlcmJvYXJkRGF0YSA9IGpzb24uZGF0YTtcblxuICAgICAgICAgICAgY2FsbGJhY2soanNvbi5kYXRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gZ2V0TGVhZGVyYm9hcmREYXRhICcgKyByZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNoZWNrQWNoaWV2ZW1lbnRzQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuY2hlY2tGb3JBdmFpbGFibGVBY2hpZXZlbWVudHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkuYWNoaWV2ZW1lbnRzLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpO1xuICAgIHZhciBmaWx0ZXJzID0gW1xuICAgICAgJ19saW1pdD0xMDAnLFxuICAgICAgJ19pbmNsdWRlPXJld2FyZHMnLFxuICAgICAgKCdfbGFuZz0nICsgX3RoaXMuc2V0dGluZ3MubGFuZ3VhZ2UpXG4gICAgXTtcbiAgICB2YXIgd2l0aEdyb3VwcyA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3kubGVuZ3RoID4gMCkge1xuICAgICAgZmlsdGVycy5wdXNoKCdfdW9tS2V5JyArIF90aGlzLnNldHRpbmdzLmN1cnJlbmN5KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLm1lbWJlci5ncm91cHMgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLm1lbWJlci5ncm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgd2l0aEdyb3VwcyA9IHRydWU7XG4gICAgICBmaWx0ZXJzLnB1c2goJ21lbWJlckdyb3Vwcz0nICsgX3RoaXMuc2V0dGluZ3MubWVtYmVyLmdyb3Vwcy5qb2luKCcsJykpO1xuICAgIH1cblxuICAgIGNoZWNrQWNoaWV2ZW1lbnRzQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz9fbGFuZz0nICsgX3RoaXMuc2V0dGluZ3MubGFuZ3VhZ2UgKyAnJl91b21LZXknICsgX3RoaXMuc2V0dGluZ3MuY3VycmVuY3ksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIGpzb25Gb3JBbGwgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0ID0gW107XG5cbiAgICAgICAgICB3aW5kb3cubWFwT2JqZWN0KGpzb25Gb3JBbGwuZGF0YSwgZnVuY3Rpb24gKGFjaCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLmxpc3QucHVzaChhY2gpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHdpdGhHcm91cHMpIHtcbiAgICAgICAgICAgIGNoZWNrQWNoaWV2ZW1lbnRzQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/JyArIGZpbHRlcnMuam9pbignJicpLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbi5kYXRhLCBmdW5jdGlvbiAoYWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50cy5saXN0LnB1c2goYWNoKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjayhfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudHMubGlzdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQXZhaWxhYmxlQWNoaWV2ZW1lbnRzICcgKyByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soanNvbkZvckFsbC5kYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JBdmFpbGFibGVBY2hpZXZlbWVudHMgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRBY2hpZXZlbWVudHNBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcbiAgdGhpcy5nZXRBY2hpZXZlbWVudCA9IGZ1bmN0aW9uIChhY2hpZXZlbWVudElkLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBnZXRBY2hpZXZlbWVudHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLmFjaGlldmVtZW50LnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgYWNoaWV2ZW1lbnRJZCkgKyAnP19sYW5nPScgKyBfdGhpcy5zZXR0aW5ncy5sYW5ndWFnZSArICcmX3VvbUtleScgKyBfdGhpcy5zZXR0aW5ncy5jdXJyZW5jeSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdldFJld2FyZEFqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuICB0aGlzLmdldFJld2FyZCA9IGZ1bmN0aW9uIChyZXdhcmRJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZ2V0UmV3YXJkQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLnVyaS5tZW1iZXJSZXdhcmQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCkucmVwbGFjZSgnOmF3YXJkSWQnLCByZXdhcmRJZCksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIHZhciBqc29uID0gbnVsbDtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayhqc29uKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRNZXNzYWdlQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuZ2V0TWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGdldE1lc3NhZ2VBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLm1lc3NhZ2VCeUlkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpLnJlcGxhY2UoJzptZXNzYWdlSWQnLCBtZXNzYWdlSWQpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICB2YXIganNvbiA9IG51bGw7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2soanNvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY2xhaW1SZXdhcmRBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcbiAgdGhpcy5jbGFpbVJld2FyZCA9IGZ1bmN0aW9uIChyZXdhcmRJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgY2xhaW1SZXdhcmRBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLm1lbWJlclJld2FyZENsYWltLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpLnJlcGxhY2UoJzphd2FyZElkJywgcmV3YXJkSWQpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgICB9LFxuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgdmFyIGpzb24gPSBudWxsO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKGpzb24pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNoZWNrRm9yTWVtYmVyQWNoaWV2ZW1lbnRzQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNJc3N1ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkuYWNoaWV2ZW1lbnRzSXNzdWVkLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpO1xuXG4gICAgY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICB2YXIgaWRMaXN0ID0gW107XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGpzb24uYWdncmVnYXRpb25zICE9PSAndW5kZWZpbmVkJyAmJiBqc29uLmFnZ3JlZ2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aW5kb3cubWFwT2JqZWN0KGpzb24uYWdncmVnYXRpb25zWzBdLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICBpZExpc3QucHVzaChpdGVtLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKGlkTGlzdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNJc3N1ZWQgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNQcm9ncmVzc2lvbiA9IGZ1bmN0aW9uIChpZExpc3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLmFjaGlldmVtZW50c1Byb2dyZXNzaW9uLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpO1xuXG4gICAgY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNQcm9ncmVzc2lvbkFqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArIChpZExpc3QubGVuZ3RoID4gMCA/ICgnP2lkPScgKyBpZExpc3Quam9pbignLCcpKSA6ICcnKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soanNvbi5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0Zvck1lbWJlckFjaGlldmVtZW50c1Byb2dyZXNzaW9uICcgKyByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzQWpheCA9IG5ldyBjTGFicy5BamF4KCk7XG4gIHRoaXMuY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdXJsID0gX3RoaXMuc2V0dGluZ3MudXJpLm1lc3NhZ2VzLnJlcGxhY2UoJzpzcGFjZScsIF90aGlzLnNldHRpbmdzLnNwYWNlTmFtZSkucmVwbGFjZSgnOmlkJywgX3RoaXMuc2V0dGluZ3MubWVtYmVySWQpO1xuXG4gICAgLy8gY2xhaW1lZCByZXdhcmRzXG4gICAgY2hlY2tGb3JBdmFpbGFibGVSZXdhcmRzQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgdXJsICsgJz9fc29ydEJ5RmllbGRzPWNyZWF0ZWQ6ZGVzYyZtZXNzYWdlVHlwZT1SZXdhcmQmcHJpemUuY2xhaW1lZD10cnVlJl9oYXNWYWx1ZXNGb3I9cHJpemUmX2xpbWl0PTEwMCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIGpzb25Gb3JBbGwgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZHMucmV3YXJkcyA9IFtdO1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZHMuYXZhaWxhYmxlUmV3YXJkcyA9IFtdO1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnJld2FyZHMuZXhwaXJlZFJld2FyZHMgPSBbXTtcblxuICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIGV4cGlyZWQgPSAodHlwZW9mIG1lc3NhZ2UuZXhwaXJ5ID09PSAndW5kZWZpbmVkJykgPyBmYWxzZSA6IChtb21lbnQobWVzc2FnZS5leHBpcnkpLmRpZmYobW9tZW50KCkpIDwgMCk7XG5cbiAgICAgICAgICAgIGlmICghZXhwaXJlZCkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLnJld2FyZHMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIG5vdC1jbGFpbWVkIHJld2FyZHNcbiAgICAgICAgICBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHNBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwgKyAnP19zb3J0QnlGaWVsZHM9Y3JlYXRlZDpkZXNjJm1lc3NhZ2VUeXBlPVJld2FyZCZwcml6ZS5jbGFpbWVkPWZhbHNlJl9oYXNWYWx1ZXNGb3I9cHJpemUmX2xpbWl0PTEwMCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGpzb25Gb3JBbGwgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZWQgPSAodHlwZW9mIG1lc3NhZ2UuZXhwaXJ5ID09PSAndW5kZWZpbmVkJykgPyBmYWxzZSA6IChtb21lbnQobWVzc2FnZS5leHBpcnkpLmRpZmYobW9tZW50KCkpIDwgMCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghZXhwaXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLmF2YWlsYWJsZVJld2FyZHMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGV4cGlyZWQgcmV3YXJkc1xuICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZSA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSArICctJyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcygoZGF0ZS5nZXRVVENNb250aCgpICsgMSksIDIpICsgJy0nICsgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGRhdGUuZ2V0VVRDRGF0ZSgpLCAyKSArICdUJyArIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyhkYXRlLmdldFVUQ0hvdXJzKCksIDIpICsgJzonICsgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKGRhdGUuZ2V0VVRDTWludXRlcygpLCAyKSArICc6MDAnO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/X3NvcnRCeUZpZWxkcz1jcmVhdGVkOmRlc2MmX2xpbWl0PTEwMCZtZXNzYWdlVHlwZT1SZXdhcmQmX2hhc1ZhbHVlc0Zvcj1leHBpcnkmZXhwaXJ5PD09JyArIHV0Y0RhdGUsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb25Gb3JBbGwgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5leHBpcmVkUmV3YXJkcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soX3RoaXMuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRzLCBfdGhpcy5zZXR0aW5ncy5yZXdhcmRzLmF2YWlsYWJsZVJld2FyZHMsIF90aGlzLnNldHRpbmdzLnJld2FyZHMuZXhwaXJlZFJld2FyZHMpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQXZhaWxhYmxlUmV3YXJkcyBleHBpcmVkICcgKyByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0ZvckF2YWlsYWJsZVJld2FyZHMgbm90LWNsYWltZWQgJyArIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLmxvZygnZmFpbGVkIHRvIGNoZWNrRm9yQXZhaWxhYmxlUmV3YXJkcyBjbGFpbWVkICcgKyByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlc0FqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuICB0aGlzLmNoZWNrRm9yQXZhaWxhYmxlTWVzc2FnZXMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkubWVzc2FnZXMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCk7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0TW9udGgoKSAtIDEpO1xuXG4gICAgdmFyIGNyZWF0ZWREYXRlRmlsdGVyID0gZGF0ZS5nZXRGdWxsWWVhcigpICsgJy0nICsgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zKChkYXRlLmdldE1vbnRoKCkgKyAxKSwgMikgKyAnLScgKyBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3MoZGF0ZS5nZXREYXRlKCksIDIpO1xuXG4gICAgY2hlY2tGb3JBdmFpbGFibGVNZXNzYWdlc0FqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIHVybCArICc/X3NvcnRCeUZpZWxkcz1jcmVhdGVkOmRlc2MmX2hhc05vVmFsdWVzRm9yPXByaXplJl9saW1pdD0xMDAmY3JlYXRlZD49PScgKyBjcmVhdGVkRGF0ZUZpbHRlcixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtQVBJLUtFWSc6IF90aGlzLnNldHRpbmdzLmFwaUtleVxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgZGF0YU9iaiwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIganNvbkZvckFsbCA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMubWVzc2FnZXMgPSBbXTtcblxuICAgICAgICAgIHdpbmRvdy5tYXBPYmplY3QoanNvbkZvckFsbC5kYXRhLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLm1lc3NhZ2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBjaGVja0ZvckF2YWlsYWJsZU1lc3NhZ2VzICcgKyByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb3B0SW5NZW1iZXJBamF4ID0gbmV3IGNMYWJzLkFqYXgoKTtcbiAgdGhpcy5vcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB1cmwgPSBfdGhpcy5zZXR0aW5ncy51cmkubWVtYmVyQ29tcGV0aXRpb25PcHRJbi5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLm1lbWJlcklkKS5yZXBsYWNlKCc6Y29tcGV0aXRpb25JZCcsIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uSWQpO1xuXG4gICAgb3B0SW5NZW1iZXJBamF4LmFib3J0KCkuZ2V0RGF0YSh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyB1cmwsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5sb2coJ2ZhaWxlZCB0byBvcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24gJyArIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXZhbGlkYXRpb25Db3VudCA9IDA7XG4gIHRoaXMucmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5sb2FkQWN0aXZlQ29tcGV0aXRpb24oZnVuY3Rpb24gKGNvbXBldGl0aW9uSnNvbikge1xuICAgICAgaWYgKHR5cGVvZiBjb21wZXRpdGlvbkpzb24uZGF0YS5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmICFjb21wZXRpdGlvbkpzb24uZGF0YS5vcHRpbikge1xuICAgICAgICByZXZhbGlkYXRpb25Db3VudCsrO1xuXG4gICAgICAgIGlmIChyZXZhbGlkYXRpb25Db3VudCA8IDUpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJldmFsaWRhdGVJZlN1Y2Nlc3NmdWxsT3B0SW4oY2FsbGJhY2spO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2YWxpZGF0aW9uQ291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb21wZXRpdGlvbkpzb24uZGF0YS5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmIGNvbXBldGl0aW9uSnNvbi5kYXRhLm9wdGluKSB7XG4gICAgICAgIGNhbGxiYWNrKGNvbXBldGl0aW9uSnNvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5sZWFkZXJib2FyZERhdGFSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaExiRGF0YUludGVydmFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQucmVmcmVzaExiRGF0YUludGVydmFsKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAoX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gIT09IG51bGwgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluUmVxdWlyZWQgPT09ICdib29sZWFuJyAmJiAhX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCkgfHxcbiAgICAgICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW4gPT09ICdib29sZWFuJyAmJiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbilcbiAgICApIHtcbiAgICAgIHZhciBjb3VudCA9IChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUpID8gMCA6IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmZ1bGxMZWFkZXJib2FyZFNpemU7XG4gICAgICBfdGhpcy5nZXRMZWFkZXJib2FyZERhdGEoY291bnQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUpIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLmxvYWRTY29yZUJvYXJkKCk7XG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkTGVhZGVyYm9hcmQoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMubGVhZGVyYm9hcmREYXRhUmVmcmVzaCgpO1xuICAgIH0sIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbE1pbGxpcyk7XG4gIH07XG5cbiAgdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIF90aGlzLmNoZWNrRm9yQXZhaWxhYmxlQ29tcGV0aXRpb25zKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnByZXBhcmVBY3RpdmVDb21wZXRpdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb3VudCA9IChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUpID8gMCA6IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmZ1bGxMZWFkZXJib2FyZFNpemU7XG5cbiAgICAgICAgLy8gY2xlYXIgdG8gbm90IGNsYXNoIHdpdGggTEIgcmVmcmVzaCB0aGF0IGNvdWxkIGhhcHBlbiBhdCBzYW1lIHRpbWVcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSB8fCBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCA9PT0gJ2Jvb2xlYW4nICYmICFfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkKSB8fFxuICAgICAgICAgICAgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLm9wdGluKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgX3RoaXMuZ2V0TGVhZGVyYm9hcmREYXRhKGNvdW50LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5sb2FkU2NvcmVCb2FyZCgpO1xuICAgICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5hY3RpdmUpIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZExlYWRlcmJvYXJkKCk7XG5cbiAgICAgICAgICAgICAgLy8gcmUtc3RhcnQgbGVhZGVyYm9hcmQgcmVmcmVzaFxuICAgICAgICAgICAgICBfdGhpcy5sZWFkZXJib2FyZERhdGFSZWZyZXNoKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlKSBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5sb2FkU2NvcmVCb2FyZCgpO1xuICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MuYWN0aXZlKSB7XG4gICAgICAgICAgICAgIF90aGlzLmdldExlYWRlcmJvYXJkRGF0YShjb3VudCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRMZWFkZXJib2FyZCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVzdGFydCBsZWFkZXJib2FyZCByZWZyZXNoXG4gICAgICAgICAgICBfdGhpcy5sZWFkZXJib2FyZERhdGFSZWZyZXNoKCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSkgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQubG9hZFNjb3JlQm9hcmQoKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLnJlZnJlc2hJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xuICAgIH0sIF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLnJlZnJlc2hJbnRlcnZhbE1pbGxpcyk7XG4gIH07XG5cbiAgdGhpcy5kZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLmNsZWFyQWxsKCk7XG4gICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5jbGVhckFsbCgpO1xuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5zdG9wQWN0aXZpdHkgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCk7XG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCk7XG4gICAgICBjbGVhckludGVydmFsKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hMYkRhdGFJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLnVwZGF0ZUludGVydmFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwpO1xuICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVzdGFydEFjdGl2aXR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmFjdGl2ZUNvbXBldGl0aW9uRGF0YVJlZnJlc2goKTtcbiAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC51cGRhdGVTY29yZUJvYXJkKCk7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmxvYWRNZW1iZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MuZ2xvYmFsQWpheC5hYm9ydCgpLmdldERhdGEoe1xuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MudXJpLm1lbWJlcnMucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5tZW1iZXJJZCksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmosIHhocikge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1lbWJlciA9IGpzb24uZGF0YTtcblxuICAgICAgICAgIGNhbGxiYWNrKGpzb24uZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubG9nKCdmYWlsZWQgdG8gbG9hZE1lbWJlciAnICsgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5sb2FkV2lkZ2V0VHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MudXJpLnRyYW5zbGF0aW9uUGF0aCA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MudXJpLnRyYW5zbGF0aW9uUGF0aC5sZW5ndGggPiAwICYmIF90aGlzLnNldHRpbmdzLmxvYWRUcmFuc2xhdGlvbnMpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmdsb2JhbEFqYXguYWJvcnQoKS5nZXREYXRhKHtcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIHVybDogX3RoaXMuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy51cmkudHJhbnNsYXRpb25QYXRoLnJlcGxhY2UoJzpsYW5ndWFnZScsIF90aGlzLnNldHRpbmdzLmxhbmd1YWdlKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdYLUFQSS1LRVknOiBfdGhpcy5zZXR0aW5ncy5hcGlLZXlcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqLCB4aHIpIHtcbiAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbiA9IG1lcmdlT2JqZWN0cyhfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbiwganNvbik7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmxvZygnbm8gdHJhbnNsYXRpb24gZm9vdW5kICcgKyByZXNwb25zZSk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5zdGFydHVwID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5pbml0TGF5b3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XG4gICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKCk7XG5cbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5lbmFibGVOb3RpZmljYXRpb25zKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm5vdGlmaWNhdGlvbnMuaW5pdCgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5jbGVhbnVwKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIF9jbGVhbnVwSW5zdGFuY2U7XG4gIHRoaXMuY2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF9jbGVhbnVwSW5zdGFuY2UpIHtcbiAgICAgIGNsZWFyVGltZW91dChfY2xlYW51cEluc3RhbmNlKTtcbiAgICB9XG5cbiAgICBfY2xlYW51cEluc3RhbmNlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnByZUxvYWRlclJlcnVuKCk7XG5cbiAgICAgIF90aGlzLmNsZWFudXAoKTtcbiAgICB9LCAzMDAwKTtcbiAgfTtcblxuICB0aGlzLmxvYWRTdHlsZXNoZWV0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgY3JlYXRlZFJlc291cmNlcyA9IGZhbHNlO1xuICAgIHZhciBhdmFpbGFibGVMaW5rcyA9IFtdO1xuXG4gICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoJ2xpbmsnKSwgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgIGlmIChsaW5rICE9PSBudWxsKSB7XG4gICAgICAgIGF2YWlsYWJsZUxpbmtzLnB1c2gobGluay5ocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHdpbmRvdy5tYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MucmVzb3VyY2VzLCBmdW5jdGlvbiAocmVzb3VyY2UsIGtleSwgY291bnQpIHtcbiAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcblxuICAgICAgd2luZG93Lm1hcE9iamVjdChhdmFpbGFibGVMaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgaWYgKGxpbmsgPT09IHJlc291cmNlKSB7XG4gICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCByZXNvdXJjZSk7XG5cbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgbGluay5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGxpbmsub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG5cbiAgICAgICAgY3JlYXRlZFJlc291cmNlcyA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWNyZWF0ZWRSZXNvdXJjZXMgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNsaWNrZWRNaW5pU2NvcmVCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5kcmFnZ2luZykge1xuICAgICAgX3RoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxlYWRlcmJvYXJkRGF0YSA9IFtdO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmluaXRMYXlvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLmFjdGl2ZUNvbXBldGl0aW9uRGF0YVJlZnJlc2goKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBPcGVuIG1haW4gd2lkZ2V0IGFuZCBvcGVuIHNwZWNpZmljIHRhYiBhbmQgbG9hZHMgcmVsZXZhbnQgYWN0aW9uXG4gICAqIEBwYXJhbSB0YWIgU3RyaW5nXG4gICAqIEBwYXJhbSBhY3Rpb25DYWxsYmFjayBGdW5jdGlvblxuICAgKi9cbiAgdGhpcy5vcGVuV2l0aFRhYkFuZEFjdGlvbiA9IGZ1bmN0aW9uICh0YWIsIGFjdGlvbkNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmFjdGl2ZSkge1xuICAgICAgdmFyIGxvYWRUYWIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmNvbnRhaW5lciwgdGFiKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubmF2aWdhdGlvblN3aXRjaChsb2FkVGFiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmFjdGl2ZUNvbXBldGl0aW9uRGF0YVJlZnJlc2goKTtcblxuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbkNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgYWN0aW9uQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0sIDIwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmluaXRMYXlvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubmF2aWdhdGlvblN3aXRjaChxdWVyeShfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLmNvbnRhaW5lciwgdGFiKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbkNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIGFjdGlvbkNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbG9hZENvbXBldGl0aW9uTGlzdEFqYXggPSBuZXcgY0xhYnMuQWpheCgpO1xuICB0aGlzLmV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gbWluaSBzY29yZWJvYXJkIG9wdC1pbiBhY3Rpb25cbiAgICBpZiAoaGFzQ2xhc3MoZWwsICdjbC13aWRnZXQtbXMtb3B0aW4tYWN0aW9uJykgJiYgIWhhc0NsYXNzKGVsLCAnY2hlY2tpbmcnKSkge1xuICAgICAgYWRkQ2xhc3MoZWwsICdjaGVja2luZycpO1xuXG4gICAgICBfdGhpcy5vcHRJbk1lbWJlclRvQWN0aXZlQ29tcGV0aXRpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5yZXZhbGlkYXRlSWZTdWNjZXNzZnVsbE9wdEluKGZ1bmN0aW9uIChjb21wZXRpdGlvbkpzb24pIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiA9IGNvbXBldGl0aW9uSnNvbi5kYXRhO1xuXG4gICAgICAgICAgLy8gX3RoaXMuZ2V0TGVhZGVyYm9hcmREYXRhKDEsIGZ1bmN0aW9uKCBkYXRhICl7XG4gICAgICAgICAgLy8gIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLmxvYWRTY29yZUJvYXJkKCBkYXRhICk7XG4gICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAvLyBleHRyYSBhY3Rpb24gdG8gbG9hZCBjb21wZXRpdGlvbiBkZXRhaWxzIG9uIG1pbmkgc2NvcmVib2FyZCBvcHQtaW4gLSBQcm9kdWN0IHJlcXVlc3RcbiAgICAgICAgICBfdGhpcy5kZWFjdGl2YXRlQ29tcGV0aXRpb25zQW5kTGVhZGVyYm9hcmRzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxlYWRlcmJvYXJkRGF0YSA9IFtdO1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5pbml0TGF5b3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xuXG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZENvbXBldGl0aW9uRGV0YWlscyhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIExlYWRlcmJvYXJkIGRldGFpbHMgb3B0LWluIGFjdGlvblxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLW9wdGluLWFjdGlvbicpICYmICFoYXNDbGFzcyhlbCwgJ2NoZWNraW5nJykpIHtcbiAgICAgIGFkZENsYXNzKGVsLCAnY2hlY2tpbmcnKTtcblxuICAgICAgX3RoaXMub3B0SW5NZW1iZXJUb0FjdGl2ZUNvbXBldGl0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMucmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbihmdW5jdGlvbiAoY29tcGV0aXRpb25Kc29uKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wZXRpdGlvbkpzb24uZGF0YTtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmNvbXBldGl0aW9uRGV0YWlsc09wdEluQnV0dG9uU3RhdGUoKTtcblxuICAgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnY2hlY2tpbmcnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gTGVhZGVyYm9hcmQgZGV0YWlscyBvcHQtaW4gYWN0aW9uXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWxiLW9wdGluLWFjdGlvbicpICYmICFoYXNDbGFzcyhlbCwgJ2NoZWNraW5nJykpIHtcbiAgICAgIGFkZENsYXNzKGVsLCAnY2hlY2tpbmcnKTtcblxuICAgICAgX3RoaXMub3B0SW5NZW1iZXJUb0FjdGl2ZUNvbXBldGl0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMucmV2YWxpZGF0ZUlmU3VjY2Vzc2Z1bGxPcHRJbihmdW5jdGlvbiAoY29tcGV0aXRpb25Kc29uKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gPSBjb21wZXRpdGlvbkpzb24uZGF0YTtcblxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZENvbXBldGl0aW9uRGV0YWlscyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2NoZWNraW5nJyk7XG4gICAgICAgICAgZWwucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBjbG9zZSBtaW5pIHNjb3JlYm9hcmQgaW5mbyBhcmVhXG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZScpICYmICFoYXNDbGFzcyhlbCwgJ2NoZWNraW5nJykpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLmNsZWFyQWxsKCk7XG5cbiAgICAgIC8vIGNsb3NlIG5vdGlmaWNhdGlvbiB3aW5kb3dcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWNsb3NlJykgJiYgIWhhc0NsYXNzKGVsLCAnY2hlY2tpbmcnKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucy5oaWRlTm90aWZpY2F0aW9uKCk7XG5cbiAgICAgIC8vIGNsb3NlIGxlYWRlcmJvYXJkIHdpbmRvd1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItY2xvc2UnKSB8fCBoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWFjaC1oZWFkZXItY2xvc2UnKSB8fCBoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1oZWFkZXItY2xvc2UnKSB8fCBoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LWluYm94LWhlYWRlci1jbG9zZScpKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGxvYWQgY29tcGV0aXRpb24gZGV0YWlsc1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRlbnQtbGFiZWwnKSkge1xuICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkQ29tcGV0aXRpb25EZXRhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxvYWQgYWNoaWV2ZW1lbnQgZGV0YWlsc1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1hY2gtbGlzdC1tb3JlJykpIHtcbiAgICAgIF90aGlzLmdldEFjaGlldmVtZW50KGVsLmRhdGFzZXQuaWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZEFjaGlldmVtZW50RGV0YWlscyhkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGxlYWRlcmJvYXJkIGRldGFpbHMgYmFjayBidXR0b25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1iYWNrLWJ0bicpKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGVDb21wZXRpdGlvbkRldGFpbHMoKTtcblxuICAgICAgLy8gYWNoaWV2ZW1lbnRzIGRldGFpbHMgYmFjayBidXR0b25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYmFjay1idG4nKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlQWNoaWV2ZW1lbnREZXRhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZXdhcmRzIGRldGFpbHMgYmFjayBidXR0b25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtYmFjay1idG4nKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlUmV3YXJkRGV0YWlscyhmdW5jdGlvbiAoKSB7XG4gICAgICB9KTtcblxuICAgICAgLy8gbWVzc2FnZXMgZGV0YWlscyBiYWNrIGJ1dHRvblxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWJhY2stYnRuJykpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZU1lc3NhZ2VEZXRhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBsb2FkIHJld2FyZHMgZGV0YWlsc1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1yZXctbGlzdC1pdGVtJykgfHwgY2xvc2VzdChlbCwgJy5jbC1yZXctbGlzdC1pdGVtJykgIT09IG51bGwpIHtcbiAgICAgIHZhciByZXdhcmRJZCA9IChoYXNDbGFzcyhlbCwgJ2NsLXJldy1saXN0LWl0ZW0nKSkgPyBlbC5kYXRhc2V0LnJld2FyZElkIDogY2xvc2VzdChlbCwgJy5jbC1yZXctbGlzdC1pdGVtJykuZGF0YXNldC5yZXdhcmRJZDtcbiAgICAgIF90aGlzLmdldFJld2FyZChyZXdhcmRJZCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5sb2FkUmV3YXJkRGV0YWlscyhkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGxvYWQgaW5ib3ggZGV0YWlsc1xuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1pbmJveC1saXN0LWl0ZW0nKSB8fCBjbG9zZXN0KGVsLCAnLmNsLWluYm94LWxpc3QtaXRlbScpICE9PSBudWxsKSB7XG4gICAgICB2YXIgbWVzc2FnZUlkID0gKGhhc0NsYXNzKGVsLCAnY2wtaW5ib3gtbGlzdC1pdGVtJykpID8gZWwuZGF0YXNldC5yZXdhcmRJZCA6IGNsb3Nlc3QoZWwsICcuY2wtaW5ib3gtbGlzdC1pdGVtJykuZGF0YXNldC5pZDtcbiAgICAgIF90aGlzLmdldE1lc3NhZ2UobWVzc2FnZUlkLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRNZXNzYWdlRGV0YWlscyhkYXRhLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGNsYWltIHJld2FyZFxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtY2xhaW0tYnRuJykpIHtcbiAgICAgIF90aGlzLmNsYWltUmV3YXJkKGVsLmRhdGFzZXQuaWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmRhdGEuY2xhaW1lZCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQubG9hZFJld2FyZHMoKTtcblxuICAgICAgICAgIGFkZENsYXNzKGVsLCAnY2wtY2xhaW1lZCcpO1xuICAgICAgICAgIGVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHMuY2xhaW1lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2NsLWNsYWltZWQnKTtcbiAgICAgICAgICBlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzLmNsYWltO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gbG9hZCBhY2hpZXZlbWVudCBkZXRhaWxzIHdpbmRvdyBmcm9tIG5vdGlmaWNhdGlvbiB3aW5kb3dcbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpIHx8IGNsb3Nlc3QoZWwsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpICE9PSBudWxsKSB7XG4gICAgICBfdGhpcy5vcGVuV2l0aFRhYkFuZEFjdGlvbignLmNsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tYWNoLWljb24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLXdyYXBwZXInKSkgPyBlbC5kYXRhc2V0LmlkIDogY2xvc2VzdChlbCwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy13cmFwcGVyJykuZGF0YXNldC5pZDtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucy5oaWRlTm90aWZpY2F0aW9uKCk7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZUFjaGlldmVtZW50RGV0YWlscyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuZ2V0QWNoaWV2ZW1lbnQoaWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRBY2hpZXZlbWVudERldGFpbHMoZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHByaW1hcnkgd2lkZ2V0IG5hdmlnYXRpb25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtbWFpbi1uYXZpZ2F0aW9uLWl0ZW0nKSkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5uYXZpZ2F0aW9uU3dpdGNoKGVsKTtcblxuICAgICAgLy8gY29tcGV0aXRpb24gbGlzdFxuICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItbGlzdC1pY29uJykpIHtcbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5yZWZyZXNoSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnJlZnJlc2hJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmxvYWRDb21wZXRpdGlvbkxpc3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKCk7XG4gICAgICB9LCBsb2FkQ29tcGV0aXRpb25MaXN0QWpheCk7XG5cbiAgICAgIC8vIGxvYWQgY29tcGV0aXRpb25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtdG91ci1saXN0LWl0ZW0nKSB8fCBjbG9zZXN0KGVsLCAnLmNsLXRvdXItbGlzdC1pdGVtJykgIT09IG51bGwpIHtcbiAgICAgIHZhciB0b3VybmFtZW50SWQgPSAoaGFzQ2xhc3MoZWwsICdjbC10b3VyLWxpc3QtaXRlbScpKSA/IGVsLmRhdGFzZXQuaWQgOiBjbG9zZXN0KGVsLCAnLmNsLXRvdXItbGlzdC1pdGVtJykuZGF0YXNldC5pZDtcbiAgICAgIHZhciBwcmVMb2FkZXIgPSBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnByZWxvYWRlcigpO1xuXG4gICAgICBwcmVMb2FkZXIuc2hvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHMuYWN0aXZlQ29tcGV0aXRpb25JZCA9IHRvdXJuYW1lbnRJZDtcbiAgICAgICAgX3RoaXMuYWN0aXZlQ29tcGV0aXRpb25EYXRhUmVmcmVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlQ29tcGV0aXRpb25MaXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGhpZGUgY29tcGV0aXRpb24gbGlzdCB2aWV3XG4gICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2NsLW1haW4td2lkZ2V0LXRvdXJuYW1lbnRzLWJhY2stYnRuJykpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZUNvbXBldGl0aW9uTGlzdCgpO1xuXG4gICAgICAvLyBtaW5pIHNjb3JlYm9hcmQgYWN0aW9uIHRvIG9wZW4gcHJpbWFyeSB3aWRnZXRcbiAgICB9IGVsc2UgaWYgKChoYXNDbGFzcyhlbCwgJ2NsLXdpZGdldC1tcy1pY29uLXdyYXBwZXInKSB8fCBjbG9zZXN0KGVsLCAnLmNsLXdpZGdldC1tcy1pY29uLXdyYXBwZXInKSAhPT0gbnVsbCkgfHwgKGhhc0NsYXNzKGVsLCAnY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXdyYXBwZXInKSB8fCBjbG9zZXN0KGVsLCAnLmNsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi13cmFwcGVyJykgIT09IG51bGwpKSB7XG4gICAgICBfdGhpcy5jbGlja2VkTWluaVNjb3JlQm9hcmQoKTtcblxuICAgICAgLy8gYWNjb3JkaW9uIG5hdmlnYXRpb25cbiAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnY2wtYWNjb3JkaW9uLWxhYmVsJykpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuYWNjb3JkaW9uTmF2aWdhdGlvbihlbCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICBjYXNlIDI3OiAvLyBvbiBlc2NhcGVcbiAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5zZXR0aW5ncy5hY3RpdmUpIHtcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuaGlkZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1pbmlTY29yZUJvYXJkLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoX3RoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWwgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5kcmFnZ2luZykge1xuICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlcnMoZWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWwgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgX3RoaXMuZXZlbnRIYW5kbGVycyhlbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jbG9zZUV2ZXJ5dGhpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmRlYWN0aXZhdGVDb21wZXRpdGlvbnNBbmRMZWFkZXJib2FyZHMoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhID0gW107XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmluaXRMYXlvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5hY3RpdmVDb21wZXRpdGlvbkRhdGFSZWZyZXNoKCk7XG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0sIDIwMCk7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LmhpZGUoKTtcbiAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0LnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJBY3RpdmUgPSBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmlzTW9iaWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpc01vYmlsZVRhYmxldCgpO1xuICB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMubG9hZFN0eWxlc2hlZXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMubG9hZE1lbWJlcihmdW5jdGlvbiAobWVtYmVyKSB7XG4gICAgICAgIF90aGlzLmxvYWRXaWRnZXRUcmFuc2xhdGlvbnMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucyA9IG5ldyBOb3RpZmljYXRpb25zKCk7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZCA9IG5ldyBNaW5pU2NvcmVCb2FyZCh7XG4gICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5tYWluV2lkZ2V0ID0gbmV3IE1haW5XaWRnZXQoKTtcblxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3Mubm90aWZpY2F0aW9ucy5zZXR0aW5ncy5sYldpZGdldCA9IF90aGlzO1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MubGJXaWRnZXQgPSBfdGhpcztcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm1haW5XaWRnZXQuc2V0dGluZ3MubGJXaWRnZXQgPSBfdGhpcztcblxuICAgICAgICAgICAgX3RoaXMuc3RhcnR1cCgpO1xuICAgICAgICAgICAgX3RoaXMuZXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWFpbldpZGdldC5oaWRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZUNvbXBldGl0aW9uc0FuZExlYWRlcmJvYXJkcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3MubWluaVNjb3JlQm9hcmQuc2V0dGluZ3MuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5taW5pU2NvcmVCb2FyZC5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhcnR1cCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvU3RhcnQpIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxufTtcbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBoYXNDbGFzcyBmcm9tICcuLi91dGlscy9oYXNDbGFzcyc7XG5pbXBvcnQgcmVtb3ZlQ2xhc3MgZnJvbSAnLi4vdXRpbHMvcmVtb3ZlQ2xhc3MnO1xuaW1wb3J0IG9iamVjdEl0ZXJhdG9yIGZyb20gJy4uL3V0aWxzL29iamVjdEl0ZXJhdG9yJztcbmltcG9ydCBxdWVyeSBmcm9tICcuLi91dGlscy9xdWVyeSc7XG5pbXBvcnQgY2xvc2VzdCBmcm9tICcuLi91dGlscy9jbG9zZXN0JztcbmltcG9ydCBhZGRDbGFzcyBmcm9tICcuLi91dGlscy9hZGRDbGFzcyc7XG5pbXBvcnQgcmVtb3ZlIGZyb20gJy4uL3V0aWxzL3JlbW92ZSc7XG5pbXBvcnQgYXBwZW5kTmV4dCBmcm9tICcuLi91dGlscy9hcHBlbmROZXh0JztcbmltcG9ydCBzdHJpcEh0bWwgZnJvbSAnLi4vdXRpbHMvc3RyaXBIdG1sJztcblxuZXhwb3J0IGNvbnN0IE1haW5XaWRnZXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB0aGlzLnNldHRpbmdzID0ge1xuICAgIGxiV2lkZ2V0OiBudWxsLFxuICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICBuYXZpZ2F0aW9uOiBudWxsLFxuICAgIHNlY3Rpb246IG51bGwsXG4gICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbCxcbiAgICB0b3VybmFtZW50TGlzdENvbnRhaW5lcjogbnVsbCxcbiAgICBoZWFkZXJEYXRlOiBudWxsLFxuICAgIHByZUxvYWRlcjoge1xuICAgICAgcHJlTG9hZGVyQWN0aXZlOiBmYWxzZSxcbiAgICAgIHByZUxvYWRlcmxhc3RBdHRlbXB0OiBudWxsLFxuICAgICAgcHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeTogZnVuY3Rpb24gKCkge1xuICAgICAgfVxuICAgIH0sXG4gICAgYWNoaWV2ZW1lbnQ6IHtcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgIGRldGFpbHNDb250YWluZXI6IG51bGxcbiAgICB9LFxuICAgIHJld2FyZDoge1xuICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgZGV0YWlsc0NvbnRhaW5lcjogbnVsbFxuICAgIH0sXG4gICAgbWVzc2FnZXM6IHtcbiAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgIGRldGFpbHNDb250YWluZXI6IG51bGxcbiAgICB9LFxuICAgIGxlYWRlcmJvYXJkOiB7XG4gICAgICBkZWZhdWx0RW1wdHlMaXN0OiAyMCxcbiAgICAgIHRvcFJlc3VsdFNpemU6IDMsXG4gICAgICBoZWFkZXI6IG51bGwsXG4gICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICBsaXN0OiBudWxsLFxuICAgICAgdG9wUmVzdWx0czogbnVsbCxcbiAgICAgIHRpbWVySW50ZXJ2YWw6IG51bGxcbiAgICB9LFxuICAgIHRvdXJuYW1lbnRzU2VjdGlvbjoge1xuICAgICAgYWNjb3JkaW9uTGF5b3V0OiBbe1xuICAgICAgICBsYWJlbDogJ1VwY29taW5nIFRvdXJuYW1lbnRzJyxcbiAgICAgICAgdHlwZTogJ3JlYWR5Q29tcGV0aXRpb25zJyxcbiAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgIHNob3dUb3BSZXN1bHRzOiAxXG4gICAgICB9LCB7XG4gICAgICAgIGxhYmVsOiAnQWN0aXZlIFRvdXJuYW1lbnRzJyxcbiAgICAgICAgdHlwZTogJ2FjdGl2ZUNvbXBldGl0aW9ucycsXG4gICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgIHNob3dUb3BSZXN1bHRzOiAxXG4gICAgICB9LCB7XG4gICAgICAgIGxhYmVsOiAnRmluaXNoZWQgVG91cm5hbWVudHMnLFxuICAgICAgICB0eXBlOiAnZmluaXNoZWRDb21wZXRpdGlvbnMnLFxuICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgc2hvd1RvcFJlc3VsdHM6IDFcbiAgICAgIH1dXG4gICAgfSxcbiAgICByZXdhcmRzU2VjdGlvbjoge1xuICAgICAgYWNjb3JkaW9uTGF5b3V0OiBbe1xuICAgICAgICBsYWJlbDogJ0F2YWlsYWJsZSBSZXdhcmRzJyxcbiAgICAgICAgdHlwZTogJ2F2YWlsYWJsZVJld2FyZHMnLFxuICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICBzaG93VG9wUmVzdWx0czogMVxuICAgICAgfSwge1xuICAgICAgICBsYWJlbDogJ0NsYWltZWQgUmV3YXJkcycsXG4gICAgICAgIHR5cGU6ICdyZXdhcmRzJyxcbiAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgIHNob3dUb3BSZXN1bHRzOiAxXG4gICAgICB9LCB7XG4gICAgICAgIGxhYmVsOiAnRXhwaXJlZCBSZXdhcmRzJyxcbiAgICAgICAgdHlwZTogJ2V4cGlyZWRSZXdhcmRzJyxcbiAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgIHNob3dUb3BSZXN1bHRzOiAxXG4gICAgICB9XVxuICAgIH0sXG4gICAgYWN0aXZlOiBmYWxzZSxcbiAgICBuYXZpZ2F0aW9uU3dpdGNoTGFzdEF0ZW1wdDogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgbmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3M6IGZhbHNlXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Nbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWNjb3JkaW9uIHN0eWxlIGxheW91dFxuICAgKiAtIHBhcmFtZXRlcnM6XG4gICAqICAgICAgLSBsYWJlbDogU3RyaW5nIFwiQXZhaWxhYmxlIHJld2FyZHNcIlxuICAgKiAgICAgIC0gdHlwZTogU3RyaW5nIFwiYXZhaWxhYmxlLXJld2FyZHNcIlxuICAgKiAgICAgIC0gc2hvd246IEJvb2xlYW4gdHJ1ZS9mYWxzZVxuICAgKiBAcGFyYW0gZGF0YSBBcnJheVxuICAgKiBAcGFyYW0gb25MYXlvdXQgRnVuY3Rpb25cbiAgICovXG4gIHRoaXMuYWNjb3JkaW9uU3R5bGUgPSBmdW5jdGlvbiAoZGF0YSwgb25MYXlvdXQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBhY2NvcmRpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBhY2NvcmRpb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi1hY2NvcmRpb24tY29udGFpbmVyJyk7XG5cbiAgICB3aW5kb3cubWFwT2JqZWN0KGRhdGEsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgdmFyIGFjY29yZGlvblNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBhY2NvcmRpb25MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIHRvcFNob3duRW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBhY2NvcmRpb25MaXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgYWNjb3JkaW9uTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICBhY2NvcmRpb25TZWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNjb3JkaW9uICcgKyBlbnRyeS50eXBlICsgKCh0eXBlb2YgZW50cnkuc2hvdyA9PT0gJ2Jvb2xlYW4nICYmIGVudHJ5LnNob3cpID8gJyBjbC1zaG93bicgOiAnJykpO1xuICAgICAgYWNjb3JkaW9uTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGFiZWwnKTtcbiAgICAgIHRvcFNob3duRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tZW50cnknKTtcbiAgICAgIGFjY29yZGlvbkxpc3RDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGlzdC1jb250YWluZXInKTtcbiAgICAgIGFjY29yZGlvbkxpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2NvcmRpb24tbGlzdCcpO1xuXG4gICAgICBpZiAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHNbZW50cnkudHlwZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFjY29yZGlvbkxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHNbZW50cnkudHlwZV07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50c1tlbnRyeS50eXBlXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYWNjb3JkaW9uTGFiZWwuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHNbZW50cnkudHlwZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2NvcmRpb25MYWJlbC5pbm5lckhUTUwgPSBlbnRyeS5sYWJlbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvbkxheW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvbkxheW91dChhY2NvcmRpb25TZWN0aW9uLCBhY2NvcmRpb25MaXN0LCB0b3BTaG93bkVudHJ5LCBlbnRyeSk7XG4gICAgICB9XG5cbiAgICAgIGFjY29yZGlvbkxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoYWNjb3JkaW9uTGlzdCk7XG5cbiAgICAgIGFjY29yZGlvblNlY3Rpb24uYXBwZW5kQ2hpbGQoYWNjb3JkaW9uTGFiZWwpO1xuICAgICAgYWNjb3JkaW9uU2VjdGlvbi5hcHBlbmRDaGlsZCh0b3BTaG93bkVudHJ5KTtcbiAgICAgIGFjY29yZGlvblNlY3Rpb24uYXBwZW5kQ2hpbGQoYWNjb3JkaW9uTGlzdENvbnRhaW5lcik7XG5cbiAgICAgIGFjY29yZGlvbldyYXBwZXIuYXBwZW5kQ2hpbGQoYWNjb3JkaW9uU2VjdGlvbik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWNjb3JkaW9uV3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLmFjY29yZGlvbk5hdmlnYXRpb24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHBhcmVudEVsID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgaWYgKGhhc0NsYXNzKHBhcmVudEVsLCAnY2wtc2hvd24nKSkge1xuICAgICAgcmVtb3ZlQ2xhc3MocGFyZW50RWwsICdjbC1zaG93bicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShjbG9zZXN0KHBhcmVudEVsLCAnLmNsLW1haW4tYWNjb3JkaW9uLWNvbnRhaW5lcicpLCAnLmNsLXNob3duJyksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3Mob2JqLCAnY2wtc2hvd24nKTtcbiAgICAgIH0pO1xuXG4gICAgICBhZGRDbGFzcyhwYXJlbnRFbCwgJ2NsLXNob3duJyk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMubGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5uZXJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgbmF2aWdhdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBuYXZpZ2F0aW9uSXRlbXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1MQiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBuYXZpZ2F0aW9uSXRlbUxCSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBuYXZpZ2F0aW9uSXRlbUFDSCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBuYXZpZ2F0aW9uSXRlbUFDSEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1SZXdhcmRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIG5hdmlnYXRpb25JdGVtUmV3YXJkc0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbmF2aWdhdGlvbkl0ZW1JbmJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBuYXZpZ2F0aW9uSXRlbUluYm94SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIG1haW5TZWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgcHJlTG9hZGVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHByZUxvYWRlckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcHJlTG9hZGVyQmFyMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBwcmVMb2FkZXJCYXIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHByZUxvYWRlckJhcjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uTEIgPSBfdGhpcy5sZWFkZXJib2FyZEFyZWFMYXlvdXQoKTtcbiAgICB2YXIgc2VjdGlvbkFDSCA9IF90aGlzLmFjaGlldmVtZW50c0FyZWFMYXlvdXQoKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHMgPSBfdGhpcy5yZXdhcmRzQXJlYUxheW91dCgpO1xuICAgIHZhciBzZWN0aW9uSW5ib3ggPSBfdGhpcy5pbmJveEFyZWFMYXlvdXQoKTtcblxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC13cmFwcGVyJyk7XG4gICAgaW5uZXJXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5uZXItd3JhcHBlcicpO1xuXG4gICAgbmF2aWdhdGlvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tY29udGFpbmVyJyk7XG4gICAgbmF2aWdhdGlvbkl0ZW1zLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pdGVtcycpO1xuICAgIG5hdmlnYXRpb25JdGVtTEIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWxiIGNsLWFjdGl2ZS1uYXYnKTtcbiAgICBuYXZpZ2F0aW9uSXRlbUxCSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tbGItaWNvbiBjbC1tYWluLW5hdmlnYXRpb24taXRlbScpO1xuICAgIG5hdmlnYXRpb25JdGVtQUNILnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1hY2gnKTtcbiAgICBuYXZpZ2F0aW9uSXRlbUFDSEljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWFjaC1pY29uIGNsLW1haW4tbmF2aWdhdGlvbi1pdGVtJyk7XG4gICAgbmF2aWdhdGlvbkl0ZW1SZXdhcmRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1yZXdhcmRzJyk7XG4gICAgbmF2aWdhdGlvbkl0ZW1SZXdhcmRzSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tcmV3YXJkcy1pY29uIGNsLW1haW4tbmF2aWdhdGlvbi1pdGVtJyk7XG5cbiAgICBtYWluU2VjdGlvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXNlY3Rpb24tY29udGFpbmVyJyk7XG5cbiAgICBwcmVMb2FkZXJDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1wcmUtbG9hZGVyJyk7XG4gICAgcHJlTG9hZGVyQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXByZS1sb2FkZXItY29udGVudCcpO1xuICAgIHByZUxvYWRlckJhcjEuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1wcmUtbG9hZGVyLWJhcicpO1xuICAgIHByZUxvYWRlckJhcjIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1wcmUtbG9hZGVyLWJhcicpO1xuICAgIHByZUxvYWRlckJhcjMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1wcmUtbG9hZGVyLWJhcicpO1xuXG4gICAgcHJlTG9hZGVyQ29udGVudC5hcHBlbmRDaGlsZChwcmVMb2FkZXJCYXIxKTtcbiAgICBwcmVMb2FkZXJDb250ZW50LmFwcGVuZENoaWxkKHByZUxvYWRlckJhcjIpO1xuICAgIHByZUxvYWRlckNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlTG9hZGVyQmFyMyk7XG4gICAgcHJlTG9hZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHByZUxvYWRlckNvbnRlbnQpO1xuXG4gICAgbmF2aWdhdGlvbkl0ZW1MQi5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uSXRlbUxCSWNvbik7XG4gICAgbmF2aWdhdGlvbkl0ZW1zLmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtTEIpO1xuICAgIG5hdmlnYXRpb25JdGVtQUNILmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtQUNISWNvbik7XG4gICAgbmF2aWdhdGlvbkl0ZW1zLmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtQUNIKTtcbiAgICBuYXZpZ2F0aW9uSXRlbVJld2FyZHMuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1SZXdhcmRzSWNvbik7XG4gICAgbmF2aWdhdGlvbkl0ZW1zLmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtUmV3YXJkcyk7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVzc2FnZXMuZW5hYmxlKSB7XG4gICAgICBuYXZpZ2F0aW9uSXRlbUluYm94LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1pbmJveCcpO1xuICAgICAgbmF2aWdhdGlvbkl0ZW1JbmJveEljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWluYm94LWljb24gY2wtbWFpbi1uYXZpZ2F0aW9uLWl0ZW0nKTtcbiAgICAgIG5hdmlnYXRpb25JdGVtSW5ib3guYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1JbmJveEljb24pO1xuICAgICAgbmF2aWdhdGlvbkl0ZW1zLmFwcGVuZENoaWxkKG5hdmlnYXRpb25JdGVtSW5ib3gpO1xuICAgIH1cblxuICAgIG5hdmlnYXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbkl0ZW1zKTtcblxuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQik7XG4gICAgbWFpblNlY3Rpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSCk7XG4gICAgbWFpblNlY3Rpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHMpO1xuICAgIG1haW5TZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveCk7XG4gICAgbWFpblNlY3Rpb25Db250YWluZXIuYXBwZW5kQ2hpbGQocHJlTG9hZGVyQ29udGFpbmVyKTtcblxuICAgIGlubmVyV3JhcHBlci5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uQ29udGFpbmVyKTtcbiAgICBpbm5lcldyYXBwZXIuYXBwZW5kQ2hpbGQobWFpblNlY3Rpb25Db250YWluZXIpO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5uZXJXcmFwcGVyKTtcblxuICAgIHJldHVybiB3cmFwcGVyO1xuICB9O1xuXG4gIHRoaXMubGVhZGVyYm9hcmRBcmVhTGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHNlY3Rpb25MQiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25MQkhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJIZWFkZXJMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkhlYWRlckxpc3RJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkhlYWRlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkhlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkxCSGVhZGVyQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNJbmZvSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25MQkxlYWRlcmJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyVG9wUmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJMZWFkZXJib2FyZEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5UmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25MQk1pc3NpbmdNZW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uTEJPcHRJbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uTEJPcHRJbkFjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIHZhciBzZWN0aW9uTEJGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkxCRm9vdGVyQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCYWNrQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHlSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25Ub3VybmFtZW50QmFja0FjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIHNlY3Rpb25MQi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiIGNsLW1haW4tc2VjdGlvbi1pdGVtIGNsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcbiAgICBzZWN0aW9uTEJIZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXInKTtcbiAgICBzZWN0aW9uTEJIZWFkZXJMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWxpc3QnKTtcbiAgICBzZWN0aW9uTEJIZWFkZXJMaXN0SWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1saXN0LWljb24nKTtcbiAgICBzZWN0aW9uTEJIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWhlYWRlci1sYWJlbCcpO1xuICAgIHNlY3Rpb25MQkhlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1oZWFkZXItZGF0ZScpO1xuICAgIHNlY3Rpb25MQkhlYWRlckNsb3NlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItaGVhZGVyLWNsb3NlJyk7XG5cbiAgICBzZWN0aW9uTEJEZXRhaWxzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscycpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNJbmZvLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1pbmZvJyk7XG4gICAgc2VjdGlvbkxCRGV0YWlsc0luZm9JY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1pbmZvLWljb24nKTtcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtY29udGVudCcpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRlbnQtbGFiZWwnKTtcbiAgICBzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRlbnQtZGF0ZScpO1xuXG4gICAgLy8gTGVhZGVyYm9hcmQgcmVzdWx0IGNvbnRhaW5lclxuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQnKTtcbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlcicpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyTGFiZWxzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtaGVhZGVyLWxhYmVscycpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyVG9wUmVzdWx0cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkLWhlYWRlci10b3AtcmVzJyk7XG4gICAgc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtYm9keScpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keVJlc3VsdHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1ib2R5LXJlcycpO1xuXG4gICAgc2VjdGlvbkxCTWlzc2luZ01lbWJlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLW1pc3NpbmctbWVtYmVyJyk7XG5cbiAgICAvLyBmb290ZXJcbiAgICBzZWN0aW9uTEJGb290ZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1mb290ZXInKTtcbiAgICBzZWN0aW9uTEJGb290ZXJDb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZm9vdGVyLWNvbnRlbnQnKTtcblxuICAgIC8vIGRldGFpbHMgc2VjdGlvblxuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtY29udGFpbmVyJyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1oZWFkZXInKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtaGVhZGVyLWxhYmVsJyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtaGVhZGVyLWRhdGUnKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCYWNrQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1iYWNrLWJ0bicpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWJvZHktY29udGFpbmVyJyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1ib2R5LWltYWdlLWNvbnQnKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1ib2R5Jyk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5Db250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLW9wdGluLWNvbnRhaW5lcicpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1vcHRpbi1hY3Rpb24nKTtcblxuICAgIHNlY3Rpb25Ub3VybmFtZW50TGlzdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXRvdXJuYW1lbnRzLWxpc3QnKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudEJhY2tBY3Rpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1iYWNrLWJ0bicpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0LWJvZHknKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5UmVzdWx0cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXRvdXJuYW1lbnRzLWxpc3QtYm9keS1yZXMnKTtcblxuICAgIHNlY3Rpb25MQk9wdEluQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtbGItb3B0aW4tY29udGFpbmVyJyk7XG4gICAgc2VjdGlvbkxCT3B0SW5BY3Rpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1sYi1vcHRpbi1hY3Rpb24nKTtcblxuICAgIHNlY3Rpb25MQkhlYWRlckxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLmxhYmVsO1xuICAgIHNlY3Rpb25MQkZvb3RlckNvbnRlbnQuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24uZ2xvYmFsLmNvcHk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5BY3Rpb24uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMuZW50ZXI7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5BY3Rpb24uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcbiAgICBzZWN0aW9uTEJPcHRJbkFjdGlvbi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5lbnRlcjtcbiAgICBzZWN0aW9uTEJPcHRJbkFjdGlvbi5ocmVmID0gJ2phdmFzY3JpcHQ6dm9pZCgwKTsnO1xuXG4gICAgc2VjdGlvbkxCSGVhZGVyTGlzdC5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXJMaXN0SWNvbik7XG4gICAgc2VjdGlvbkxCSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkhlYWRlckxpc3QpO1xuICAgIHNlY3Rpb25MQkhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXJMYWJlbCk7XG4gICAgc2VjdGlvbkxCSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkhlYWRlckRhdGUpO1xuICAgIHNlY3Rpb25MQkhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJIZWFkZXJDbG9zZSk7XG5cbiAgICBzZWN0aW9uTEJEZXRhaWxzSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzSW5mb0ljb24pO1xuICAgIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwpO1xuICAgIHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSk7XG4gICAgc2VjdGlvbkxCRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzSW5mbyk7XG4gICAgc2VjdGlvbkxCRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uTEJEZXRhaWxzQ29udGVudENvbnRhaW5lcik7XG5cbiAgICBzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZEhlYWRlckxhYmVscyk7XG4gICAgc2VjdGlvbkxCTGVhZGVyYm9hcmQuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCTGVhZGVyYm9hcmRIZWFkZXIpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkLmFwcGVuZENoaWxkKHNlY3Rpb25MQkxlYWRlcmJvYXJkSGVhZGVyVG9wUmVzdWx0cyk7XG4gICAgc2VjdGlvbkxCTGVhZGVyYm9hcmRCb2R5LmFwcGVuZENoaWxkKHNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keVJlc3VsdHMpO1xuICAgIHNlY3Rpb25MQkxlYWRlcmJvYXJkLmFwcGVuZENoaWxkKHNlY3Rpb25MQkxlYWRlcmJvYXJkQm9keSk7XG5cbiAgICBzZWN0aW9uTEJGb290ZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCRm9vdGVyQ29udGVudCk7XG5cbiAgICBzZWN0aW9uVG91cm5hbWVudExpc3RCb2R5LmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50TGlzdEJvZHlSZXN1bHRzKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudExpc3QuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnRMaXN0Qm9keSk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnRMaXN0LmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50QmFja0FjdGlvbik7XG5cbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyTGFiZWwpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNIZWFkZXJEYXRlKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzSGVhZGVyKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQmFja0J0bik7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uVG91cm5hbWVudERldGFpbHNCb2R5SW1hZ2VDb250YWluZXIpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQm9keSk7XG4gICAgc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0JvZHlDb250YWluZXIpO1xuICAgIHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc09wdEluQWN0aW9uKTtcbiAgICBzZWN0aW9uVG91cm5hbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblRvdXJuYW1lbnREZXRhaWxzT3B0SW5Db250YWluZXIpO1xuXG4gICAgc2VjdGlvbkxCT3B0SW5Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkxCT3B0SW5BY3Rpb24pO1xuXG4gICAgc2VjdGlvbkxCLmFwcGVuZENoaWxkKHNlY3Rpb25MQkhlYWRlcik7XG4gICAgc2VjdGlvbkxCLmFwcGVuZENoaWxkKHNlY3Rpb25MQkRldGFpbHMpO1xuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJMZWFkZXJib2FyZCk7XG4gICAgc2VjdGlvbkxCLmFwcGVuZENoaWxkKHNlY3Rpb25MQk1pc3NpbmdNZW1iZXIpO1xuICAgIHNlY3Rpb25MQi5hcHBlbmRDaGlsZChzZWN0aW9uTEJPcHRJbkNvbnRhaW5lcik7XG4gICAgc2VjdGlvbkxCLmFwcGVuZENoaWxkKHNlY3Rpb25MQkZvb3Rlcik7XG4gICAgc2VjdGlvbkxCLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50RGV0YWlsc0NvbnRhaW5lcik7XG4gICAgc2VjdGlvbkxCLmFwcGVuZENoaWxkKHNlY3Rpb25Ub3VybmFtZW50TGlzdCk7XG5cbiAgICByZXR1cm4gc2VjdGlvbkxCO1xuICB9O1xuXG4gIHRoaXMuYWNoaWV2ZW1lbnRzQXJlYUxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBzZWN0aW9uQUNIID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkFDSEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQUNISGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSEhlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSEhlYWRlckNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkFDSERldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSERldGFpbHNJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzSW5mb0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uQUNITGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQUNITGlzdEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSExpc3RCb2R5UmVzdWx0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25BQ0hGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFDSEZvb3RlckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCYWNrQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBzZWN0aW9uQUNILnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1hY2ggY2wtbWFpbi1zZWN0aW9uLWl0ZW0nKTtcbiAgICBzZWN0aW9uQUNISGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWhlYWRlcicpO1xuICAgIHNlY3Rpb25BQ0hIZWFkZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1oZWFkZXItbGFiZWwnKTtcbiAgICBzZWN0aW9uQUNISGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1oZWFkZXItZGF0ZScpO1xuICAgIHNlY3Rpb25BQ0hIZWFkZXJDbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1oZWFkZXItY2xvc2UnKTtcblxuICAgIHNlY3Rpb25BQ0hEZXRhaWxzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMnKTtcbiAgICBzZWN0aW9uQUNIRGV0YWlsc0luZm8uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1pbmZvJyk7XG4gICAgc2VjdGlvbkFDSERldGFpbHNJbmZvSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWluZm8taWNvbicpO1xuICAgIHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWNvbnRlbnQnKTtcbiAgICBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWNvbnRlbnQtbGFiZWwnKTtcbiAgICBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtY29udGVudC1kYXRlJyk7XG5cbiAgICAvLyBMZWFkZXJib2FyZCByZXN1bHQgY29udGFpbmVyXG4gICAgc2VjdGlvbkFDSExpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtbGlzdCcpO1xuICAgIHNlY3Rpb25BQ0hMaXN0Qm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1saXN0LWJvZHknKTtcbiAgICBzZWN0aW9uQUNITGlzdEJvZHlSZXN1bHRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWxpc3QtYm9keS1yZXMnKTtcblxuICAgIC8vIGZvb3RlclxuICAgIHNlY3Rpb25BQ0hGb290ZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZm9vdGVyJyk7XG4gICAgc2VjdGlvbkFDSEZvb3RlckNvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZm9vdGVyLWNvbnRlbnQnKTtcblxuICAgIC8vIGRldGFpbHMgc2VjdGlvblxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1jb250YWluZXInKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtaGVhZGVyJyk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtaGVhZGVyLWxhYmVsJyk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlckRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1oZWFkZXItZGF0ZScpO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCYWNrQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYmFjay1idG4nKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQm9keUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWJvZHktY29udGFpbmVyJyk7XG4gICAgc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JvZHlJbWFnZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWJvZHktaW1hZ2UtY29udCcpO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtYWNoLWRldGFpbHMtYm9keScpO1xuXG4gICAgc2VjdGlvbkFDSEhlYWRlckxhYmVsLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmFjaGlldmVtZW50cy5sYWJlbDtcbiAgICBzZWN0aW9uQUNIRm9vdGVyQ29udGVudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5nbG9iYWwuY29weTtcblxuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0hlYWRlckxhYmVsKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzSGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXJEYXRlKTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNIZWFkZXIpO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkFjaGlldmVtZW50RGV0YWlsc0JhY2tCdG4pO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5SW1hZ2VDb250YWluZXIpO1xuICAgIHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5KTtcbiAgICBzZWN0aW9uQWNoaWV2ZW1lbnREZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNCb2R5Q29udGFpbmVyKTtcblxuICAgIHNlY3Rpb25BQ0hIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSEhlYWRlckxhYmVsKTtcbiAgICBzZWN0aW9uQUNISGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hIZWFkZXJEYXRlKTtcbiAgICBzZWN0aW9uQUNISGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hIZWFkZXJDbG9zZSk7XG5cbiAgICBzZWN0aW9uQUNIRGV0YWlsc0luZm8uYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSERldGFpbHNJbmZvSWNvbik7XG4gICAgc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsKTtcbiAgICBzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSERldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSk7XG4gICAgc2VjdGlvbkFDSERldGFpbHMuYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSERldGFpbHNJbmZvKTtcbiAgICBzZWN0aW9uQUNIRGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRGV0YWlsc0NvbnRlbnRDb250YWluZXIpO1xuXG4gICAgc2VjdGlvbkFDSExpc3RCb2R5LmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hMaXN0Qm9keVJlc3VsdHMpO1xuICAgIHNlY3Rpb25BQ0hMaXN0LmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hMaXN0Qm9keSk7XG5cbiAgICBzZWN0aW9uQUNIRm9vdGVyLmFwcGVuZENoaWxkKHNlY3Rpb25BQ0hGb290ZXJDb250ZW50KTtcblxuICAgIHNlY3Rpb25BQ0guYXBwZW5kQ2hpbGQoc2VjdGlvbkFDSEhlYWRlcik7XG4gICAgc2VjdGlvbkFDSC5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRGV0YWlscyk7XG4gICAgc2VjdGlvbkFDSC5hcHBlbmRDaGlsZChzZWN0aW9uQUNITGlzdCk7XG4gICAgc2VjdGlvbkFDSC5hcHBlbmRDaGlsZChzZWN0aW9uQUNIRm9vdGVyKTtcbiAgICBzZWN0aW9uQUNILmFwcGVuZENoaWxkKHNlY3Rpb25BY2hpZXZlbWVudERldGFpbHNDb250YWluZXIpO1xuXG4gICAgcmV0dXJuIHNlY3Rpb25BQ0g7XG4gIH07XG5cbiAgdGhpcy5yZXdhcmRzQXJlYUxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzSGVhZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzSGVhZGVyQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0xpc3RCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzTGlzdEJvZHlSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvblJld2FyZHNGb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNGb290ZXJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JhY2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNXaW5uaW5nc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc1dpbm5pbmdzVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvblJld2FyZHNDbGFpbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uUmV3YXJkc0NsYWltQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgc2VjdGlvblJld2FyZHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1zZWN0aW9uLXJld2FyZCBjbC1tYWluLXNlY3Rpb24taXRlbScpO1xuICAgIHNlY3Rpb25SZXdhcmRzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWhlYWRlcicpO1xuICAgIHNlY3Rpb25SZXdhcmRzSGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtaGVhZGVyLWxhYmVsJyk7XG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWhlYWRlci1kYXRlJyk7XG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXJDbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1oZWFkZXItY2xvc2UnKTtcblxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlscy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzJyk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mby5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWluZm8nKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNJbmZvSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWluZm8taWNvbicpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1jb250ZW50Jyk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtY29udGVudC1sYWJlbCcpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtY29udGVudC1kYXRlJyk7XG5cbiAgICAvLyBMZWFkZXJib2FyZCByZXN1bHQgY29udGFpbmVyXG4gICAgc2VjdGlvblJld2FyZHNMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWxpc3QnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0xpc3RCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWxpc3QtYm9keScpO1xuICAgIHNlY3Rpb25SZXdhcmRzTGlzdEJvZHlSZXN1bHRzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWxpc3QtYm9keS1yZXMnKTtcblxuICAgIC8vIGZvb3RlclxuICAgIHNlY3Rpb25SZXdhcmRzRm9vdGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWZvb3RlcicpO1xuICAgIHNlY3Rpb25SZXdhcmRzRm9vdGVyQ29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1mb290ZXItY29udGVudCcpO1xuXG4gICAgLy8gZGV0YWlscyBzZWN0aW9uXG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtY29udGFpbmVyJyk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtaGVhZGVyJyk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJEYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtaGVhZGVyLWRhdGUnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNCYWNrQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtYmFjay1idG4nKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtYm9keS1jb250YWluZXInKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5SW1hZ2VDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1ib2R5LWltYWdlLWNvbnQnKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtYm9keScpO1xuICAgIHNlY3Rpb25SZXdhcmRzV2lubmluZ3NDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtd2lubmluZ3MtY29udGFpbmVyJyk7XG4gICAgc2VjdGlvblJld2FyZHNXaW5uaW5nc0ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtd2lubmluZ3MtaWNvbicpO1xuICAgIHNlY3Rpb25SZXdhcmRzV2lubmluZ3NWYWx1ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC13aW5uaW5ncy12YWx1ZScpO1xuICAgIHNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1yZXdhcmQtY2xhaW0tY29udGFpbmVyJyk7XG4gICAgc2VjdGlvblJld2FyZHNDbGFpbUJ0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LXJld2FyZC1jbGFpbS1idG4nKTtcblxuICAgIHNlY3Rpb25SZXdhcmRzSGVhZGVyTGFiZWwuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ucmV3YXJkcy5sYWJlbDtcbiAgICBzZWN0aW9uUmV3YXJkc0Zvb3RlckNvbnRlbnQuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24uZ2xvYmFsLmNvcHk7XG4gICAgc2VjdGlvblJld2FyZHNDbGFpbUJ0bi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzLmNsYWltO1xuXG4gICAgc2VjdGlvblJld2FyZHNXaW5uaW5nc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc1dpbm5pbmdzSWNvbik7XG4gICAgc2VjdGlvblJld2FyZHNXaW5uaW5nc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc1dpbm5pbmdzVmFsdWUpO1xuICAgIHNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNDbGFpbUJ0bik7XG5cbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyTGFiZWwpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNIZWFkZXJEYXRlKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzSGVhZGVyKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQmFja0J0bik7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHNCb2R5SW1hZ2VDb250YWluZXIpO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keSk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc1dpbm5pbmdzQ29udGFpbmVyKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQm9keUNvbnRhaW5lcik7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzQ2xhaW1Db250YWluZXIpO1xuXG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNIZWFkZXJMYWJlbCk7XG4gICAgc2VjdGlvblJld2FyZHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNIZWFkZXJEYXRlKTtcbiAgICBzZWN0aW9uUmV3YXJkc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0hlYWRlckNsb3NlKTtcblxuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0luZm8uYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mb0ljb24pO1xuICAgIHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXJEYXRlKTtcbiAgICBzZWN0aW9uUmV3YXJkc0RldGFpbHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNEZXRhaWxzSW5mbyk7XG4gICAgc2VjdGlvblJld2FyZHNEZXRhaWxzLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRlbnRDb250YWluZXIpO1xuXG4gICAgc2VjdGlvblJld2FyZHNMaXN0Qm9keS5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0xpc3RCb2R5UmVzdWx0cyk7XG4gICAgc2VjdGlvblJld2FyZHNMaXN0LmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzTGlzdEJvZHkpO1xuXG4gICAgc2VjdGlvblJld2FyZHNGb290ZXIuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNGb290ZXJDb250ZW50KTtcblxuICAgIHNlY3Rpb25SZXdhcmRzLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzSGVhZGVyKTtcbiAgICBzZWN0aW9uUmV3YXJkcy5hcHBlbmRDaGlsZChzZWN0aW9uUmV3YXJkc0RldGFpbHMpO1xuICAgIHNlY3Rpb25SZXdhcmRzLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzTGlzdCk7XG4gICAgc2VjdGlvblJld2FyZHMuYXBwZW5kQ2hpbGQoc2VjdGlvblJld2FyZHNGb290ZXIpO1xuICAgIHNlY3Rpb25SZXdhcmRzLmFwcGVuZENoaWxkKHNlY3Rpb25SZXdhcmRzRGV0YWlsc0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gc2VjdGlvblJld2FyZHM7XG4gIH07XG5cbiAgdGhpcy5pbmJveEFyZWFMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgc2VjdGlvbkluYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkluYm94SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveEhlYWRlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveEhlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94SGVhZGVyQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNJbmZvSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgdmFyIHNlY3Rpb25JbmJveExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94TGlzdEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94TGlzdEJvZHlSZXN1bHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgc2VjdGlvbkluYm94Rm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveEZvb3RlckNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHNlY3Rpb25JbmJveERldGFpbHNCYWNrQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzQm9keUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzZWN0aW9uSW5ib3hEZXRhaWxzQm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgc2VjdGlvbkluYm94LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1pbmJveCBjbC1tYWluLXNlY3Rpb24taXRlbScpO1xuICAgIHNlY3Rpb25JbmJveEhlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWhlYWRlcicpO1xuICAgIHNlY3Rpb25JbmJveEhlYWRlckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtaGVhZGVyLWxhYmVsJyk7XG4gICAgc2VjdGlvbkluYm94SGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWhlYWRlci1kYXRlJyk7XG4gICAgc2VjdGlvbkluYm94SGVhZGVyQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1oZWFkZXItY2xvc2UnKTtcblxuICAgIHNlY3Rpb25JbmJveERldGFpbHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzJyk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0luZm8uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWluZm8nKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSW5mb0ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWluZm8taWNvbicpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1jb250ZW50Jyk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRlbnRDb250YWluZXJMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtY29udGVudC1sYWJlbCcpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtY29udGVudC1kYXRlJyk7XG5cbiAgICAvLyBMZWFkZXJib2FyZCByZXN1bHQgY29udGFpbmVyXG4gICAgc2VjdGlvbkluYm94TGlzdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWxpc3QnKTtcbiAgICBzZWN0aW9uSW5ib3hMaXN0Qm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWxpc3QtYm9keScpO1xuICAgIHNlY3Rpb25JbmJveExpc3RCb2R5UmVzdWx0cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWxpc3QtYm9keS1yZXMnKTtcblxuICAgIC8vIGZvb3RlclxuICAgIHNlY3Rpb25JbmJveEZvb3Rlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWZvb3RlcicpO1xuICAgIHNlY3Rpb25JbmJveEZvb3RlckNvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1tYWluLXdpZGdldC1pbmJveC1mb290ZXItY29udGVudCcpO1xuXG4gICAgLy8gZGV0YWlscyBzZWN0aW9uXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtY29udGFpbmVyJyk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtaGVhZGVyJyk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlckxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbWFpbi13aWRnZXQtaW5ib3gtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtaGVhZGVyLWRhdGUnKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQmFja0J0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtYmFjay1idG4nKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQm9keUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtYm9keS1jb250YWluZXInKTtcbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzQm9keS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtYm9keScpO1xuXG4gICAgc2VjdGlvbkluYm94SGVhZGVyTGFiZWwuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWVzc2FnZXMubGFiZWw7XG4gICAgc2VjdGlvbkluYm94Rm9vdGVyQ29udGVudC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5nbG9iYWwuY29weTtcblxuICAgIHNlY3Rpb25JbmJveEhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hIZWFkZXJMYWJlbCk7XG4gICAgc2VjdGlvbkluYm94SGVhZGVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEhlYWRlckRhdGUpO1xuICAgIHNlY3Rpb25JbmJveEhlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hIZWFkZXJDbG9zZSk7XG5cbiAgICBzZWN0aW9uSW5ib3hEZXRhaWxzSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSW5mb0ljb24pO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyTGFiZWwpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHNDb250ZW50Q29udGFpbmVyRGF0ZSk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSW5mbyk7XG4gICAgc2VjdGlvbkluYm94RGV0YWlscy5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQ29udGVudENvbnRhaW5lcik7XG5cbiAgICBzZWN0aW9uSW5ib3hMaXN0Qm9keS5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hMaXN0Qm9keVJlc3VsdHMpO1xuICAgIHNlY3Rpb25JbmJveExpc3QuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94TGlzdEJvZHkpO1xuXG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzSGVhZGVyTGFiZWwpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNIZWFkZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlckRhdGUpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0hlYWRlcik7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hEZXRhaWxzQmFja0J0bik7XG4gICAgc2VjdGlvbkluYm94RGV0YWlsc0JvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0JvZHkpO1xuICAgIHNlY3Rpb25JbmJveERldGFpbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0JvZHlDb250YWluZXIpO1xuXG4gICAgc2VjdGlvbkluYm94Rm9vdGVyLmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEZvb3RlckNvbnRlbnQpO1xuXG4gICAgc2VjdGlvbkluYm94LmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveEhlYWRlcik7XG4gICAgc2VjdGlvbkluYm94LmFwcGVuZENoaWxkKHNlY3Rpb25JbmJveERldGFpbHMpO1xuICAgIHNlY3Rpb25JbmJveC5hcHBlbmRDaGlsZChzZWN0aW9uSW5ib3hMaXN0KTtcbiAgICBzZWN0aW9uSW5ib3guYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94Rm9vdGVyKTtcbiAgICBzZWN0aW9uSW5ib3guYXBwZW5kQ2hpbGQoc2VjdGlvbkluYm94RGV0YWlsc0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gc2VjdGlvbkluYm94O1xuICB9O1xuXG4gIHRoaXMubGVhZGVyYm9hcmRIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgcmFua0NvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIG5hbWVDb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZ3Jvd3RoQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHBvaW50c0NvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgcmFua0NvbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJhbmstY29sIGNsLWNvbCcpO1xuICAgIGljb25Db2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1pY29uLWNvbCBjbC1jb2wnKTtcbiAgICBuYW1lQ29sLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbmFtZS1jb2wgY2wtY29sJyk7XG4gICAgZ3Jvd3RoQ29sLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtZ3Jvd3RoLWNvbCBjbC1jb2wnKTtcbiAgICBwb2ludHNDb2wuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1wb2ludHMtY29sIGNsLWNvbCcpO1xuXG4gICAgcmFua0NvbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5yYW5rO1xuICAgIGljb25Db2wuaW5uZXJIVE1MID0gJyc7XG4gICAgbmFtZUNvbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5uYW1lO1xuICAgIGdyb3d0aENvbC5pbm5lckhUTUwgPSAnJztcbiAgICBwb2ludHNDb2wuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucG9pbnRzO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyLmFwcGVuZENoaWxkKHJhbmtDb2wpO1xuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmhlYWRlci5hcHBlbmRDaGlsZChpY29uQ29sKTtcbiAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5oZWFkZXIuYXBwZW5kQ2hpbGQobmFtZUNvbCk7XG4gICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyLmFwcGVuZENoaWxkKGdyb3d0aENvbCk7XG4gICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyLmFwcGVuZENoaWxkKHBvaW50c0NvbCk7XG5cbiAgICB2YXIgcmV3YXJkQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHJld2FyZEVuYWJsZWQgPSAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcyAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzLmxlbmd0aCA+IDApO1xuICAgIHJld2FyZENvbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJld2FyZC1jb2wgY2wtY29sJyArIChyZXdhcmRFbmFibGVkID8gJyBjbC1jb2wtcmV3YXJkLWVuYWJsZWQnIDogJycpKTtcbiAgICByZXdhcmRDb2wuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucHJpemU7XG5cbiAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5oZWFkZXIsICdjbC1yZXdhcmQtZW5hYmxlZCcpO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuaGVhZGVyLmFwcGVuZENoaWxkKHJld2FyZENvbCk7XG4gIH07XG5cbiAgdGhpcy5sZWFkZXJib2FyZFJvdyA9IGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGNlbGxXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHJhbmtDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcmFua0NlbFZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGljb25DZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaWNvbkNlbEltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHZhciBuYW1lQ2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGdyb3d0aENlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBwb2ludHNDZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbWVtYmVyRm91bmRDbGFzcyA9IChtZW1iZXJGb3VuZCkgPyAnIGNsLWxiLW1lbWJlci1yb3cnIDogJyc7XG5cbiAgICBjZWxsV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWxiLXJvdyBjbC1sYi1yYW5rLScgKyByYW5rICsgJyBjbC1sYi1jb3VudC0nICsgY291bnQgKyBtZW1iZXJGb3VuZENsYXNzKTtcbiAgICByYW5rQ2VsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmFuay1jb2wgY2wtY29sIGNsLXJhbmstJyArIHJhbmspO1xuICAgIHJhbmtDZWxWYWx1ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJhbmstY29sLXZhbHVlJyk7XG4gICAgaWNvbkNlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWljb24tY29sIGNsLWNvbCcpO1xuICAgIGljb25DZWxJbWcuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1pY29uLWNvbC1pbWcnKTtcbiAgICBuYW1lQ2VsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtbmFtZS1jb2wgY2wtY29sJyk7XG4gICAgZ3Jvd3RoQ2VsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtZ3Jvd3RoLWNvbCBjbC1jb2wnKTtcbiAgICBwb2ludHNDZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1wb2ludHMtY29sIGNsLWNvbCcpO1xuXG4gICAgY2VsbFdyYXBwZXIuZGF0YXNldC5yYW5rID0gcmFuaztcblxuICAgIHJhbmtDZWxWYWx1ZS5pbm5lckhUTUwgPSByYW5rO1xuICAgIG5hbWVDZWwuaW5uZXJIVE1MID0gbmFtZTtcbiAgICBncm93dGhDZWwuZGF0YXNldC5ncm93dGggPSAoY2hhbmdlIDwgMCkgPyAnZG93bicgOiAoY2hhbmdlID4gMCA/ICd1cCcgOiAnc2FtZScpO1xuICAgIGdyb3d0aENlbC5kYXRhc2V0LmNoYW5nZSA9IGNoYW5nZTtcbiAgICBncm93dGhDZWwuaW5uZXJIVE1MID0gZ3Jvd3RoO1xuICAgIHBvaW50c0NlbC5pbm5lckhUTUwgPSBwb2ludHM7XG5cbiAgICBpZiAoaWNvbi5sZW5ndGggPiAwKSB7XG4gICAgICBpY29uQ2VsSW1nLnNyYyA9IGljb247XG4gICAgICBpY29uQ2VsSW1nLmFsdCA9IG5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGljb25DZWxJbWcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICByYW5rQ2VsLmFwcGVuZENoaWxkKHJhbmtDZWxWYWx1ZSk7XG4gICAgY2VsbFdyYXBwZXIuYXBwZW5kQ2hpbGQocmFua0NlbCk7XG4gICAgaWNvbkNlbC5hcHBlbmRDaGlsZChpY29uQ2VsSW1nKTtcbiAgICBjZWxsV3JhcHBlci5hcHBlbmRDaGlsZChpY29uQ2VsKTtcbiAgICBjZWxsV3JhcHBlci5hcHBlbmRDaGlsZChuYW1lQ2VsKTtcbiAgICBjZWxsV3JhcHBlci5hcHBlbmRDaGlsZChncm93dGhDZWwpO1xuICAgIGNlbGxXcmFwcGVyLmFwcGVuZENoaWxkKHBvaW50c0NlbCk7XG5cbiAgICB2YXIgcmV3YXJkQ2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHJld2FyZEVuYWJsZWQgPSAodHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwgJiYgdHlwZW9mIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcyAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzLmxlbmd0aCA+IDApO1xuICAgIHJld2FyZENlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJld2FyZC1jb2wgY2wtY29sJyArIChyZXdhcmRFbmFibGVkID8gJyBjbC1jb2wtcmV3YXJkLWVuYWJsZWQnIDogJycpKTtcbiAgICByZXdhcmRDZWwuaW5uZXJIVE1MID0gKHR5cGVvZiByZXdhcmQgIT09ICd1bmRlZmluZWQnICYmIHJld2FyZCAhPT0gbnVsbCkgPyByZXdhcmQgOiAnJztcblxuICAgIGFkZENsYXNzKGNlbGxXcmFwcGVyLCAnY2wtcmV3YXJkLWVuYWJsZWQnKTtcblxuICAgIGNlbGxXcmFwcGVyLmFwcGVuZENoaWxkKHJld2FyZENlbCk7XG5cbiAgICByZXR1cm4gY2VsbFdyYXBwZXI7XG4gIH07XG5cbiAgdGhpcy5sZWFkZXJib2FyZFJvd1VwZGF0ZSA9IGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCwgb25NaXNzaW5nKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgY2VsbFJvdyA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1sYi1yYW5rLScgKyByYW5rICsgJy5jbC1sYi1jb3VudC0nICsgY291bnQpO1xuXG4gICAgaWYgKGNlbGxSb3cgPT09IG51bGwpIHtcbiAgICAgIG9uTWlzc2luZyhyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByYW5rQ2VsID0gcXVlcnkoY2VsbFJvdywgJy5jbC1yYW5rLWNvbC12YWx1ZScpO1xuICAgICAgdmFyIGljb25DZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLWljb24tY29sLWltZycpO1xuICAgICAgdmFyIG5hbWVDZWwgPSBxdWVyeShjZWxsUm93LCAnLmNsLW5hbWUtY29sJyk7XG4gICAgICB2YXIgZ3Jvd3RoQ2VsID0gcXVlcnkoY2VsbFJvdywgJy5jbC1ncm93dGgtY29sJyk7XG4gICAgICB2YXIgcG9pbnRzQ2VsID0gcXVlcnkoY2VsbFJvdywgJy5jbC1wb2ludHMtY29sJyk7XG4gICAgICB2YXIgbWVtYmVyRm91bmRDbGFzcyA9ICdjbC1sYi1tZW1iZXItcm93JztcbiAgICAgIHZhciByb3dIYXNDbGFzcyA9IGhhc0NsYXNzKGNlbGxSb3csIG1lbWJlckZvdW5kQ2xhc3MpO1xuXG4gICAgICBpZiAoY291bnQgPiAwICYmICFoYXNDbGFzcyhjZWxsUm93LCAnY2wtc2hhcmVkLXJhbmsnKSkge1xuICAgICAgICBhZGRDbGFzcyhjZWxsUm93LCAnY2wtc2hhcmVkLXJhbmsnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lbWJlckZvdW5kICYmICFyb3dIYXNDbGFzcykge1xuICAgICAgICBhZGRDbGFzcyhjZWxsUm93LCBtZW1iZXJGb3VuZENsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAoIW1lbWJlckZvdW5kICYmIHJvd0hhc0NsYXNzKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGNlbGxSb3csIG1lbWJlckZvdW5kQ2xhc3MpO1xuICAgICAgfVxuXG4gICAgICBjZWxsUm93LmRhdGFzZXQucmFuayA9IHJhbms7XG5cbiAgICAgIHJhbmtDZWwuaW5uZXJIVE1MID0gcmFuaztcbiAgICAgIG5hbWVDZWwuaW5uZXJIVE1MID0gbmFtZTtcblxuICAgICAgZ3Jvd3RoQ2VsLmRhdGFzZXQuZ3Jvd3RoID0gKGNoYW5nZSA8IDApID8gJ2Rvd24nIDogKGNoYW5nZSA+IDAgPyAndXAnIDogJ3NhbWUnKTtcbiAgICAgIGdyb3d0aENlbC5kYXRhc2V0LmNoYW5nZSA9IGNoYW5nZTtcbiAgICAgIGdyb3d0aENlbC5pbm5lckhUTUwgPSBncm93dGg7XG5cbiAgICAgIHBvaW50c0NlbC5pbm5lckhUTUwgPSBwb2ludHM7XG5cbiAgICAgIGlmIChpY29uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWNvbkNlbC5zcmMgPSBpY29uO1xuICAgICAgICBpY29uQ2VsLmFsdCA9IG5hbWU7XG4gICAgICAgIGljb25DZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpY29uQ2VsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gJ3VuZGVmaW5lZCcgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdCAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5yZXdhcmRzICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnJld2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgcmV3YXJkQ2VsID0gcXVlcnkoY2VsbFJvdywgJy5jbC1yZXdhcmQtY29sJyk7XG4gICAgICAgIGlmIChyZXdhcmRDZWwgIT09IG51bGwpIHtcbiAgICAgICAgICByZXdhcmRDZWwuaW5uZXJIVE1MID0gKHR5cGVvZiByZXdhcmQgIT09ICd1bmRlZmluZWQnICYmIHJld2FyZCAhPT0gbnVsbCkgPyByZXdhcmQgOiAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLnBvcHVsYXRlTGVhZGVyYm9hcmRSZXN1bHRzV2l0aERlZmF1bHRFbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHRvcFJlc3VsdHMgPSBbXTtcbiAgICB2YXIgcmVtYWluaW5nUmVzdWx0cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50b3BSZXN1bHRTaXplOyBpKyspIHtcbiAgICAgIGNvbnN0IHJhbmsgPSBpICsgMTtcblxuICAgICAgdG9wUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgbmFtZTogJy0tJyxcbiAgICAgICAgcmFuazogcmFuayxcbiAgICAgICAgcG9pbnRzOiAnLS0nLFxuICAgICAgICBtZW1iZXJJZDogJycsXG4gICAgICAgIG1lbWJlclJlZklkOiAnJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgcyA9IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdFNpemU7IHMgPCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5kZWZhdWx0RW1wdHlMaXN0OyBzKyspIHtcbiAgICAgIGNvbnN0IHJhbmsgPSBzICsgMTtcblxuICAgICAgcmVtYWluaW5nUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgbmFtZTogJy0tJyxcbiAgICAgICAgcmFuazogcmFuayxcbiAgICAgICAgcG9pbnRzOiAnLS0nLFxuICAgICAgICBtZW1iZXJJZDogJycsXG4gICAgICAgIG1lbWJlclJlZklkOiAnJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RoaXMudXBkYXRlTGVhZGVyYm9hcmRUb3BSZXN1bHRzKHRvcFJlc3VsdHMpO1xuICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkUmVzdWx0cyhyZW1haW5pbmdSZXN1bHRzKTtcbiAgfTtcblxuICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkVG9wUmVzdWx0cyA9IGZ1bmN0aW9uICh0b3BSZXN1bHRzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgcmFua0NoZWNrID0gW107XG4gICAgdmFyIGNsZWFudXBSYW5rQ2hlY2sgPSBbXTtcblxuICAgIC8vIGNsZWFudXBcbiAgICB3aW5kb3cubWFwT2JqZWN0KHRvcFJlc3VsdHMsIGZ1bmN0aW9uIChsYikge1xuICAgICAgY2xlYW51cFJhbmtDaGVjay5wdXNoKGxiLnJhbmspO1xuICAgICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudG9wUmVzdWx0cywgJy5jbC1sYi1yYW5rLScgKyBsYi5yYW5rICsgJy5jbC1zaGFyZWQtcmFuaycpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJlbW92ZShvYmopO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50b3BSZXN1bHRzLCAnLmNsLWxiLXJvdycpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICB2YXIgcmFuayA9IHBhcnNlSW50KG9iai5kYXRhc2V0LnJhbmspO1xuICAgICAgaWYgKGNsZWFudXBSYW5rQ2hlY2suaW5kZXhPZihyYW5rKSA9PT0gLTEgJiYgcmFuayA+IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmRlZmF1bHRFbXB0eUxpc3QpIHtcbiAgICAgICAgcmVtb3ZlKG9iaik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3aW5kb3cubWFwT2JqZWN0KHRvcFJlc3VsdHMsIGZ1bmN0aW9uIChsYikge1xuICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgIHZhciBpY29uID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQucG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZShsYi5tZW1iZXJJZCk7XG4gICAgICB2YXIgbWVtYmVyRm91bmQgPSAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgPT09IGxiLm1lbWJlcklkIHx8IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkID09PSBsYi5tZW1iZXJSZWZJZCk7XG4gICAgICB2YXIgbWVtYmVyTmFtZSA9IChtZW1iZXJGb3VuZCkgPyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC55b3UgOiBsYi5uYW1lO1xuICAgICAgdmFyIHJld2FyZCA9IF90aGlzLmdldFJld2FyZChsYi5yYW5rKTtcbiAgICAgIHZhciBjaGFuZ2UgPSAodHlwZW9mIGxiLmNoYW5nZSA9PT0gJ3VuZGVmaW5lZCcpID8gMCA6IGxiLmNoYW5nZTtcbiAgICAgIHZhciBncm93dGhUeXBlID0gKGNoYW5nZSA8IDApID8gJ2Rvd24nIDogKGNoYW5nZSA+IDAgPyAndXAnIDogJ3NhbWUnKTtcbiAgICAgIHZhciBncm93dGhJY29uID0gXCI8c3BhbiBjbGFzcz0nY2wtZ3Jvd3RoLWljb24gY2wtZ3Jvd3RoLVwiICsgZ3Jvd3RoVHlwZSArIFwiJz48L3NwYW4+XCI7XG5cbiAgICAgIGlmIChyYW5rQ2hlY2suaW5kZXhPZihsYi5yYW5rKSAhPT0gLTEpIHtcbiAgICAgICAgZm9yICh2YXIgcmMgPSAwOyByYyA8IHJhbmtDaGVjay5sZW5ndGg7IHJjKyspIHtcbiAgICAgICAgICBpZiAobGIucmFuayA9PT0gcmFua0NoZWNrW3JjXSkge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMubGVhZGVyYm9hcmRSb3dVcGRhdGUoXG4gICAgICAgIGxiLnJhbmssXG4gICAgICAgIGljb24sIC8vIGljb25cbiAgICAgICAgbWVtYmVyTmFtZSxcbiAgICAgICAgY2hhbmdlLFxuICAgICAgICBncm93dGhJY29uLCAvLyBncm93dGhcbiAgICAgICAgbGIucG9pbnRzLFxuICAgICAgICByZXdhcmQsIC8vIHJld2FyZFxuICAgICAgICBjb3VudCxcbiAgICAgICAgbWVtYmVyRm91bmQsXG4gICAgICAgIGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCkge1xuICAgICAgICAgIHZhciBuZXdSb3cgPSBfdGhpcy5sZWFkZXJib2FyZFJvdyhyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCk7XG4gICAgICAgICAgdmFyIHByZXZDZWxsUm93ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCAnLmNsLWxiLXJhbmstJyArIHJhbmsgKyAnLmNsLWxiLWNvdW50LScgKyAoY291bnQgLSAxKSk7XG5cbiAgICAgICAgICBpZiAocHJldkNlbGxSb3cgIT09IG51bGwgJiYgdHlwZW9mIHByZXZDZWxsUm93Lmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGFwcGVuZE5leHQocHJldkNlbGxSb3csIG5ld1Jvdyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdHMuYXBwZW5kQ2hpbGQobmV3Um93KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJhbmtDaGVjay5wdXNoKGxiLnJhbmspO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0UmV3YXJkID0gZnVuY3Rpb24gKHJhbmspIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByZXdhcmRSZXNwb25zZSA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ICE9PSAndW5kZWZpbmVkJyAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0ICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cubWFwT2JqZWN0KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QucmV3YXJkcywgZnVuY3Rpb24gKHJld2FyZCkge1xuICAgICAgICBpZiAocmV3YXJkLnJld2FyZFJhbmsgaW5zdGFuY2VvZiBBcnJheSAmJiByZXdhcmQucmV3YXJkUmFuay5pbmRleE9mKHJhbmspICE9PSAtMSkge1xuICAgICAgICAgIHJld2FyZFJlc3BvbnNlLnB1c2goX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRGb3JtYXR0ZXIocmV3YXJkKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXdhcmRSZXNwb25zZS5qb2luKCcsICcpO1xuICB9O1xuXG4gIHRoaXMudXBkYXRlTGVhZGVyYm9hcmRSZXN1bHRzID0gZnVuY3Rpb24gKHJlbWFpbmluZ1Jlc3VsdHMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByYW5rQ2hlY2sgPSBbXTtcbiAgICB2YXIgY2xlYW51cFJhbmtDaGVjayA9IFtdO1xuXG4gICAgLy8gY2xlYW51cFxuICAgIHdpbmRvdy5tYXBPYmplY3QocmVtYWluaW5nUmVzdWx0cywgZnVuY3Rpb24gKGxiKSB7XG4gICAgICBjbGVhbnVwUmFua0NoZWNrLnB1c2gobGIucmFuayk7XG4gICAgICBvYmplY3RJdGVyYXRvcihxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LCAnLmNsLWxiLXJhbmstJyArIGxiLnJhbmsgKyAnLmNsLXNoYXJlZC1yYW5rJyksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmVtb3ZlKG9iaik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1sYi1yb3cnKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgdmFyIHJhbmsgPSBwYXJzZUludChvYmouZGF0YXNldC5yYW5rKTtcbiAgICAgIGlmIChjbGVhbnVwUmFua0NoZWNrLmluZGV4T2YocmFuaykgPT09IC0xICYmIHJhbmsgPiBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5kZWZhdWx0RW1wdHlMaXN0KSB7XG4gICAgICAgIHJlbW92ZShvYmopO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgd2luZG93Lm1hcE9iamVjdChyZW1haW5pbmdSZXN1bHRzLCBmdW5jdGlvbiAobGIpIHtcbiAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICB2YXIgaWNvbiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnBvcHVsYXRlSWRlbnRpY29uQmFzZTY0SW1hZ2UobGIubWVtYmVySWQpO1xuICAgICAgdmFyIG1lbWJlckZvdW5kID0gKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkID09PSBsYi5tZW1iZXJJZCB8fCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCA9PT0gbGIubWVtYmVyUmVmSWQpO1xuICAgICAgdmFyIG1lbWJlck5hbWUgPSAobWVtYmVyRm91bmQpID8gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQueW91IDogbGIubmFtZTtcbiAgICAgIHZhciByZXdhcmQgPSBfdGhpcy5nZXRSZXdhcmQobGIucmFuayk7XG4gICAgICB2YXIgY2hhbmdlID0gKHR5cGVvZiBsYi5jaGFuZ2UgPT09ICd1bmRlZmluZWQnKSA/IDAgOiBsYi5jaGFuZ2U7XG4gICAgICB2YXIgZ3Jvd3RoVHlwZSA9IChjaGFuZ2UgPCAwKSA/ICdkb3duJyA6IChjaGFuZ2UgPiAwID8gJ3VwJyA6ICdzYW1lJyk7XG4gICAgICB2YXIgZ3Jvd3RoSWNvbiA9IFwiPHNwYW4gY2xhc3M9J2NsLWdyb3d0aC1pY29uIGNsLWdyb3d0aC1cIiArIGdyb3d0aFR5cGUgKyBcIic+PC9zcGFuPlwiO1xuXG4gICAgICBpZiAocmFua0NoZWNrLmluZGV4T2YobGIucmFuaykgIT09IC0xKSB7XG4gICAgICAgIGZvciAodmFyIHJjID0gMDsgcmMgPCByYW5rQ2hlY2subGVuZ3RoOyByYysrKSB7XG4gICAgICAgICAgaWYgKGxiLnJhbmsgPT09IHJhbmtDaGVja1tyY10pIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmxlYWRlcmJvYXJkUm93VXBkYXRlKFxuICAgICAgICBsYi5yYW5rLFxuICAgICAgICBpY29uLCAvLyBpY29uXG4gICAgICAgIG1lbWJlck5hbWUsXG4gICAgICAgIGNoYW5nZSxcbiAgICAgICAgZ3Jvd3RoSWNvbiwgLy8gZ3Jvd3RoXG4gICAgICAgIGxiLnBvaW50cyxcbiAgICAgICAgcmV3YXJkLFxuICAgICAgICBjb3VudCxcbiAgICAgICAgbWVtYmVyRm91bmQsXG4gICAgICAgIGZ1bmN0aW9uIChyYW5rLCBpY29uLCBuYW1lLCBjaGFuZ2UsIGdyb3d0aCwgcG9pbnRzLCByZXdhcmQsIGNvdW50LCBtZW1iZXJGb3VuZCkge1xuICAgICAgICAgIHZhciBuZXdSb3cgPSBfdGhpcy5sZWFkZXJib2FyZFJvdyhyYW5rLCBpY29uLCBuYW1lLCBuYW1lLCBncm93dGgsIHBvaW50cywgcmV3YXJkLCBjb3VudCwgbWVtYmVyRm91bmQpO1xuICAgICAgICAgIHZhciBwcmV2Q2VsbFJvdyA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1sYi1yYW5rLScgKyByYW5rICsgJy5jbC1sYi1jb3VudC0nICsgKGNvdW50IC0gMSkpO1xuXG4gICAgICAgICAgaWYgKHByZXZDZWxsUm93ICE9PSBudWxsICYmIHR5cGVvZiBwcmV2Q2VsbFJvdy5sZW5ndGggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBhcHBlbmROZXh0KHByZXZDZWxsUm93LCBuZXdSb3cpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LmFwcGVuZENoaWxkKG5ld1Jvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICByYW5rQ2hlY2sucHVzaChsYi5yYW5rKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHRvcFJlc3VsdHMgPSBbXTtcbiAgICB2YXIgcmVtYWluaW5nUmVzdWx0cyA9IFtdO1xuXG4gICAgX3RoaXMucG9wdWxhdGVMZWFkZXJib2FyZFJlc3VsdHNXaXRoRGVmYXVsdEVudHJpZXMoKTtcblxuICAgIHdpbmRvdy5tYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhLCBmdW5jdGlvbiAobGIpIHtcbiAgICAgIGlmIChsYi5yYW5rIDw9IF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRvcFJlc3VsdFNpemUpIHtcbiAgICAgICAgdG9wUmVzdWx0cy5wdXNoKGxiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbWFpbmluZ1Jlc3VsdHMucHVzaChsYik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfdGhpcy51cGRhdGVMZWFkZXJib2FyZFRvcFJlc3VsdHModG9wUmVzdWx0cyk7XG4gICAgX3RoaXMudXBkYXRlTGVhZGVyYm9hcmRSZXN1bHRzKHJlbWFpbmluZ1Jlc3VsdHMpO1xuXG4gICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xuICAgIGlmIChtZW1iZXIgIT09IG51bGwpIHtcbiAgICAgIF90aGlzLm1pc3NpbmdNZW1iZXIoX3RoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyhtZW1iZXIsIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QucGFyZW50Tm9kZSkpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkVGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBkaWZmID0gbW9tZW50KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc2NoZWR1bGVkU3RhcnQpLmRpZmYobW9tZW50KCkpO1xuICAgIHZhciBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50aW1lckludGVydmFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudGltZXJJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaWYgKGRpZmYgPCAwICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA9PT0gMCkge1xuICAgICAgZGF0ZSA9ICcnO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPCAzKSB7XG4gICAgICBkaWZmID0gbW9tZW50KF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc2NoZWR1bGVkRW5kKS5kaWZmKG1vbWVudCgpKTtcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID09PSAzKSB7XG4gICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMuZmluaXNoaW5nO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID49IDQpIHtcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5maW5pc2hlZDtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5oZWFkZXJEYXRlLmlubmVySFRNTCA9IGRhdGU7XG4gICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lckRhdGUuaW5uZXJIVE1MID0gZGF0ZTtcblxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRpbWVySW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkVGltZSgpO1xuICAgIH0sIDEwMDApO1xuICB9O1xuXG4gIHRoaXMubGVhZGVyYm9hcmREZXRhaWxzVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIG1haW5MYWJlbCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnNlY3Rpb24sICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1jb250ZW50LWxhYmVsJyk7XG5cbiAgICBtYWluTGFiZWwuaW5uZXJIVE1MID0gKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpID8gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5sYWJlbCA6IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnRvdXJuYW1lbnRzLm5vQXZhaWxhYmxlQ29tcGV0aXRpb25zO1xuICB9O1xuXG4gIHRoaXMubGVhZGVyYm9hcmRPcHRJbkNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIG9wdEluID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1sYi1vcHRpbi1hY3Rpb24nKTtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24gIT09ICd1bmRlZmluZWQnICYmIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uICE9PSBudWxsICYmIHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkID09PSAnYm9vbGVhbicgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCkge1xuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmICFfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbikge1xuICAgICAgICBvcHRJbi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5lbnRlcjtcbiAgICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdEluLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfTtcblxuICAvLyBjbGVhbnVwL3JlY292ZXIgYWN0aXZpdHlcbiAgdGhpcy5wcmVMb2FkZXJSZXJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJBY3RpdmUgJiYgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZWxvYWRlckNhbGxiYWNrUmVjb3ZlcnkgIT09IG51bGwgJiZcbiAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJsYXN0QXR0ZW1wdCAhPT0gbnVsbCAmJiB0eXBlb2YgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlcmxhc3RBdHRlbXB0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgKF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJsYXN0QXR0ZW1wdCArIDgwMDApIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5KCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucHJlbG9hZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHByZUxvYWRlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnNlY3Rpb24sICcuY2wtbWFpbi13aWRnZXQtcHJlLWxvYWRlcicpO1xuICAgIC8vIHZhciBjb250ZW50ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1wcmUtbG9hZGVyLWNvbnRlbnQnKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzaG93OiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlckFjdGl2ZSA9IHRydWU7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJsYXN0QXR0ZW1wdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBwcmVMb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHByZUxvYWRlci5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfSwgMjApO1xuXG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSA9PT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSA9IGNhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0sXG4gICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVMb2FkZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MucHJlTG9hZGVyLnByZUxvYWRlcmxhc3RBdHRlbXB0ID0gbnVsbDtcbiAgICAgICAgcHJlTG9hZGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlbG9hZGVyQ2FsbGJhY2tSZWNvdmVyeSAhPT0gbnVsbCkge1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLnByZUxvYWRlci5wcmVsb2FkZXJDYWxsYmFja1JlY292ZXJ5ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHByZUxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5sb2FkTGVhZGVyYm9hcmQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYmluZENvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5sYXlvdXQoKSk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LW5hdmlnYXRpb24tY29udGFpbmVyJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5zZWN0aW9uID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tY29udGFpbmVyJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5jb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LWxiLWxlYWRlcmJvYXJkJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5oZWFkZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItbGVhZGVyYm9hcmQtaGVhZGVyLWxhYmVscycpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQubGlzdCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1ib2R5LXJlcycpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQudG9wUmVzdWx0cyA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1oZWFkZXItdG9wLXJlcycpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWNvbnRhaW5lcicpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudExpc3RDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtdG91cm5hbWVudHMtbGlzdCcpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lckRhdGUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1oZWFkZXItZGF0ZScpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuaGVhZGVyRGF0ZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1oZWFkZXItZGF0ZScpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuY29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWNvbnRhaW5lcicpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkLmNvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLXJld2FyZCcpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtcmV3YXJkLWRldGFpbHMtY29udGFpbmVyJyk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5jb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1pbmJveCcpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubWVzc2FnZXMuZGV0YWlsc0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1pbmJveC1kZXRhaWxzLWNvbnRhaW5lcicpO1xuXG4gICAgICBfdGhpcy5sZWFkZXJib2FyZEhlYWRlcigpO1xuICAgICAgX3RoaXMuZXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBfdGhpcy5sZWFkZXJib2FyZE9wdEluQ2hlY2soKTtcbiAgICBfdGhpcy5sZWFkZXJib2FyZERldGFpbHNVcGRhdGUoKTtcbiAgICBfdGhpcy51cGRhdGVMZWFkZXJib2FyZCgpO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcbiAgICAgIF90aGlzLnVwZGF0ZUxlYWRlcmJvYXJkVGltZSgpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY2xlYXJBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLnRpbWVySW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC50aW1lckludGVydmFsKTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5wcmVMb2FkZXIucHJlTG9hZGVyQWN0aXZlID0gZmFsc2U7XG4gIH07XG5cbiAgdGhpcy5oaWRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmNsZWFyQWxsKCk7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyICE9PSBudWxsKSB7XG4gICAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1zaG93Jyk7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBfdGhpcy5oaWRlQ29tcGV0aXRpb25EZXRhaWxzKCk7XG4gICAgICAgIF90aGlzLmhpZGVBY2hpZXZlbWVudERldGFpbHMoKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzApO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLm1pc3NpbmdNZW1iZXIgPSBmdW5jdGlvbiAoaXNWaXNpYmxlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgYXJlYSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1taXNzaW5nLW1lbWJlcicpO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHZhciBtZW1iZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LCAnLmNsLWxiLW1lbWJlci1yb3cnKTtcblxuICAgICAgaWYgKGFyZWEgIT09IG51bGwgJiYgbWVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgIGFyZWEuaW5uZXJIVE1MID0gbWVtYmVyLmlubmVySFRNTDtcblxuICAgICAgICBhcmVhLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJlYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhcmVhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyA9IGZ1bmN0aW9uIChlbCwgY29udGFpbmVyKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGVsZW1Db250YWluZXIgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGVsZW1Ub3AgPSBwb3NpdGlvbi50b3A7XG4gICAgdmFyIGVsZW1Cb3R0b20gPSBwb3NpdGlvbi5ib3R0b207XG4gICAgdmFyIGVsZW1IZWlnaHQgPSBwb3NpdGlvbi5oZWlnaHQ7XG5cbiAgICByZXR1cm4gZWxlbVRvcCA8PSBlbGVtQ29udGFpbmVyLnRvcFxuICAgICAgPyBlbGVtQ29udGFpbmVyLnRvcCAtIGVsZW1Ub3AgPD0gZWxlbUhlaWdodCA6IGVsZW1Cb3R0b20gLSBlbGVtQ29udGFpbmVyLmJvdHRvbSA8PSBlbGVtSGVpZ2h0O1xuICB9O1xuXG4gIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QucGFyZW50Tm9kZS5vbnNjcm9sbCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xuXG4gICAgICBpZiAobWVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLm1pc3NpbmdNZW1iZXIoX3RoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyhtZW1iZXIsIGV2dC50YXJnZXQpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xuXG4gICAgICBpZiAobWVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgIF90aGlzLm1pc3NpbmdNZW1iZXIoX3RoaXMuaXNFbGVtZW50VmlzaWJsZUluVmlldyhtZW1iZXIsIF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QucGFyZW50Tm9kZSkpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gdGhpcy5jaGVja0xlYWRlcmJvYXJkU2Nyb2xsQ29udGFpbmVyID0gZnVuY3Rpb24oKXtcbiAgLy8gIHZhciBfdGhpcyA9IHRoaXMsXG4gIC8vICAgIGxiU2Nyb2xsQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MubGVhZGVyYm9hcmQuY29udGFpbmVyLCBcIi5jbC1tYWluLXdpZGdldC1sYi1sZWFkZXJib2FyZC1ib2R5XCIpO1xuICAvL1xuICAvLyAgaWYoIHNjcm9sbEVuYWJsZWQobGJTY3JvbGxDb250YWluZXIpICl7XG4gIC8vICAgIGFkZENsYXNzKGxiU2Nyb2xsQ29udGFpbmVyLCBcImNsLWVsZW1lbnQtc2Nyb2xsYWJsZVwiKTtcbiAgLy8gIH1lbHNle1xuICAvLyAgICByZW1vdmVDbGFzcyhsYlNjcm9sbENvbnRhaW5lciwgXCJjbC1lbGVtZW50LXNjcm9sbGFibGVcIik7XG4gIC8vICB9XG4gIC8vIH07XG5cbiAgdGhpcy5jb21wZXRpdGlvbkRldGFpbHNPcHRJbkJ1dHRvblN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIG9wdEluID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLW9wdGluLWFjdGlvbicpO1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpblJlcXVpcmVkID09PSAnYm9vbGVhbicgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24ub3B0aW5SZXF1aXJlZCkge1xuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmICFfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbikge1xuICAgICAgICBvcHRJbi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi50b3VybmFtZW50cy5lbnRlcjtcbiAgICAgICAgcmVtb3ZlQ2xhc3Mob3B0SW4sICdjbC1kaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0SW4uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMucmVnaXN0ZXJlZDtcbiAgICAgICAgYWRkQ2xhc3Mob3B0SW4sICdjbC1kaXNhYmxlZCcpO1xuICAgICAgfVxuICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0SW4ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmxvYWRDb21wZXRpdGlvbkRldGFpbHMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBsYWJlbCA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcbiAgICAvLyB2YXIgZGF0ZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtbGItZGV0YWlscy1oZWFkZXItZGF0ZScpO1xuICAgIHZhciBib2R5ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1sYi1kZXRhaWxzLWJvZHknKTtcbiAgICB2YXIgaW1hZ2UgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWxiLWRldGFpbHMtYm9keS1pbWFnZS1jb250Jyk7XG5cbiAgICBpbWFnZS5pbm5lckhUTUwgPSAnJztcbiAgICBsYWJlbC5pbm5lckhUTUwgPSAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5sYWJlbC5sZW5ndGggPiAwKSA/IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QubGFiZWwgOiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5sYWJlbDtcbiAgICBib2R5LmlubmVySFRNTCA9IChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LmRlc2NyaXB0aW9uLmxlbmd0aCA+IDApID8gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5kZXNjcmlwdGlvbiA6IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbXBldGl0aW9uLmRlc2NyaXB0aW9uO1xuICAgIF90aGlzLmNvbXBldGl0aW9uRGV0YWlsc09wdEluQnV0dG9uU3RhdGUoKTtcblxuICAgIF90aGlzLnNldHRpbmdzLmRldGFpbHNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgX3RoaXMuc2V0dGluZ3MuaGVhZGVyRGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmV4dHJhY3RJbWFnZUhlYWRlcikge1xuICAgICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoYm9keSwgJ2ltZycpLCBmdW5jdGlvbiAoaW1nLCBrZXksIGNvdW50KSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgIHZhciBuZXdJbWcgPSBpbWcuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgIGltYWdlLmFwcGVuZENoaWxkKG5ld0ltZyk7XG5cbiAgICAgICAgICByZW1vdmUoaW1nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgIH0sIDUwKTtcbiAgfTtcblxuICB0aGlzLmxvYWRDb21wZXRpdGlvbkxpc3QgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGFqYXhJbnN0YW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxpc3RSZXNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC10b3VybmFtZW50cy1saXN0LWJvZHktcmVzJyk7XG4gICAgdmFyIHByZUxvYWRlciA9IF90aGlzLnByZWxvYWRlcigpO1xuXG4gICAgcHJlTG9hZGVyLnNob3coZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuY2hlY2tGb3JBdmFpbGFibGVDb21wZXRpdGlvbnMoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWNjb3JkaW9uT2JqID0gX3RoaXMuYWNjb3JkaW9uU3R5bGUoX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudHNTZWN0aW9uLmFjY29yZGlvbkxheW91dCwgZnVuY3Rpb24gKGFjY29yZGlvblNlY3Rpb24sIGxpc3RDb250YWluZXIsIHRvcEVudHJ5Q29udGFpbmVyLCBsYXlvdXQpIHtcbiAgICAgICAgICB2YXIgdG91cm5hbWVudERhdGEgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50b3VybmFtZW50c1tsYXlvdXQudHlwZV07XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHRvdXJuYW1lbnREYXRhICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKHRvdXJuYW1lbnREYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBhY2NvcmRpb25TZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aW5kb3cubWFwT2JqZWN0KHRvdXJuYW1lbnREYXRhLCBmdW5jdGlvbiAodG91cm5hbWVudCwga2V5LCBjb3VudCkge1xuICAgICAgICAgICAgICBpZiAoKGNvdW50ICsgMSkgPD0gbGF5b3V0LnNob3dUb3BSZXN1bHRzICYmIHF1ZXJ5KHRvcEVudHJ5Q29udGFpbmVyLCAnLmNsLXRvdXJuYW1lbnQtJyArIHRvdXJuYW1lbnQuaWQpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvcEVudHJ5Q29udGFpbmVSbGlzdEl0ZW0gPSBfdGhpcy50b3VybmFtZW50SXRlbSh0b3VybmFtZW50KTtcbiAgICAgICAgICAgICAgICB0b3BFbnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b3BFbnRyeUNvbnRhaW5lUmxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChxdWVyeShsaXN0Q29udGFpbmVyLCAnLmNsLXRvdXJuYW1lbnQtJyArIHRvdXJuYW1lbnQuaWQpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMudG91cm5hbWVudEl0ZW0odG91cm5hbWVudCk7XG4gICAgICAgICAgICAgICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGlzdFJlc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgbGlzdFJlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhY2NvcmRpb25PYmopO1xuXG4gICAgICAgIF90aGlzLnNldHRpbmdzLnRvdXJuYW1lbnRMaXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG5cbiAgICAgICAgICBwcmVMb2FkZXIuaGlkZSgpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9LCBhamF4SW5zdGFuY2UpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuaGlkZUNvbXBldGl0aW9uTGlzdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy50b3VybmFtZW50TGlzdENvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MudG91cm5hbWVudExpc3RDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIHRoaXMuaGlkZUNvbXBldGl0aW9uRGV0YWlscyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuaGVhZGVyRGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIHRoaXMuYWNoaWV2ZW1lbnRJdGVtID0gZnVuY3Rpb24gKGFjaCwgYWNoaWV2ZWQsIHBlcmMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBkZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGNhdGVnb3J5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHByb2dyZXNzaW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBwcm9ncmVzc2lvbkNvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcHJvZ3Jlc3Npb25CYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbW9yZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgY3BvbW50YWluc0ltYWdlID0gKHR5cGVvZiBhY2guaWNvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgYWNoLmljb24ubGVuZ3RoID4gMCk7XG5cbiAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWl0ZW0gY2wtYWNoLScgKyBhY2guaWQgKyAoY3BvbW50YWluc0ltYWdlID8gJyBjbC1hY2gtd2l0aC1pbWFnZScgOiAnJykpO1xuICAgIGRldGFpbHNDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1hY2gtbGlzdC1kZXRhaWxzLWNvbnQnKTtcbiAgICBkZXRhaWxzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWRldGFpbHMtd3JhcCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1sYWJlbCcpO1xuICAgIGNhdGVnb3J5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1jYXRlZ29yeScpO1xuICAgIGRlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtZGV0YWlscy1kZXNjcmlwdGlvbicpO1xuICAgIHByb2dyZXNzaW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LXByb2dyZXNzaW9uJyk7XG4gICAgcHJvZ3Jlc3Npb25Db250LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtcHJvZ3Jlc3Npb24tY29udCcpO1xuICAgIHByb2dyZXNzaW9uQmFyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtcHJvZ3Jlc3Npb24tYmFyJyk7XG4gICAgbW9yZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LW1vcmUnKTtcblxuICAgIG1vcmVCdXR0b24uZGF0YXNldC5pZCA9IGFjaC5pZDtcbiAgICBtb3JlQnV0dG9uLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmFjaGlldmVtZW50cy5tb3JlO1xuICAgIG1vcmVCdXR0b24uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcblxuICAgIGxpc3RJdGVtLmRhdGFzZXQuaWQgPSBhY2guaWQ7XG5cbiAgICBsYWJlbC5pbm5lckhUTUwgPSBhY2gubmFtZTtcbiAgICBjYXRlZ29yeS5pbm5lckhUTUwgPSBhY2guY2F0ZWdvcnkuam9pbignLCAnKTtcblxuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChjYXRlZ29yeSk7XG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuXG4gICAgaWYgKGNwb21udGFpbnNJbWFnZSkge1xuICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICB2YXIgaW1hZ2VJY29uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaW1hZ2VJY29uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWFjaC1saXN0LWl0ZW0taW1nLXdyYXBwZXInKTtcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtYWNoLWxpc3QtaXRlbS1pbWcnKTtcblxuICAgICAgaW1hZ2Uuc3JjID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuYXNzZXRzLnJlcGxhY2UoJzphdHRhY2htZW50SWQnLCBhY2guaWNvbik7XG4gICAgICBpbWFnZS5hbHQgPSBhY2gubmFtZTtcblxuICAgICAgLy8gaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIH07XG5cbiAgICAgIGltYWdlSWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWFnZUljb25XcmFwcGVyKTtcbiAgICB9XG5cbiAgICBkZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRldGFpbHNXcmFwcGVyKTtcblxuICAgIHByb2dyZXNzaW9uQ29udC5hcHBlbmRDaGlsZChwcm9ncmVzc2lvbkJhcik7XG4gICAgcHJvZ3Jlc3Npb25XcmFwcGVyLmFwcGVuZENoaWxkKHByb2dyZXNzaW9uQ29udCk7XG4gICAgcHJvZ3Jlc3Npb25XcmFwcGVyLmFwcGVuZENoaWxkKG1vcmVCdXR0b24pO1xuXG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZGV0YWlsc0NvbnRhaW5lcik7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQocHJvZ3Jlc3Npb25XcmFwcGVyKTtcblxuICAgIHJldHVybiBsaXN0SXRlbTtcbiAgfTtcblxuICB0aGlzLmFjaGlldmVtZW50TGlzdExheW91dCA9IGZ1bmN0aW9uIChhY2hpZXZlbWVudERhdGEpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBhY2hMaXN0ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3Muc2VjdGlvbiwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWFjaCAuY2wtbWFpbi13aWRnZXQtYWNoLWxpc3QtYm9keS1yZXMnKTtcblxuICAgIHdpbmRvdy5tYXBPYmplY3QoYWNoaWV2ZW1lbnREYXRhLCBmdW5jdGlvbiAoYWNoKSB7XG4gICAgICBpZiAocXVlcnkoYWNoTGlzdCwgJy5jbC1hY2gtJyArIGFjaC5pZCkgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMuYWNoaWV2ZW1lbnRJdGVtKGFjaCk7XG5cbiAgICAgICAgYWNoTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5sb2FkQWNoaWV2ZW1lbnREZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbGFiZWwgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWFjaC1kZXRhaWxzLWhlYWRlci1sYWJlbCcpO1xuICAgIHZhciBib2R5ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1ib2R5Jyk7XG4gICAgdmFyIGltYWdlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1hY2gtZGV0YWlscy1ib2R5LWltYWdlLWNvbnQnKTtcblxuICAgIGltYWdlLmlubmVySFRNTCA9ICcnO1xuXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gZGF0YS5kYXRhLm5hbWU7XG4gICAgYm9keS5pbm5lckhUTUwgPSBkYXRhLmRhdGEuZGVzY3JpcHRpb247XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYWNoaWV2ZW1lbnRzLmV4dHJhY3RJbWFnZUhlYWRlcikge1xuICAgICAgdmFyIGltYWdlTG9va3VwID0gcXVlcnkoYm9keSwgJ2ltZycpO1xuICAgICAgb2JqZWN0SXRlcmF0b3IoaW1hZ2VMb29rdXAsIGZ1bmN0aW9uIChpbWcsIGtleSwgY291bnQpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgdmFyIG5ld0ltZyA9IGltZy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgaW1hZ2UuYXBwZW5kQ2hpbGQobmV3SW1nKTtcblxuICAgICAgICAgIHJlbW92ZShpbWcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYWRkQ2xhc3MoX3RoaXMuc2V0dGluZ3MuYWNoaWV2ZW1lbnQuZGV0YWlsc0NvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICB9LCA1MCk7XG4gIH07XG5cbiAgdGhpcy5oaWRlQWNoaWV2ZW1lbnREZXRhaWxzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLmFjaGlldmVtZW50LmRldGFpbHNDb250YWluZXIsICdjbC1zaG93Jyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgfSwgMjAwKTtcbiAgfTtcblxuICB0aGlzLmxvYWRSZXdhcmREZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbGFiZWwgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1oZWFkZXItbGFiZWwnKTtcbiAgICB2YXIgYm9keSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXJld2FyZC1kZXRhaWxzLWJvZHknKTtcbiAgICB2YXIgaW1hZ2UgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtZGV0YWlscy1ib2R5LWltYWdlLWNvbnQnKTtcbiAgICB2YXIgY2xhaW1CdG4gPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtY2xhaW0tYnRuJyk7XG4gICAgdmFyIGljb24gPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5yZXdhcmQuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1yZXdhcmQtd2lubmluZ3MtaWNvbicpO1xuICAgIHZhciB2YWx1ZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LXJld2FyZC13aW5uaW5ncy12YWx1ZScpO1xuXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gZGF0YS5kYXRhLnJld2FyZC5yZXdhcmROYW1lO1xuICAgIGJvZHkuaW5uZXJIVE1MID0gZGF0YS5kYXRhLnJld2FyZC5kZXNjcmlwdGlvbjtcbiAgICB2YWx1ZS5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5yZXdhcmRzLnJld2FyZEZvcm1hdHRlcihkYXRhLmRhdGEucmV3YXJkKTtcbiAgICBjbGFpbUJ0bi5kYXRhc2V0LmlkID0gZGF0YS5kYXRhLmlkO1xuXG4gICAgaWYgKGRhdGEuZGF0YS5jbGFpbWVkKSB7XG4gICAgICBhZGRDbGFzcyhjbGFpbUJ0biwgJ2NsLWNsYWltZWQnKTtcbiAgICAgIGNsYWltQnRuLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLnJld2FyZHMuY2xhaW1lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlQ2xhc3MoY2xhaW1CdG4sICdjbC1jbGFpbWVkJyk7XG4gICAgICBjbGFpbUJ0bi5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5yZXdhcmRzLmNsYWltO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YS5kYXRhLnJld2FyZC5pY29uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWNvbi5pbm5lckhUTUwgPSAnJztcblxuICAgICAgdmFyIF9pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgdmFyIGltYWdlSWNvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGltYWdlSWNvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXdhcmQtbGlzdC1pdGVtLWltZy13cmFwcGVyJyk7XG4gICAgICBfaW1hZ2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXdhcmQtbGlzdC1pdGVtLWltZycpO1xuXG4gICAgICBfaW1hZ2Uuc3JjID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLmdhdGV3YXlEb21haW4gKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuYXNzZXRzLnJlcGxhY2UoJzphdHRhY2htZW50SWQnLCBkYXRhLmRhdGEucmV3YXJkLmljb24pO1xuICAgICAgX2ltYWdlLmFsdCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnJld2FyZHMucmV3YXJkRm9ybWF0dGVyKGRhdGEuZGF0YS5yZXdhcmQpO1xuXG4gICAgICBpY29uLmFwcGVuZENoaWxkKF9pbWFnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGljb24uaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz0nY2wtcGxhY2UtaG9sZGVyLXJld2FyZC1pbWFnZSc+PC9zcGFuPlwiO1xuICAgIH1cblxuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KGJvZHksICdpbWcnKSwgZnVuY3Rpb24gKGltZywga2V5LCBjb3VudCkge1xuICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgIHZhciBuZXdJbWcgPSBpbWcuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBpbWFnZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgaW1hZ2UuYXBwZW5kQ2hpbGQobmV3SW1nKTtcblxuICAgICAgICByZW1vdmUoaW1nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYWRkQ2xhc3MoX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIsICdjbC1zaG93Jyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgfSwgNTApO1xuICB9O1xuXG4gIHRoaXMubG9hZE1lc3NhZ2VEZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbGFiZWwgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtaGVhZGVyLWxhYmVsJyk7XG4gICAgdmFyIGJvZHkgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLW1haW4td2lkZ2V0LWluYm94LWRldGFpbHMtYm9keScpO1xuXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gZGF0YS5kYXRhLnN1YmplY3Q7XG4gICAgYm9keS5pbm5lckhUTUwgPSBkYXRhLmRhdGEuYm9keTtcblxuICAgIF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLmRldGFpbHNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuICAgIH0sIDUwKTtcbiAgfTtcblxuICB0aGlzLmhpZGVSZXdhcmREZXRhaWxzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLnJld2FyZC5kZXRhaWxzQ29udGFpbmVyLCAnY2wtc2hvdycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MucmV3YXJkLmRldGFpbHNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIHRoaXMuaGlkZU1lc3NhZ2VEZXRhaWxzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLm1lc3NhZ2VzLmRldGFpbHNDb250YWluZXIsICdjbC1zaG93Jyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlcy5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG4gICAgfSwgMjAwKTtcbiAgfTtcblxuICB0aGlzLnVwZGF0ZUFjaGlldmVtZW50UHJvZ3Jlc3Npb25BbmRJc3N1ZWQgPSBmdW5jdGlvbiAoaXNzdWVkLCBwcm9ncmVzc2lvbikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGFjaExpc3QgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoIC5jbC1tYWluLXdpZGdldC1hY2gtbGlzdC1ib2R5LXJlcycpO1xuXG4gICAgb2JqZWN0SXRlcmF0b3IocXVlcnkoYWNoTGlzdCwgJy5jbC1hY2gtbGlzdC1pdGVtJyksIGZ1bmN0aW9uIChhY2gpIHtcbiAgICAgIHZhciBpZCA9IGFjaC5kYXRhc2V0LmlkO1xuICAgICAgdmFyIGlzc3VlZFN0YXR1cyA9IChpc3N1ZWQuaW5kZXhPZihpZCkgIT09IC0xKTtcblxuICAgICAgdmFyIHBlcmMgPSAwO1xuICAgICAgd2luZG93Lm1hcE9iamVjdChwcm9ncmVzc2lvbiwgZnVuY3Rpb24gKHByKSB7XG4gICAgICAgIGlmIChwci5hY2hpZXZlbWVudElkID09PSBpZCkge1xuICAgICAgICAgIHBlcmMgPSAocGFyc2VGbG9hdChwci5nb2FsUGVyY2VudGFnZUNvbXBsZXRlKSAqIDEwMCkudG9GaXhlZCgxKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhY2ggIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGJhciA9IHF1ZXJ5KGFjaCwgJy5jbC1hY2gtbGlzdC1wcm9ncmVzc2lvbi1iYXInKTtcblxuICAgICAgICBpZiAoaXNzdWVkU3RhdHVzKSB7XG4gICAgICAgICAgYWRkQ2xhc3MoYmFyLCAnY2wtYWNoLWNvbXBsZXRlJyk7XG4gICAgICAgICAgYmFyLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmFjaGlldmVtZW50cy5jb21wbGV0ZTtcbiAgICAgICAgICBiYXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFyLnN0eWxlLndpZHRoID0gKChwZXJjID4gMSB8fCBwZXJjID09PSAwKSA/IHBlcmMgOiAxKSArICclJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMubG9hZEFjaGlldmVtZW50cyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0ZvckF2YWlsYWJsZUFjaGlldmVtZW50cyhmdW5jdGlvbiAoYWNoaWV2ZW1lbnREYXRhKSB7XG4gICAgICBfdGhpcy5hY2hpZXZlbWVudExpc3RMYXlvdXQoYWNoaWV2ZW1lbnREYXRhKTtcblxuICAgICAgdmFyIGlkTGlzdCA9IFtdO1xuICAgICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5hY2hpZXZlbWVudHMubGlzdCwgZnVuY3Rpb24gKGFjaCkge1xuICAgICAgICBpZExpc3QucHVzaChhY2guaWQpO1xuICAgICAgfSk7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5jaGVja0Zvck1lbWJlckFjaGlldmVtZW50c0lzc3VlZChmdW5jdGlvbiAoaXNzdWVkKSB7XG4gICAgICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuY2hlY2tGb3JNZW1iZXJBY2hpZXZlbWVudHNQcm9ncmVzc2lvbihpZExpc3QsIGZ1bmN0aW9uIChwcm9ncmVzc2lvbikge1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlQWNoaWV2ZW1lbnRQcm9ncmVzc2lvbkFuZElzc3VlZChpc3N1ZWQsIHByb2dyZXNzaW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LCA0MDApO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5yZXdhcmRJdGVtID0gZnVuY3Rpb24gKHJldykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGV0YWlsc1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3LWxpc3QtaXRlbSBjbC1yZXctJyArIHJldy5pZCk7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXJldy1saXN0LWRldGFpbHMtY29udCcpO1xuICAgIGRldGFpbHNXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtcmV3LWxpc3QtZGV0YWlscy13cmFwJyk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXctbGlzdC1kZXRhaWxzLWxhYmVsJyk7XG4gICAgZGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1yZXctbGlzdC1kZXRhaWxzLWRlc2NyaXB0aW9uJyk7XG5cbiAgICBsaXN0SXRlbS5kYXRhc2V0LmlkID0gcmV3LmlkO1xuICAgIHZhciBsYWJlbFRleHQgPSBzdHJpcEh0bWwocmV3LnN1YmplY3QpO1xuICAgIHZhciBkZXNjcmlwdGlvblRleHQgPSBzdHJpcEh0bWwocmV3LmJvZHkpO1xuXG4gICAgaWYgKHR5cGVvZiByZXcucHJpemUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsaXN0SXRlbS5kYXRhc2V0LnJld2FyZElkID0gcmV3LnByaXplLmlkO1xuICAgICAgbGFiZWxUZXh0ID0gc3RyaXBIdG1sKHJldy5zdWJqZWN0ICsgJyAtICcgKyByZXcucHJpemUucmV3YXJkLnJld2FyZE5hbWUgKyAnICgnICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkcy5yZXdhcmRGb3JtYXR0ZXIocmV3LnByaXplLnJld2FyZCkgKyAnKScpO1xuICAgICAgZGVzY3JpcHRpb25UZXh0ID0gc3RyaXBIdG1sKCh0eXBlb2YgcmV3LnByaXplLnJld2FyZC5kZXNjcmlwdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgcmV3LnByaXplLnJld2FyZC5kZXNjcmlwdGlvbi5sZW5ndGggPiAwKSA/IHJldy5wcml6ZS5yZXdhcmQuZGVzY3JpcHRpb24gOiByZXcuYm9keSk7XG4gICAgfVxuXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gKGxhYmVsVGV4dC5sZW5ndGggPiA4MCkgPyAobGFiZWxUZXh0LnN1YnN0cigwLCA4MCkgKyAnLi4uJykgOiBsYWJlbFRleHQ7XG4gICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gKGRlc2NyaXB0aW9uVGV4dC5sZW5ndGggPiAyMDApID8gKGRlc2NyaXB0aW9uVGV4dC5zdWJzdHIoMCwgMjAwKSArICcuLi4nKSA6IGRlc2NyaXB0aW9uVGV4dDtcblxuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXRhaWxzV3JhcHBlcik7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZGV0YWlsc0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gbGlzdEl0ZW07XG4gIH07XG5cbiAgdGhpcy5tZXNzYWdlSXRlbSA9IGZ1bmN0aW9uIChpbmJveCkge1xuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGV0YWlsc1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgY29udGVudCA9IHN0cmlwSHRtbChpbmJveC5ib2R5KTtcblxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1pdGVtIGNsLWluYm94LScgKyBpbmJveC5pZCk7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLWluYm94LWxpc3QtZGV0YWlscy1jb250Jyk7XG4gICAgZGV0YWlsc1dyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1pbmJveC1saXN0LWRldGFpbHMtd3JhcCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtaW5ib3gtbGlzdC1kZXRhaWxzLWxhYmVsJyk7XG4gICAgZGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC1pbmJveC1saXN0LWRldGFpbHMtZGVzY3JpcHRpb24nKTtcblxuICAgIGxpc3RJdGVtLmRhdGFzZXQuaWQgPSBpbmJveC5pZDtcbiAgICBsYWJlbC5pbm5lckhUTUwgPSAoaW5ib3guc3ViamVjdC5sZW5ndGggPiAzNikgPyBpbmJveC5zdWJqZWN0LnN1YnN0cigwLCAzNikgKyAnLi4uJyA6IGluYm94LnN1YmplY3Q7XG4gICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gKGNvbnRlbnQubGVuZ3RoID4gNjApID8gY29udGVudC5zdWJzdHIoMCwgNjApICsgJy4uLicgOiBjb250ZW50O1xuXG4gICAgZGV0YWlsc1dyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICBkZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRldGFpbHNXcmFwcGVyKTtcbiAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChkZXRhaWxzQ29udGFpbmVyKTtcblxuICAgIHJldHVybiBsaXN0SXRlbTtcbiAgfTtcblxuICB0aGlzLnRvdXJuYW1lbnRJdGVtID0gZnVuY3Rpb24gKHRvdXJuYW1lbnQpIHtcbiAgICAvLyB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBkZXRhaWxzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRldGFpbHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uQ29udGVudCA9IHN0cmlwSHRtbCh0b3VybmFtZW50LmRlc2NyaXB0aW9uKTtcblxuICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtdG91ci1saXN0LWl0ZW0gY2wtdG91ci0nICsgdG91cm5hbWVudC5pZCk7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLWNvbnQnKTtcbiAgICBkZXRhaWxzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLXdyYXAnKTtcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXRvdXItbGlzdC1kZXRhaWxzLWxhYmVsJyk7XG4gICAgZGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC10b3VyLWxpc3QtZGV0YWlscy1kZXNjcmlwdGlvbicpO1xuXG4gICAgbGlzdEl0ZW0uZGF0YXNldC5pZCA9IHRvdXJuYW1lbnQuaWQ7XG4gICAgbGFiZWwuaW5uZXJIVE1MID0gdG91cm5hbWVudC5sYWJlbDtcbiAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSAoZGVzY3JpcHRpb25Db250ZW50Lmxlbmd0aCA+IDEwMCkgPyBkZXNjcmlwdGlvbkNvbnRlbnQuc3Vic3RyKDAsIDEwMCkgKyAnLi4uJyA6IGRlc2NyaXB0aW9uQ29udGVudDtcblxuICAgIGRldGFpbHNXcmFwcGVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBkZXRhaWxzV3JhcHBlci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXRhaWxzV3JhcHBlcik7XG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZGV0YWlsc0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gbGlzdEl0ZW07XG4gIH07XG5cbiAgdGhpcy5yZXdhcmRzTGlzdExheW91dCA9IGZ1bmN0aW9uIChyZXdhcmRzLCBhdmFpbGFibGVSZXdhcmRzLCBleHBpcmVkUmV3YXJkcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHJld2FyZExpc3QgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tcmV3YXJkIC5jbC1tYWluLXdpZGdldC1yZXdhcmQtbGlzdC1ib2R5LXJlcycpO1xuXG4gICAgdmFyIGFjY29yZGlvbk9iaiA9IF90aGlzLmFjY29yZGlvblN0eWxlKF90aGlzLnNldHRpbmdzLnJld2FyZHNTZWN0aW9uLmFjY29yZGlvbkxheW91dCwgZnVuY3Rpb24gKGFjY29yZGlvblNlY3Rpb24sIGxpc3RDb250YWluZXIsIHRvcEVudHJ5Q29udGFpbmVyLCBsYXlvdXQpIHtcbiAgICAgIHZhciByZXdhcmREYXRhID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MucmV3YXJkc1tsYXlvdXQudHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgcmV3YXJkRGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHJld2FyZERhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYWNjb3JkaW9uU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5tYXBPYmplY3QocmV3YXJkRGF0YSwgZnVuY3Rpb24gKHJldywga2V5LCBjb3VudCkge1xuICAgICAgICAgIGlmICgoY291bnQgKyAxKSA8PSBsYXlvdXQuc2hvd1RvcFJlc3VsdHMgJiYgcXVlcnkodG9wRW50cnlDb250YWluZXIsICcuY2wtcmV3YXJkLScgKyByZXcuaWQpID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgdG9wRW50cnlDb250YWluZVJsaXN0SXRlbSA9IF90aGlzLnJld2FyZEl0ZW0ocmV3KTtcbiAgICAgICAgICAgIHRvcEVudHJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKHRvcEVudHJ5Q29udGFpbmVSbGlzdEl0ZW0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChxdWVyeShsaXN0Q29udGFpbmVyLCAnLmNsLXJld2FyZC0nICsgcmV3LmlkKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMucmV3YXJkSXRlbShyZXcpO1xuICAgICAgICAgICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJld2FyZExpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgcmV3YXJkTGlzdC5hcHBlbmRDaGlsZChhY2NvcmRpb25PYmopO1xuXG4gICAgLy8gbWFwT2JqZWN0KHJld2FyZERhdGEsIGZ1bmN0aW9uKHJldyl7XG4gICAgLy8gICBpZiggcXVlcnkocmV3YXJkTGlzdCwgXCIuY2wtcmV3YXJkLVwiICsgcmV3LmlkKSA9PT0gbnVsbCApIHtcbiAgICAvLyAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMucmV3YXJkSXRlbShyZXcpO1xuICAgIC8vXG4gICAgLy8gICAgIHJld2FyZExpc3QuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuICB9O1xuXG4gIHRoaXMubWVzc2FnZXNMaXN0TGF5b3V0ID0gZnVuY3Rpb24gKHJld2FyZHMsIGF2YWlsYWJsZVJld2FyZHMsIGV4cGlyZWRSZXdhcmRzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbWVzc2FnZUxpc3QgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5zZWN0aW9uLCAnLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24taW5ib3ggLmNsLW1haW4td2lkZ2V0LWluYm94LWxpc3QtYm9keS1yZXMnKTtcblxuICAgIG1lc3NhZ2VMaXN0LmlubmVySFRNTCA9ICcnO1xuXG4gICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZXNzYWdlcy5tZXNzYWdlcywgZnVuY3Rpb24gKGluYm94SXRlbSwga2V5LCBjb3VudCkge1xuICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXMubWVzc2FnZUl0ZW0oaW5ib3hJdGVtKTtcbiAgICAgIG1lc3NhZ2VMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmxvYWRSZXdhcmRzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmNoZWNrRm9yQXZhaWxhYmxlUmV3YXJkcyhmdW5jdGlvbiAocmV3YXJkcywgYXZhaWxhYmxlUmV3YXJkcywgZXhwaXJlZFJld2FyZHMpIHtcbiAgICAgIF90aGlzLnJld2FyZHNMaXN0TGF5b3V0KHJld2FyZHMsIGF2YWlsYWJsZVJld2FyZHMsIGV4cGlyZWRSZXdhcmRzKTtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMubG9hZE1lc3NhZ2VzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmNoZWNrRm9yQXZhaWxhYmxlTWVzc2FnZXMoZnVuY3Rpb24gKHJld2FyZHMsIGF2YWlsYWJsZVJld2FyZHMsIGV4cGlyZWRSZXdhcmRzKSB7XG4gICAgICBfdGhpcy5tZXNzYWdlc0xpc3RMYXlvdXQocmV3YXJkcywgYXZhaWxhYmxlUmV3YXJkcywgZXhwaXJlZFJld2FyZHMpO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNoYW5nZUludGVydmFsO1xuICB2YXIgY2hhbmdlQ29udGFpbmVySW50ZXJ2YWw7XG4gIHRoaXMubmF2aWdhdGlvblN3aXRjaCA9IGZ1bmN0aW9uICh0YXJnZXQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgcHJlTG9hZGVyID0gX3RoaXMucHJlbG9hZGVyKCk7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MgJiYgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaExhc3RBdGVtcHQgKyAzMDAwIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcykge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaExhc3RBdGVtcHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgaWYgKCFoYXNDbGFzcyh0YXJnZXQucGFyZW50Tm9kZSwgJ2NsLWFjdGl2ZS1uYXYnKSkge1xuICAgICAgICBwcmVMb2FkZXIuc2hvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGNoYW5nZUludGVydmFsKSBjbGVhclRpbWVvdXQoY2hhbmdlSW50ZXJ2YWwpO1xuICAgICAgICAgIGlmIChjaGFuZ2VDb250YWluZXJJbnRlcnZhbCkgY2xlYXJUaW1lb3V0KGNoYW5nZUNvbnRhaW5lckludGVydmFsKTtcblxuICAgICAgICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWl0ZW1zIC5jbC1hY3RpdmUtbmF2JyksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKG9iaiwgJ2NsLWFjdGl2ZS1uYXYnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi1hY3RpdmUtc2VjdGlvbicpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhvYmosICdjbC1tYWluLWFjdGl2ZS1zZWN0aW9uJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgb2JqLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9LCAxNTApO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2hhbmdlQ29udGFpbmVySW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChoYXNDbGFzcyh0YXJnZXQsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWxiLWljb24nKSkge1xuICAgICAgICAgICAgICBfdGhpcy5sb2FkTGVhZGVyYm9hcmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBsYkNvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi13aWRnZXQtbGInKTtcblxuICAgICAgICAgICAgICAgIGxiQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGNoYW5nZUludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBhZGRDbGFzcyhsYkNvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9LCAzMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1hY2gtaWNvbicpKSB7XG4gICAgICAgICAgICAgIF90aGlzLmxvYWRBY2hpZXZlbWVudHMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY2hDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tYWNoJyk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5hY2hpZXZlbWVudC5kZXRhaWxzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgICAgICBhY2hDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgY2hhbmdlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGFjaENvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDMwKTtcblxuICAgICAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAnY2wtbWFpbi13aWRnZXQtbmF2aWdhdGlvbi1yZXdhcmRzLWljb24nKSkge1xuICAgICAgICAgICAgICBfdGhpcy5sb2FkUmV3YXJkcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJld2FyZHNDb250YWluZXIgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1jb250YWluZXIgLmNsLW1haW4td2lkZ2V0LXNlY3Rpb24tcmV3YXJkJyk7XG5cbiAgICAgICAgICAgICAgICByZXdhcmRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGNoYW5nZUludGVydmFsID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBhZGRDbGFzcyhyZXdhcmRzQ29udGFpbmVyLCAnY2wtbWFpbi1hY3RpdmUtc2VjdGlvbicpO1xuICAgICAgICAgICAgICAgIH0sIDMwKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJlTG9hZGVyLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzLm5hdmlnYXRpb25Td2l0Y2hJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDbGFzcyh0YXJnZXQsICdjbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWluYm94LWljb24nKSkge1xuICAgICAgICAgICAgICBfdGhpcy5sb2FkTWVzc2FnZXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmJveENvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi13aWRnZXQtc2VjdGlvbi1pbmJveCcpO1xuXG4gICAgICAgICAgICAgICAgaW5ib3hDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgY2hhbmdlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGluYm94Q29udGFpbmVyLCAnY2wtbWFpbi1hY3RpdmUtc2VjdGlvbicpO1xuICAgICAgICAgICAgICAgIH0sIDMwKTtcblxuICAgICAgICAgICAgICAgIHByZUxvYWRlci5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5uYXZpZ2F0aW9uU3dpdGNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAyNTApO1xuXG4gICAgICAgICAgYWRkQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUsICdjbC1hY3RpdmUtbmF2Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubmF2aWdhdGlvblN3aXRjaEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZXNldE5hdmlnYXRpb24gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBsYkNvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi13aWRnZXQtbGInKTtcblxuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWl0ZW1zIC5jbC1hY3RpdmUtbmF2JyksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJlbW92ZUNsYXNzKG9iaiwgJ2NsLWFjdGl2ZS1uYXYnKTtcbiAgICB9KTtcblxuICAgIG9iamVjdEl0ZXJhdG9yKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1zZWN0aW9uLWNvbnRhaW5lciAuY2wtbWFpbi1hY3RpdmUtc2VjdGlvbicpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICBvYmouc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHJlbW92ZUNsYXNzKG9iaiwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcbiAgICB9KTtcblxuICAgIGFkZENsYXNzKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWl0ZW1zIC5jbC1tYWluLXdpZGdldC1uYXZpZ2F0aW9uLWxiJyksICdjbC1hY3RpdmUtbmF2Jyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBsYkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRDbGFzcyhsYkNvbnRhaW5lciwgJ2NsLW1haW4tYWN0aXZlLXNlY3Rpb24nKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAndW5kZWZpbmVkJykgY2FsbGJhY2soKTtcbiAgICAgIH0sIDMwKTtcbiAgICB9LCA0MCk7XG4gIH07XG5cbiAgdGhpcy5pbml0TGF5b3V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XG5cbiAgICBfdGhpcy5sb2FkTGVhZGVyYm9hcmQoKTtcblxuICAgIF90aGlzLnNldHRpbmdzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLXNob3cnKTtcblxuICAgICAgdmFyIG1lbWJlciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmxlYWRlcmJvYXJkLmxpc3QsICcuY2wtbGItbWVtYmVyLXJvdycpO1xuICAgICAgaWYgKG1lbWJlciAhPT0gbnVsbCkge1xuICAgICAgICBfdGhpcy5taXNzaW5nTWVtYmVyKF90aGlzLmlzRWxlbWVudFZpc2libGVJblZpZXcobWVtYmVyLCBfdGhpcy5zZXR0aW5ncy5sZWFkZXJib2FyZC5saXN0LnBhcmVudE5vZGUpKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMucmVzZXROYXZpZ2F0aW9uKGNhbGxiYWNrKTtcbiAgICB9LCAzMCk7XG4gIH07XG59O1xuIiwiaW1wb3J0IGNMYWJzIGZyb20gJy4vY0xhYnMnO1xuXG4vKipcbiAqIFNTRSBNZXNzYWdpbmdcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IE1lc3NhZ2luZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHRoaXMuc2V0dGluZ3MgPSB7XG4gICAgc291cmNlOiBudWxsLFxuICAgIGFqYXg6IHtcbiAgICAgIHVybDogbnVsbCxcbiAgICAgIGFwaUtleTogdW5kZWZpbmVkLFxuICAgICAgZXJyb3JDYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgfVxuICAgIH0sXG4gICAgc3NlVXJsOiBudWxsLFxuICAgIGhlYXJ0YmVhdDogbnVsbCxcbiAgICBsYXN0SGVhcnRiZWF0OiBudWxsLFxuICAgIG1haW5BamF4OiBuZXcgY0xhYnMuQWpheCgpLFxuICAgIGhlYXJ0QmVhdEFqYXg6IG5ldyBjTGFicy5BamF4KCksXG4gICAgaGVhcnRXYWl0VGltZTogMjUwMDAsXG4gICAgbWVzc2FnZVF1ZXVlOiBbXSxcbiAgICBtZXNzYWdlSW50ZXJ2YWw6IDEwMDAsXG4gICAgc3RhcnR1cENoZWNrOiB0cnVlLFxuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgIH0sXG4gICAgb25TdGFydHVwRXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Nbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLmludGVydmFsSW5zdGFuY2UgPSBudWxsO1xuICB0aGlzLmhlYXJ0YmVhdEludGVydmFsSW5zdGFuY2UgPSBudWxsO1xuXG4gIHRoaXMubG9va3VwRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgZGF0YSA9IF90aGlzLnNldHRpbmdzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgdmFyIGluZGV4ID0gX3RoaXMuc2V0dGluZ3MubWVzc2FnZVF1ZXVlLmluZGV4T2YoZGF0YSk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5tZXNzYWdlUXVldWUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5hamF4LnVybCA9PT0gJ3N0cmluZycgJiYgX3RoaXMuc2V0dGluZ3MuYWpheC51cmwubGVuZ3RoID4gMCkge1xuICAgICAgICBfdGhpcy5nZXREYXRhKGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2FsbGJhY2soZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmludGVydmFsSW5zdGFuY2UgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5sb29rdXBEYXRhKCk7XG4gICAgfSwgX3RoaXMuc2V0dGluZ3MubWVzc2FnZUludGVydmFsKTtcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5oZWFydGJlYXQgIT09IG51bGwpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmxhc3RIZWFydGJlYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgX3RoaXMuaGVhcnRiZWF0SW50ZXJ2YWxJbnN0YW5jZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGRpZmYgPSBfdGhpcy5zZXR0aW5ncy5sYXN0SGVhcnRiZWF0LmdldFRpbWUoKSAtIGN1cnJlbnRUaW1lLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgPT09IDAgJiYgZGlmZiA+IF90aGlzLnNldHRpbmdzLmhlYXJ0V2FpdFRpbWUpIHtcbiAgICAgICAgICBfdGhpcy5jbG9zZUNoYW5lbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuaGVhckJlYXRDaGVjaygpO1xuICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuaGVhcnRXYWl0VGltZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgaGVhcnRiZWF0XG4gICAqIC0gaWYgdGhlIHJlcXVlc3QgaXMgZmFpbGluZyBjbG9zZSB0aGUgY29ubmVjdGlvblxuICAgKiAtIGlmIHRoZSByZXF1ZXN0IGlzIHN1Y2Nlc3NmdWwgYnV0IHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZCByZW9wZW4gYW5kIGNhbGwgZm9yIGEgaGVhcnRiZWF0IGFnYWluXG4gICAqL1xuICB0aGlzLmhlYXJCZWF0Q2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBkYXRhT2JqID0ge1xuICAgICAgdXJsOiBfdGhpcy5zZXR0aW5ncy5oZWFydGJlYXQsXG4gICAgICBoZWFkZXJzOiBfdGhpcy5zZXR0aW5ncy5hamF4LmFwaUtleSxcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlLCBkYXRhT2JqZWN0LCB4aHIpIHtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgIT09IDIwMCAmJiBfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gMCkge1xuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS5sb2coJ1tNc2ddIFNTRSBDbG9zaW5nIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICBfdGhpcy5jbG9zZUNoYW5lbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDIwMCAmJiBfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gMikge1xuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS5sb2coJ1tNc2ddIFNTRSBUcnlpbmcgdG8gcmUtb3BlbiB0aGUgY29ubmVjdGlvbicpO1xuICAgICAgICAgIF90aGlzLm9wZW5DaGFuZWwoKTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuaGVhckJlYXRDaGVjaygpO1xuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5hamF4LmFwaUtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGFPYmouaGVhZGVycyA9IF90aGlzLnNldHRpbmdzLmFqYXguYXBpS2V5O1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLmhlYXJ0QmVhdEFqYXguYWJvcnQoKS5nZXREYXRhKGRhdGFPYmopO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGRhdGFPYmogPSB7XG4gICAgICB1cmw6IF90aGlzLnNldHRpbmdzLmFqYXgudXJsLFxuICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIGRhdGFPYmplY3QsIHhocikge1xuICAgICAgICB2YXIganNvbiA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS5sb2coZSwgX3RoaXMuc2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5jYWxsYmFjayhqc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5zZXR0aW5ncy5hamF4LmVycm9yQ2FsbGJhY2soanNvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5hamF4LmFwaUtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGFPYmouaGVhZGVycyA9IF90aGlzLnNldHRpbmdzLmFqYXguYXBpS2V5O1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLm1haW5BamF4LmFib3J0KCkuZ2V0RGF0YShkYXRhT2JqKTtcbiAgfTtcblxuICB0aGlzLm9wZW5DaGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLnNldHRpbmdzLnNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZShfdGhpcy5zZXR0aW5ncy5zc2VVcmwsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlIH0pO1xuXG4gICAgX3RoaXMuc2VydmVyU2lkZUV2ZW50TGlzdGVuZXJzKF90aGlzLnNldHRpbmdzLnNvdXJjZSk7XG4gIH07XG5cbiAgdGhpcy5zZXJ2ZXJTaWRlRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBjb25uZWN0aW9uIG9wZW5lZCcsIGUpO1xuICAgIH0sIGZhbHNlKTtcblxuICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZygnW01zZ10gbWVzc2FnZSBjaGVjaycsIF90aGlzLnNldHRpbmdzLnNzZVVybCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGUuZGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGUuZGF0YTtcbiAgICAgIHZhciBqc29uID0gbnVsbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAganNvbiA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5oZWFydGJlYXQgIT09IG51bGwpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubGFzdEhlYXJ0YmVhdCA9IG5ldyBEYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChqc29uICE9PSBudWxsICYmIHR5cGVvZiBqc29uLmhlYXJ0YmVhdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubWVzc2FnZVF1ZXVlLnB1c2goanNvbik7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZygnW01zZ10gZXJyb3IgY2hlY2snLCBfdGhpcy5zZXR0aW5ncy5zc2VVcmwpO1xuICAgICAgfVxuXG4gICAgICAvKiBlc2xpbnQgZXFlcWVxOiBcIm9mZlwiICovXG4gICAgICBpZiAoZS5yZWFkeVN0YXRlID09IEV2ZW50U291cmNlLkNMT1NFRCkge1xuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUud2FybignW01zZ10gY29ubmVjdGlvbiBjbG9zZWQnLCBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS5sb2coZSwgZS5yZWFkeVN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuY2xvc2VDaGFuZWwoKTtcblxuICAgICAgX3RoaXMuc2V0dGluZ3Muc3RhcnR1cENoZWNrID0gZmFsc2U7XG4gICAgfSwgZmFsc2UpO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VDaGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnNldHRpbmdzLnNvdXJjZS5jbG9zZSgpO1xuICB9O1xuXG4gIHRoaXMuc3NlRmFpbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5oZWFydGJlYXQgPSBudWxsO1xuICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKF90aGlzLmhlYXJ0YmVhdEludGVydmFsSW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuaGVhcnRiZWF0SW50ZXJ2YWxJbnN0YW5jZSk7XG4gICAgfVxuXG4gICAgX3RoaXMuc2V0dGluZ3Mub25TdGFydHVwRXJyb3IoX3RoaXMuc2V0dGluZ3MpO1xuICB9O1xuXG4gIHRoaXMud2luZG93QWN0aXZpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaGlkZGVuID0gJ2hpZGRlbic7XG5cbiAgICAgIC8vIFN0YW5kYXJkczpcbiAgICAgIGlmIChoaWRkZW4gaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgIH0gZWxzZSBpZiAoKGhpZGRlbiA9ICdtb3pIaWRkZW4nKSBpbiBkb2N1bWVudCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3p2aXNpYmlsaXR5Y2hhbmdlJywgb25jaGFuZ2UpO1xuICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ3dlYmtpdEhpZGRlbicpIGluIGRvY3VtZW50KSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdHZpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XG4gICAgICB9IGVsc2UgaWYgKChoaWRkZW4gPSAnbXNIaWRkZW4nKSBpbiBkb2N1bWVudCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtc3Zpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XG4gICAgICB9IGVsc2UgaWYgKCdvbmZvY3VzaW4nIGluIGRvY3VtZW50KSB7IC8vIElFIDkgYW5kIGxvd2VyOlxuICAgICAgICBkb2N1bWVudC5vbmZvY3VzaW4gPSBkb2N1bWVudC5vbmZvY3Vzb3V0ID0gb25jaGFuZ2U7XG4gICAgICB9IGVsc2UgeyAvLyBBbGwgb3RoZXJzOlxuICAgICAgICB3aW5kb3cub25wYWdlc2hvdyA9IHdpbmRvdy5vbnBhZ2VoaWRlID0gd2luZG93Lm9uZm9jdXMgPSB3aW5kb3cub25ibHVyID0gb25jaGFuZ2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uY2hhbmdlIChldnQpIHtcbiAgICAgICAgdmFyIHN0YXR1cyA9ICcnO1xuICAgICAgICB2YXIgdiA9ICd2aXNpYmxlJztcbiAgICAgICAgdmFyIGggPSAnaGlkZGVuJztcbiAgICAgICAgdmFyIGV2dE1hcCA9IHtcbiAgICAgICAgICBmb2N1czogdiwgZm9jdXNpbjogdiwgcGFnZXNob3c6IHYsIGJsdXI6IGgsIGZvY3Vzb3V0OiBoLCBwYWdlaGlkZTogaFxuICAgICAgICB9O1xuXG4gICAgICAgIGV2dCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGlmIChldnQudHlwZSBpbiBldnRNYXApIHtcbiAgICAgICAgICBzdGF0dXMgPSBldnRNYXBbZXZ0LnR5cGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXR1cyA9IHRoaXNbaGlkZGVuXSA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ3Zpc2libGUnICYmIChfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSAhPT0gMCAmJiBfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSAhPT0gMSkpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuQ2hhbmVsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnaGlkZGVuJyAmJiAoX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgPT09IDAgfHwgX3RoaXMuc2V0dGluZ3Muc291cmNlLnJlYWR5U3RhdGUgPT09IDEpKSB7XG4gICAgICAgICAgX3RoaXMuY2xvc2VDaGFuZWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBzZXQgdGhlIGluaXRpYWwgc3RhdGUgKGJ1dCBvbmx5IGlmIGJyb3dzZXIgc3VwcG9ydHMgdGhlIFBhZ2UgVmlzaWJpbGl0eSBBUEkpXG4gICAgICBpZiAoZG9jdW1lbnRbaGlkZGVuXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9uY2hhbmdlKHsgdHlwZTogZG9jdW1lbnRbaGlkZGVuXSA/ICdibHVyJyA6ICdmb2N1cycgfSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRyeSB7XG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBTU0Ugc3RhcnRpbmcnLCBfdGhpcy5zZXR0aW5ncy5zc2VVcmwsIG5ldyBEYXRlKCkpO1xuXG4gICAgICBfdGhpcy5vcGVuQ2hhbmVsKCk7XG5cbiAgICAgIGlmIChfdGhpcy5zZXR0aW5ncy5kZWJ1ZykgY29uc29sZS5sb2coJ1tNc2ddIFNTRSBzdGFydGVkJywgX3RoaXMuc2V0dGluZ3Muc3NlVXJsLCBuZXcgRGF0ZSgpLCBfdGhpcy5zZXR0aW5ncy5zb3VyY2UucmVhZHlTdGF0ZSk7XG5cbiAgICAgIF90aGlzLnNldEludGVydmFsKCk7XG4gICAgICBfdGhpcy53aW5kb3dBY3Rpdml0eSgpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5ncy5zdGFydHVwQ2hlY2spIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnc3NlIGZhaWxlZCcpO1xuICAgICAgICAgIF90aGlzLnNzZUZhaWxlZCgpO1xuICAgICAgICB9XG4gICAgICB9LCAyMDAwKTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdbTXNnXSBjbG9zaW5nIG1lc3NhZ2luZyBzZXJ2aWNlJywgbmV3IERhdGUoKSk7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLnNvdXJjZS5jbG9zZSgpO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5oZWFydEJlYXRBamF4LmFib3J0KCk7XG5cbiAgICAgICAgaWYgKF90aGlzLmludGVydmFsSW5zdGFuY2UpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzLmludGVydmFsSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzLmRlYnVnKSBjb25zb2xlLmxvZygnW01zZ10gY2xvc2luZyBtZXNzYWdpbmcgc2VydmljZScpO1xuICAgICAgICBfdGhpcy5zZXR0aW5ncy5zb3VyY2UuY2xvc2UoKTtcblxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5oZWFydEJlYXRBamF4LmFib3J0KCk7XG5cbiAgICAgICAgaWYgKF90aGlzLmludGVydmFsSW5zdGFuY2UpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzLmludGVydmFsSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoX3RoaXMuc2V0dGluZ3MuZGVidWcpIGNvbnNvbGUubG9nKCdFdmVudFNvdXJjZSBmYWlsZWQnKTtcbiAgICAgIF90aGlzLnNzZUZhaWxlZCgpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmluaXQoKTtcbn07XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgcXVlcnkgZnJvbSAnLi4vdXRpbHMvcXVlcnknO1xuaW1wb3J0IGFkZENsYXNzIGZyb20gJy4uL3V0aWxzL2FkZENsYXNzJztcbmltcG9ydCBoYXNDbGFzcyBmcm9tICcuLi91dGlscy9oYXNDbGFzcyc7XG5pbXBvcnQgcmVtb3ZlQ2xhc3MgZnJvbSAnLi4vdXRpbHMvcmVtb3ZlQ2xhc3MnO1xuaW1wb3J0IHJlbW92ZSBmcm9tICcuLi91dGlscy9yZW1vdmUnO1xuaW1wb3J0IGRyYWdFbGVtZW50IGZyb20gJy4vZHJhZ0VsZW1lbnQnO1xuXG5leHBvcnQgY29uc3QgTWluaVNjb3JlQm9hcmQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB0aGlzLnNldHRpbmdzID0ge1xuICAgIGxiV2lkZ2V0OiBudWxsLFxuICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICBvdmVybGF5Q29udGFpbmVyOiBudWxsLFxuICAgIGluZm9Db250YWluZXI6IG51bGwsXG4gICAgdXBkYXRlSW50ZXJ2YWw6IG51bGwsXG4gICAgdXBkYXRlSW50ZXJ2YWxUaW1lOiAxMDAwLFxuICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgZW5hYmxlRHJhZ2dpbmc6IHRydWUsXG4gICAgZHJhZ2dpbmc6IGZhbHNlXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJykge1xuICAgIGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Nbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLmxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgaW5mb3JtYXRpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGluZm9ybWF0aW9uVG9wV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpbmZvcm1hdGlvbldyYXBwZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpbmZvcm1hdGlvbkNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy13cmFwcGVyJyk7XG4gICAgaWNvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtaWNvbi13cmFwcGVyJyk7XG4gICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pY29uJyk7XG4gICAgaW5mb3JtYXRpb25Ub3BXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXRvcC13cmFwcGVyJyk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWluZm9ybWF0aW9uLXdyYXBwZXInKTtcbiAgICBpbmZvcm1hdGlvbldyYXBwZXJDbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZS13cmFwcGVyJyk7XG4gICAgaW5mb3JtYXRpb25DbG9zZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi1jbG9zZScpO1xuXG4gICAgaW5mb3JtYXRpb25DbG9zZS5ocmVmID0gJ2phdmFzY3JpcHQ6dm9pZCgwKTsnO1xuICAgIGluZm9ybWF0aW9uQ2xvc2UuaW5uZXJIVE1MID0gJ3gnO1xuXG4gICAgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2UuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25DbG9zZSk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uV3JhcHBlckNsb3NlKTtcbiAgICBpbmZvcm1hdGlvblRvcFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25XcmFwcGVyKTtcbiAgICBpY29uV3JhcHBlci5hcHBlbmRDaGlsZChpY29uKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGljb25XcmFwcGVyKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uVG9wV3JhcHBlcik7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLm92ZXJsYXlMYXlvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3ZlcmxheS13cmFwcGVyJyk7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcblxuICB0aGlzLnRpbWVNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGRpZmYgPSAwO1xuICAgIHZhciBsYWJlbCA9ICcnO1xuICAgIHZhciBkYXRlID0gJyc7XG4gICAgdmFyIGRhdGVPYmogPSAnJztcbiAgICB2YXIgaW52ZXJzZSA9IGZhbHNlO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwpIHtcbiAgICAgIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zY2hlZHVsZWRTdGFydCkuZGlmZihtb21lbnQoKSk7XG4gICAgICBsYWJlbCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5zdGFydHNJbjtcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xuICAgICAgZGF0ZU9iaiA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LmZvcm1hdERhdGVUaW1lKG1vbWVudC5kdXJhdGlvbihkaWZmKSk7XG4gICAgICBpbnZlcnNlID0gZmFsc2U7XG5cbiAgICAgIGlmIChkaWZmIDwgMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDApIHtcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQuc3RhcnRpbmc7XG4gICAgICAgIGRhdGUgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID4gMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPCAzKSB7XG4gICAgICAgIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zY2hlZHVsZWRFbmQpLmRpZmYobW9tZW50KCkpO1xuICAgICAgICBkYXRlT2JqID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xuICAgICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLnJhbms7XG4gICAgICAgIGludmVyc2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDMpIHtcbiAgICAgICAgbGFiZWwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQuZmluaXNoaW5nO1xuICAgICAgICBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubWluaUxlYWRlcmJvYXJkLnJhbms7XG4gICAgICAgIGludmVyc2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPj0gNCkge1xuICAgICAgICBsYWJlbCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5maW5pc2hlZDtcbiAgICAgICAgZGF0ZSA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLm1pbmlMZWFkZXJib2FyZC5yYW5rO1xuICAgICAgICBpbnZlcnNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgZGlmZjogZGlmZixcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBkYXRlT2JqOiBkYXRlT2JqLFxuICAgICAgaW52ZXJzZTogaW52ZXJzZVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5sYXlvdXREZWZhdWx0T3JFbXB0eUVudHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsYlJlc3VsdHNNZW1FbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1SYW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGJSZXN1bHRzTWVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbVBvaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tZW50cnknKTtcbiAgICBsYlJlc3VsdHNNZW1MYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1sYWJlbCcpO1xuICAgIGxiUmVzdWx0c01lbVJhbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcmFuaycpO1xuICAgIGxiUmVzdWx0c01lbUljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0taWNvbicpO1xuICAgIGxiUmVzdWx0c01lbUltZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1pbWcnKTtcbiAgICBsYlJlc3VsdHNNZW1JbWcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBsYlJlc3VsdHNNZW1Qb2ludHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tcG9pbnRzJyk7XG5cbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1MYWJlbCk7XG4gICAgbGJSZXN1bHRzTWVtRW50cnkuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtUmFuayk7XG4gICAgbGJSZXN1bHRzTWVtSWNvbi5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1JbWcpO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbUljb24pO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbVBvaW50cyk7XG5cbiAgICByZXR1cm4gbGJSZXN1bHRzTWVtRW50cnk7XG4gIH07XG5cbiAgdGhpcy5sYXlvdXRGaXJzdFRvT3JFbXB0eUVudHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsYlJlc3VsdHNNZW1FbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBsYlJlc3VsdHNNZW1SYW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgbGJSZXN1bHRzTWVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgdmFyIGxiUmVzdWx0c01lbVBvaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWVudHJ5Jyk7XG4gICAgbGJSZXN1bHRzTWVtTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWxhYmVsJyk7XG4gICAgbGJSZXN1bHRzTWVtUmFuay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcmFuaycpO1xuICAgIGxiUmVzdWx0c01lbUljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWljb24nKTtcbiAgICBsYlJlc3VsdHNNZW1JbWcuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWltZycpO1xuICAgIGxiUmVzdWx0c01lbUltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGxiUmVzdWx0c01lbVBvaW50cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcG9pbnRzJyk7XG5cbiAgICBsYlJlc3VsdHNNZW1FbnRyeS5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1MYWJlbCk7XG4gICAgbGJSZXN1bHRzTWVtRW50cnkuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtUmFuayk7XG4gICAgbGJSZXN1bHRzTWVtSWNvbi5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1JbWcpO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbUljb24pO1xuICAgIGxiUmVzdWx0c01lbUVudHJ5LmFwcGVuZENoaWxkKGxiUmVzdWx0c01lbVBvaW50cyk7XG5cbiAgICByZXR1cm4gbGJSZXN1bHRzTWVtRW50cnk7XG4gIH07XG5cbiAgLy8gbGV0IHRlc3RMaXZlID0gZmFsc2U7XG4gIHRoaXMubGF5b3V0RGVmYXVsdE9yRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdGltZU1hbmFnZW1lbnQgPSBfdGhpcy50aW1lTWFuYWdlbWVudCgpO1xuICAgIC8vIHZhciBkaWZmID0gdGltZU1hbmFnZW1lbnQuZGlmZjtcbiAgICB2YXIgbGFiZWwgPSB0aW1lTWFuYWdlbWVudC5sYWJlbDtcbiAgICB2YXIgZGF0ZSA9IHRpbWVNYW5hZ2VtZW50LmRhdGU7XG4gICAgdmFyIGRhdGVPYmogPSB0aW1lTWFuYWdlbWVudC5kYXRlT2JqO1xuICAgIHZhciB3cmFwcGVyRG9tT2JqID0gX3RoaXMuc2V0dGluZ3MuaW5mb0NvbnRhaW5lcjtcbiAgICB2YXIgZGVmYXVsdERvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC13cmFwcGVyJyk7XG4gICAgdmFyIGludmVyc2UgPSB0aW1lTWFuYWdlbWVudC5pbnZlcnNlO1xuXG4gICAgaWYgKGRlZmF1bHREb21PYmogPT09IG51bGwpIHtcbiAgICAgIF90aGlzLnJlbW92ZVVudXNlZEVsZW1lbnRzKCk7XG5cbiAgICAgIGFkZENsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLW1zLWRlZmF1bHQtc3R5bGUnKTtcblxuICAgICAgdmFyIGxiV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkRhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJIZWFkZXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJIZWFkZXJzUmFuayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiSGVhZGVyc1BvaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c01lbUVudHJ5ID0gX3RoaXMubGF5b3V0RGVmYXVsdE9yRW1wdHlFbnRyeSgpO1xuICAgICAgdmFyIGltZyA9IHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1pbWcnKTtcblxuICAgICAgbGJXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtd3JhcHBlcicpO1xuICAgICAgbGJEYXRlTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1kYXRlLWxhYmVsJyk7XG4gICAgICBsYkRhdGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1kYXRlJyk7XG4gICAgICBsYkRhdGVXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS13cmFwcGVyJyk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtcmVzdWx0cy13cmFwcGVyJyk7XG4gICAgICBsYlJlc3VsdHNMaXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWRlZmF1bHQtcmVzdWx0cy1saXN0Jyk7XG4gICAgICBsYkhlYWRlcnMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWhlYWRlcnMnKTtcbiAgICAgIGxiSGVhZGVyc1Jhbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWhlYWRlci1yYW5rJyk7XG4gICAgICBsYkhlYWRlcnNQb2ludHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1yZXN1bHRzLWhlYWRlci1wb2ludHMnKTtcblxuICAgICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tZW50cnknKTtcblxuICAgICAgLy8gbGJEYXRlTGFiZWwuaW5uZXJIVE1MID0gbGFiZWw7XG4gICAgICBsYkRhdGUuaW5uZXJIVE1MID0gZGF0ZU9iajtcblxuICAgICAgbGJEYXRlV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGVMYWJlbCk7XG4gICAgICBsYkRhdGVXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZSk7XG5cbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1yYW5rJykuaW5uZXJIVE1MID0gJy0tJztcbiAgICAgIHF1ZXJ5KGxiUmVzdWx0c01lbUVudHJ5LCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1wb2ludHMnKS5pbm5lckhUTUwgPSAnLS0nO1xuXG4gICAgICBpbWcuc3JjID0gJyc7XG4gICAgICBpbWcuYWx0ID0gJyc7XG4gICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgIGxiSGVhZGVyc1JhbmsuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucmFuaztcbiAgICAgIGxiSGVhZGVyc1BvaW50cy5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5wb2ludHM7XG5cbiAgICAgIGxiSGVhZGVycy5hcHBlbmRDaGlsZChsYkhlYWRlcnNSYW5rKTtcbiAgICAgIGxiSGVhZGVycy5hcHBlbmRDaGlsZChsYkhlYWRlcnNQb2ludHMpO1xuICAgICAgbGJSZXN1bHRzTGlzdC5hcHBlbmRDaGlsZChsYlJlc3VsdHNNZW1FbnRyeSk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLmFwcGVuZENoaWxkKGxiSGVhZGVycyk7XG4gICAgICBsYlJlc3VsdHNXcmFwcGVyLmFwcGVuZENoaWxkKGxiUmVzdWx0c0xpc3QpO1xuXG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlV3JhcHBlcik7XG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJSZXN1bHRzV3JhcHBlcik7XG5cbiAgICAgIGRlZmF1bHREb21PYmogPSB3cmFwcGVyRG9tT2JqLmFwcGVuZENoaWxkKGxiV3JhcHBlcik7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFoYXNDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpKSB7XG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XG4gICAgICB9XG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlO1xuICAgIH1cblxuICAgIHdpbmRvdy5tYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhLCBmdW5jdGlvbiAobGJFbnRyeSkge1xuICAgICAgaWYgKChsYkVudHJ5Lm1lbWJlclJlZklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCB8fCBsYkVudHJ5Lm1lbWJlcklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCkgJiYgdHlwZW9mIGxiRW50cnkucmFua2luZ3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBzY29yZUFyZWEgPSBxdWVyeShkZWZhdWx0RG9tT2JqLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LXJlc3VsdHMtbGlzdCcpO1xuICAgICAgICBzY29yZUFyZWEuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUtbGFiZWwnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlT2JqO1xuICAgICAgICBhZGRDbGFzcyhxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtZGF0ZS13cmFwcGVyJyksICdjbC13aWRnZXQtbXMtZGVmYXVsdC1kYXRlLW9ubHknKTtcblxuICAgICAgICB3aW5kb3cubWFwT2JqZWN0KGxiRW50cnkucmFua2luZ3MsIGZ1bmN0aW9uIChsYlJhbmtpbmdFbnRyeSkge1xuICAgICAgICAgIHZhciBpY29uID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQucG9wdWxhdGVJZGVudGljb25CYXNlNjRJbWFnZShsYlJhbmtpbmdFbnRyeS5tZW1iZXJJZCk7XG4gICAgICAgICAgdmFyIGxiV3JhcHBlciA9IF90aGlzLmxheW91dERlZmF1bHRPckVtcHR5RW50cnkoKTtcbiAgICAgICAgICB2YXIgaW1nID0gcXVlcnkobGJXcmFwcGVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1pbWcnKTtcbiAgICAgICAgICB2YXIgc2VsZk1lbWJlciA9ICgobGJSYW5raW5nRW50cnkubWVtYmVyUmVmSWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkIHx8IGxiUmFua2luZ0VudHJ5Lm1lbWJlcklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCkpO1xuXG4gICAgICAgICAgaW1nLnNyYyA9IGljb247XG4gICAgICAgICAgaW1nLmFsdCA9ICcnO1xuICAgICAgICAgIGltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgIGlmIChzZWxmTWVtYmVyKSB7XG4gICAgICAgICAgICBhZGRDbGFzcyhsYldyYXBwZXIsICdjbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tc2VsZicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC1tZW0tbGFiZWwnKS5pbm5lckhUTUwgPSBzZWxmTWVtYmVyID8gJ1lPVScgOiAnJztcbiAgICAgICAgICBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWRlZmF1bHQtbWVtLXJhbmsnKS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPSdjbC1tZW0tcmFuay1sYWJlbCc+XCIgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5yYW5rICsgXCI8L3NwYW4+PHNwYW4gY2xhc3M9J2NsLW1lbS1yYW5rJz5cIiArIGxiUmFua2luZ0VudHJ5LnJhbmsgKyAnPC9zcGFuPic7XG4gICAgICAgICAgcXVlcnkobGJXcmFwcGVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LW1lbS1wb2ludHMnKS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPSdjbC1tZW0tcG9pbnRzLWxhYmVsJz5cIiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnBvaW50cyArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPSdjbC1tZW0tcG9pbnRzJz5cIiArIGxiUmFua2luZ0VudHJ5LnBvaW50cyArICc8L3NwYW4+JztcblxuICAgICAgICAgIHNjb3JlQXJlYS5hcHBlbmRDaGlsZChsYldyYXBwZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0ZXN0TGl2ZSA9IHRydWU7XG5cbiAgICAgICAgLy8gIHZhciBsYXN0U2NvcmUgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsIFwiLmNsLXdpZGdldC1tcy1kZWZhdWx0LWxhc3Qtc2NvcmVcIikuaW5uZXJIVE1MLFxuICAgICAgICAvLyAgaGlnaFNjb3JlID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBcIi5jbC13aWRnZXQtbXMtZGVmYXVsdC1oaWdoLXNjb3JlXCIpLmlubmVySFRNTCxcbiAgICAgICAgLy8gIHJhbmsgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsIFwiLmNsLXdpZGdldC1tcy1kZWZhdWx0LXJhbmstdmFsdWVcIiksXG4gICAgICAgIC8vICBjaGFuZ2UgPSAobGJFbnRyeS5jaGFuZ2UgPCAwKSA/IFwiZG93blwiIDogKCBsYkVudHJ5LmNoYW5nZSA+IDAgPyBcInVwXCIgOiBcInNhbWVcIiApLFxuICAgICAgICAvLyAgcmFua1ZhbHVlID0gbGJFbnRyeS5yYW5rO1xuICAgICAgICAvL1xuICAgICAgICAvLyBpZiggbGFzdFNjb3JlICE9PSBTdHJpbmcobGJFbnRyeS5wb2ludHMpICYmIFN0cmluZyhsYkVudHJ5LnBvaW50cykgIT09IGhpZ2hTY29yZSApe1xuICAgICAgICAvLyAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBcIi5jbC13aWRnZXQtbXMtZGVmYXVsdC1sYXN0LXNjb3JlXCIpLmlubmVySFRNTCA9IGhpZ2hTY29yZTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvL1xuICAgICAgICAvLyBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsIFwiLmNsLXdpZGdldC1tcy1kZWZhdWx0LWhpZ2gtc2NvcmVcIikuaW5uZXJIVE1MID0gbGJFbnRyeS5wb2ludHM7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHJlbW92ZUNsYXNzKHJhbmssIFwiY2wtbXMtcmFuay11cFwiKTtcbiAgICAgICAgLy8gcmVtb3ZlQ2xhc3MocmFuaywgXCJjbC1tcy1yYW5rLWRvd25cIik7XG4gICAgICAgIC8vIHJlbW92ZUNsYXNzKHJhbmssIFwiY2wtbXMtcmFuay1zYW1lXCIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyBhZGRDbGFzcyhyYW5rLCBcImNsLW1zLXJhbmstXCIgKyBjaGFuZ2UpO1xuICAgICAgICAvL1xuICAgICAgICAvLyByYW5rLmlubmVySFRNTCA9IHJhbmtWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChpbnZlcnNlICYmICFoYXNDbGFzcyhkZWZhdWx0RG9tT2JqLCAnY2wtaW52ZXJzZScpKSB7XG4gICAgICBhZGRDbGFzcyhkZWZhdWx0RG9tT2JqLCAnY2wtaW52ZXJzZScpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmxheW91dEZpcnN0VG9PckVtcHR5ID0gZnVuY3Rpb24gKHN0cmF0ZWd5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdGltZU1hbmFnZW1lbnQgPSBfdGhpcy50aW1lTWFuYWdlbWVudCgpO1xuICAgIC8vIHZhciBkaWZmID0gdGltZU1hbmFnZW1lbnQuZGlmZjtcbiAgICB2YXIgbGFiZWwgPSB0aW1lTWFuYWdlbWVudC5sYWJlbDtcbiAgICB2YXIgZGF0ZSA9IHRpbWVNYW5hZ2VtZW50LmRhdGU7XG4gICAgdmFyIGRhdGVPYmogPSB0aW1lTWFuYWdlbWVudC5kYXRlT2JqO1xuICAgIHZhciB3cmFwcGVyRG9tT2JqID0gX3RoaXMuc2V0dGluZ3MuaW5mb0NvbnRhaW5lcjtcbiAgICB2YXIgZGVmYXVsdERvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8td3JhcHBlcicpO1xuICAgIHZhciBpbnZlcnNlID0gdGltZU1hbmFnZW1lbnQuaW52ZXJzZTtcblxuICAgIGlmIChkZWZhdWx0RG9tT2JqID09PSBudWxsKSB7XG4gICAgICBfdGhpcy5yZW1vdmVVbnVzZWRFbGVtZW50cygpO1xuXG4gICAgICBhZGRDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1tcy1maXJzdC10by1zdHlsZScpO1xuXG4gICAgICB2YXIgbGJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJEYXRlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiRGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkhlYWRlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkhlYWRlcnNSYW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJIZWFkZXJzUG9pbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzTWVtRW50cnkgPSBfdGhpcy5sYXlvdXRGaXJzdFRvT3JFbXB0eUVudHJ5KCk7XG4gICAgICB2YXIgaW1nID0gcXVlcnkobGJSZXN1bHRzTWVtRW50cnksICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1pbWcnKTtcblxuICAgICAgbGJXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLXdyYXBwZXInKTtcbiAgICAgIGxiRGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUtbGFiZWwnKTtcbiAgICAgIGxiRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1kYXRlJyk7XG4gICAgICBsYkRhdGVXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUtd3JhcHBlcicpO1xuICAgICAgbGJSZXN1bHRzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLXdyYXBwZXInKTtcbiAgICAgIGxiUmVzdWx0c0xpc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tcmVzdWx0cy1saXN0Jyk7XG4gICAgICBsYkhlYWRlcnMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tcmVzdWx0cy1oZWFkZXJzJyk7XG4gICAgICBsYkhlYWRlcnNSYW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLXJlc3VsdHMtaGVhZGVyLXJhbmsnKTtcbiAgICAgIGxiSGVhZGVyc1BvaW50cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLWhlYWRlci1wb2ludHMnKTtcblxuICAgICAgbGJSZXN1bHRzTWVtRW50cnkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLWVudHJ5Jyk7XG5cbiAgICAgIC8vIGxiRGF0ZUxhYmVsLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgbGJEYXRlLmlubmVySFRNTCA9IGRhdGVPYmo7XG5cbiAgICAgIGxiRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlTGFiZWwpO1xuICAgICAgbGJEYXRlV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGUpO1xuXG4gICAgICBxdWVyeShsYlJlc3VsdHNNZW1FbnRyeSwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLXJhbmsnKS5pbm5lckhUTUwgPSAnLS0nO1xuICAgICAgcXVlcnkobGJSZXN1bHRzTWVtRW50cnksICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1wb2ludHMnKS5pbm5lckhUTUwgPSAnLS0vJyArIHN0cmF0ZWd5LnJlY29yZFRpbWVXaGVuU3VtUmVhY2hlcztcblxuICAgICAgaW1nLnNyYyA9ICcnO1xuICAgICAgaW1nLmFsdCA9ICcnO1xuICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICBsYkhlYWRlcnNSYW5rLmlubmVySFRNTCA9IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnRyYW5zbGF0aW9uLmxlYWRlcmJvYXJkLnJhbms7XG4gICAgICBsYkhlYWRlcnNQb2ludHMuaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24ubGVhZGVyYm9hcmQucG9pbnRzO1xuXG4gICAgICBsYkhlYWRlcnMuYXBwZW5kQ2hpbGQobGJIZWFkZXJzUmFuayk7XG4gICAgICBsYkhlYWRlcnMuYXBwZW5kQ2hpbGQobGJIZWFkZXJzUG9pbnRzKTtcbiAgICAgIGxiUmVzdWx0c0xpc3QuYXBwZW5kQ2hpbGQobGJSZXN1bHRzTWVtRW50cnkpO1xuICAgICAgbGJSZXN1bHRzV3JhcHBlci5hcHBlbmRDaGlsZChsYkhlYWRlcnMpO1xuICAgICAgbGJSZXN1bHRzV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNMaXN0KTtcblxuICAgICAgbGJXcmFwcGVyLmFwcGVuZENoaWxkKGxiRGF0ZVdyYXBwZXIpO1xuICAgICAgbGJXcmFwcGVyLmFwcGVuZENoaWxkKGxiUmVzdWx0c1dyYXBwZXIpO1xuXG4gICAgICBkZWZhdWx0RG9tT2JqID0gd3JhcHBlckRvbU9iai5hcHBlbmRDaGlsZChsYldyYXBwZXIpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaGFzQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKSkge1xuICAgICAgICBhZGRDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xuICAgICAgfVxuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1kYXRlLWxhYmVsJykuaW5uZXJIVE1MID0gbGFiZWw7XG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlO1xuICAgIH1cblxuICAgIHdpbmRvdy5tYXBPYmplY3QoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubGVhZGVyYm9hcmQubGVhZGVyYm9hcmREYXRhLCBmdW5jdGlvbiAobGJFbnRyeSkge1xuICAgICAgaWYgKChsYkVudHJ5Lm1lbWJlclJlZklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCB8fCBsYkVudHJ5Lm1lbWJlcklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCkgJiYgdHlwZW9mIGxiRW50cnkucmFua2luZ3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBzY29yZUFyZWEgPSBxdWVyeShkZWZhdWx0RG9tT2JqLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1yZXN1bHRzLWxpc3QnKTtcbiAgICAgICAgc2NvcmVBcmVhLmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUnKS5pbm5lckhUTUwgPSBkYXRlT2JqO1xuICAgICAgICBhZGRDbGFzcyhxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUtd3JhcHBlcicpLCAnY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLWRhdGUtb25seScpO1xuXG4gICAgICAgIHdpbmRvdy5tYXBPYmplY3QobGJFbnRyeS5yYW5raW5ncywgZnVuY3Rpb24gKGxiUmFua2luZ0VudHJ5KSB7XG4gICAgICAgICAgdmFyIGljb24gPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5wb3B1bGF0ZUlkZW50aWNvbkJhc2U2NEltYWdlKGxiUmFua2luZ0VudHJ5Lm1lbWJlcklkKTtcbiAgICAgICAgICB2YXIgbGJXcmFwcGVyID0gX3RoaXMubGF5b3V0Rmlyc3RUb09yRW1wdHlFbnRyeSgpO1xuICAgICAgICAgIHZhciBpbWcgPSBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1pbWcnKTtcbiAgICAgICAgICB2YXIgc2VsZk1lbWJlciA9ICgobGJSYW5raW5nRW50cnkubWVtYmVyUmVmSWQgPT09IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkIHx8IGxiUmFua2luZ0VudHJ5Lm1lbWJlcklkID09PSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCkpO1xuXG4gICAgICAgICAgaWYgKHNlbGZNZW1iZXIpIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGxiV3JhcHBlciwgJ2NsLXdpZGdldC1tcy1maXJzdC10by1tZW0tc2VsZicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGltZy5zcmMgPSBpY29uO1xuICAgICAgICAgIGltZy5hbHQgPSAnJztcbiAgICAgICAgICBpbWcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICBxdWVyeShsYldyYXBwZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLW1lbS1sYWJlbCcpLmlubmVySFRNTCA9IHNlbGZNZW1iZXIgPyAnWU9VJyA6ICcnO1xuICAgICAgICAgIHF1ZXJ5KGxiV3JhcHBlciwgJy5jbC13aWRnZXQtbXMtZmlyc3QtdG8tbWVtLXJhbmsnKS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPSdjbC1tZW0tcmFuay1sYWJlbCc+XCIgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5yYW5rICsgXCI8L3NwYW4+PHNwYW4gY2xhc3M9J2NsLW1lbS1yYW5rJz5cIiArIGxiUmFua2luZ0VudHJ5LnJhbmsgKyAnPC9zcGFuPic7XG4gICAgICAgICAgcXVlcnkobGJXcmFwcGVyLCAnLmNsLXdpZGdldC1tcy1maXJzdC10by1tZW0tcG9pbnRzJykuaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz0nY2wtbWVtLXBvaW50cy1sYWJlbCc+XCIgKyBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5sZWFkZXJib2FyZC5wb2ludHMgKyBcIjwvc3Bhbj48c3BhbiBjbGFzcz0nY2wtbWVtLXBvaW50cyc+XCIgKyBsYlJhbmtpbmdFbnRyeS5wb2ludHMgKyAnLycgKyBzdHJhdGVneS5yZWNvcmRUaW1lV2hlblN1bVJlYWNoZXMgKyAnPC9zcGFuPic7XG5cbiAgICAgICAgICBzY29yZUFyZWEuYXBwZW5kQ2hpbGQobGJXcmFwcGVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaW52ZXJzZSAmJiAhaGFzQ2xhc3MoZGVmYXVsdERvbU9iaiwgJ2NsLWludmVyc2UnKSkge1xuICAgICAgYWRkQ2xhc3MoZGVmYXVsdERvbU9iaiwgJ2NsLWludmVyc2UnKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5sYXlvdXRTdW1CZXN0T2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgdGltZU1hbmFnZW1lbnQgPSBfdGhpcy50aW1lTWFuYWdlbWVudCgpO1xuICAgIC8vIHZhciBkaWZmID0gdGltZU1hbmFnZW1lbnQuZGlmZjtcbiAgICB2YXIgbGFiZWwgPSB0aW1lTWFuYWdlbWVudC5sYWJlbDtcbiAgICB2YXIgZGF0ZSA9IHRpbWVNYW5hZ2VtZW50LmRhdGU7XG4gICAgdmFyIHdyYXBwZXJEb21PYmogPSBfdGhpcy5zZXR0aW5ncy5pbmZvQ29udGFpbmVyO1xuICAgIHZhciBzdW1CZXN0RG9tT2JqID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC13cmFwcGVyJyk7XG4gICAgdmFyIGludmVyc2UgPSB0aW1lTWFuYWdlbWVudC5pbnZlcnNlO1xuXG4gICAgaWYgKHN1bUJlc3REb21PYmogPT09IG51bGwpIHtcbiAgICAgIF90aGlzLnJlbW92ZVVudXNlZEVsZW1lbnRzKCk7XG5cbiAgICAgIHZhciBsYldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkRhdGVXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJEYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYkRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzU2NvcmVBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hTY29yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNTY29yZUFyZWFMYXN0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNTY29yZUFyZWFMYXN0U2NvcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBsYlJlc3VsdHNSYW5rQXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdmFyIGxiUmVzdWx0c1JhbmtWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAgICAgbGJXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LXdyYXBwZXInKTtcbiAgICAgIGxiRGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWRhdGUtbGFiZWwnKTtcbiAgICAgIGxiRGF0ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1kYXRlJyk7XG4gICAgICBsYkRhdGVXcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWRhdGUtd3JhcHBlcicpO1xuICAgICAgbGJSZXN1bHRzV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1yZXN1bHRzLXdyYXBwZXInKTtcblxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWFyZWEnKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2guc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtaGlnaC1hcmVhJyk7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFIaWdoTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtaGlnaC1sYWJlbCcpO1xuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaFNjb3JlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWhpZ2gtc2NvcmUnKTtcblxuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhTGFzdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1sYXN0LWFyZWEnKTtcbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RMYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1sYXN0LWxhYmVsJyk7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0U2NvcmUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtc3VtLWJlc3QtbGFzdC1zY29yZScpO1xuXG4gICAgICBsYlJlc3VsdHNSYW5rQXJlYS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1yYW5rLWFyZWEnKTtcbiAgICAgIGxiUmVzdWx0c1JhbmtWYWx1ZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1tcy1zdW0tYmVzdC1yYW5rLXZhbHVlJyk7XG5cbiAgICAgIGxiRGF0ZUxhYmVsLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgbGJEYXRlLmlubmVySFRNTCA9IGRhdGU7XG5cbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQuaGlnaFNjb3JlO1xuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhSGlnaFNjb3JlLmlubmVySFRNTCA9ICctLSc7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFIaWdoLmFwcGVuZENoaWxkKGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hMYWJlbCk7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFIaWdoLmFwcGVuZENoaWxkKGxiUmVzdWx0c1Njb3JlQXJlYUhpZ2hTY29yZSk7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWEuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhSGlnaCk7XG5cbiAgICAgIGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RMYWJlbC5pbm5lckhUTUwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy50cmFuc2xhdGlvbi5taW5pTGVhZGVyYm9hcmQubGFzdFNjb3JlO1xuICAgICAgbGJSZXN1bHRzU2NvcmVBcmVhTGFzdFNjb3JlLmlubmVySFRNTCA9ICctLSc7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0LmFwcGVuZENoaWxkKGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RMYWJlbCk7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWFMYXN0LmFwcGVuZENoaWxkKGxiUmVzdWx0c1Njb3JlQXJlYUxhc3RTY29yZSk7XG4gICAgICBsYlJlc3VsdHNTY29yZUFyZWEuYXBwZW5kQ2hpbGQobGJSZXN1bHRzU2NvcmVBcmVhTGFzdCk7XG5cbiAgICAgIGxiUmVzdWx0c1JhbmtWYWx1ZS5pbm5lckhUTUwgPSAnLS0nO1xuICAgICAgbGJSZXN1bHRzUmFua0FyZWEuYXBwZW5kQ2hpbGQobGJSZXN1bHRzUmFua1ZhbHVlKTtcblxuICAgICAgbGJSZXN1bHRzV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNTY29yZUFyZWEpO1xuICAgICAgbGJSZXN1bHRzV3JhcHBlci5hcHBlbmRDaGlsZChsYlJlc3VsdHNSYW5rQXJlYSk7XG5cbiAgICAgIGxiRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlTGFiZWwpO1xuICAgICAgbGJEYXRlV3JhcHBlci5hcHBlbmRDaGlsZChsYkRhdGUpO1xuXG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJEYXRlV3JhcHBlcik7XG4gICAgICBsYldyYXBwZXIuYXBwZW5kQ2hpbGQobGJSZXN1bHRzV3JhcHBlcik7XG5cbiAgICAgIHN1bUJlc3REb21PYmogPSB3cmFwcGVyRG9tT2JqLmFwcGVuZENoaWxkKGxiV3JhcHBlcik7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFoYXNDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpKSB7XG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XG4gICAgICB9XG4gICAgICBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LWRhdGUtbGFiZWwnKS5pbm5lckhUTUwgPSBsYWJlbDtcbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtZGF0ZScpLmlubmVySFRNTCA9IGRhdGU7XG4gICAgfVxuXG4gICAgd2luZG93Lm1hcE9iamVjdChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5sZWFkZXJib2FyZC5sZWFkZXJib2FyZERhdGEsIGZ1bmN0aW9uIChsYkVudHJ5KSB7XG4gICAgICBpZiAobGJFbnRyeS5tZW1iZXJSZWZJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQgfHwgbGJFbnRyeS5tZW1iZXJJZCA9PT0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MubWVtYmVySWQpIHtcbiAgICAgICAgdmFyIGxhc3RTY29yZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtbGFzdC1zY29yZScpLmlubmVySFRNTDtcbiAgICAgICAgdmFyIGhpZ2hTY29yZSA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtc3VtLWJlc3QtaGlnaC1zY29yZScpLmlubmVySFRNTDtcbiAgICAgICAgdmFyIHJhbmsgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLXN1bS1iZXN0LXJhbmstdmFsdWUnKTtcbiAgICAgICAgdmFyIGNoYW5nZSA9IChsYkVudHJ5LmNoYW5nZSA8IDApID8gJ2Rvd24nIDogKGxiRW50cnkuY2hhbmdlID4gMCA/ICd1cCcgOiAnc2FtZScpO1xuICAgICAgICB2YXIgcmFua1ZhbHVlID0gbGJFbnRyeS5yYW5rO1xuXG4gICAgICAgIGlmIChsYXN0U2NvcmUgIT09IFN0cmluZyhsYkVudHJ5LnBvaW50cykgJiYgU3RyaW5nKGxiRW50cnkucG9pbnRzKSAhPT0gaGlnaFNjb3JlKSB7XG4gICAgICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC1sYXN0LXNjb3JlJykuaW5uZXJIVE1MID0gaGlnaFNjb3JlO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC1oaWdoLXNjb3JlJykuaW5uZXJIVE1MID0gbGJFbnRyeS5wb2ludHM7XG5cbiAgICAgICAgcmVtb3ZlQ2xhc3MocmFuaywgJ2NsLW1zLXJhbmstdXAnKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MocmFuaywgJ2NsLW1zLXJhbmstZG93bicpO1xuICAgICAgICByZW1vdmVDbGFzcyhyYW5rLCAnY2wtbXMtcmFuay1zYW1lJyk7XG5cbiAgICAgICAgYWRkQ2xhc3MocmFuaywgJ2NsLW1zLXJhbmstJyArIGNoYW5nZSk7XG5cbiAgICAgICAgcmFuay5pbm5lckhUTUwgPSByYW5rVmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaW52ZXJzZSAmJiAhaGFzQ2xhc3Moc3VtQmVzdERvbU9iaiwgJ2NsLWludmVyc2UnKSkge1xuICAgICAgYWRkQ2xhc3Moc3VtQmVzdERvbU9iaiwgJ2NsLWludmVyc2UnKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5sYXlvdXRSZXF1aXJlc09wdEluID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGRpZmYgPSBtb21lbnQoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29tcGV0aXRpb24uc2NoZWR1bGVkU3RhcnQpLmRpZmYobW9tZW50KCkpO1xuICAgIHZhciBsYWJlbCA9ICdTdGFydGluZyBJbic7XG4gICAgdmFyIHdyYXBwZXJEb21PYmogPSBfdGhpcy5zZXR0aW5ncy5pbmZvQ29udGFpbmVyO1xuICAgIHZhciBkYXRlID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZm9ybWF0RGF0ZVRpbWUobW9tZW50LmR1cmF0aW9uKGRpZmYpKTtcblxuICAgIGlmIChkaWZmIDwgMCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnN0YXR1c0NvZGUgPT09IDApIHtcbiAgICAgIGxhYmVsID0gJ3N0YXJ0aW5nJztcbiAgICAgIGRhdGUgPSAnJztcbiAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3Quc3RhdHVzQ29kZSA+IDAgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlIDwgMykge1xuICAgICAgZGlmZiA9IG1vbWVudChfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb250ZXN0LnNjaGVkdWxlZEVuZCkuZGlmZihtb21lbnQoKSk7XG4gICAgICBsYWJlbCA9ICdzdGFydGVkJztcbiAgICAgIGRhdGUgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5mb3JtYXREYXRlVGltZShtb21lbnQuZHVyYXRpb24oZGlmZikpO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID09PSAzKSB7XG4gICAgICBsYWJlbCA9ICdmaW5pc2hpbmcnO1xuICAgICAgZGF0ZSA9ICcnO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdGF0dXNDb2RlID49IDQpIHtcbiAgICAgIGxhYmVsID0gJ2ZpbmlzaGVkJztcbiAgICAgIGRhdGUgPSAnJztcbiAgICB9XG5cbiAgICBpZiAocXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1vcHRpbi13cmFwcGVyJykgPT09IG51bGwpIHtcbiAgICAgIF90aGlzLnJlbW92ZVVudXNlZEVsZW1lbnRzKCk7XG5cbiAgICAgIHZhciBvcHRJbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBvcHRJbkRhdGVXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgb3B0SW5EYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBvcHRJbkRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHZhciBvcHRJbkRhdGVBY3Rpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB2YXIgb3B0SW5EYXRlQWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgICBvcHRJbldyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3B0aW4td3JhcHBlcicpO1xuICAgICAgb3B0SW5EYXRlTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3B0aW4tZGF0ZS1sYWJlbCcpO1xuICAgICAgb3B0SW5EYXRlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLWRhdGUnKTtcbiAgICAgIG9wdEluRGF0ZVdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3B0aW4tZGF0ZS13cmFwcGVyJyk7XG4gICAgICBvcHRJbkRhdGVBY3Rpb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW1zLW9wdGluLWFjdGlvbi13cmFwcGVyJyk7XG4gICAgICBvcHRJbkRhdGVBY3Rpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbXMtb3B0aW4tYWN0aW9uJyk7XG5cbiAgICAgIG9wdEluRGF0ZUxhYmVsLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgb3B0SW5EYXRlLmlubmVySFRNTCA9IGRhdGU7XG4gICAgICBvcHRJbkRhdGVBY3Rpb24uaW5uZXJIVE1MID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudHJhbnNsYXRpb24udG91cm5hbWVudHMuZW50ZXI7XG5cbiAgICAgIG9wdEluRGF0ZVdyYXBwZXIuYXBwZW5kQ2hpbGQob3B0SW5EYXRlTGFiZWwpO1xuICAgICAgb3B0SW5EYXRlV3JhcHBlci5hcHBlbmRDaGlsZChvcHRJbkRhdGUpO1xuXG4gICAgICBvcHRJbkRhdGVBY3Rpb25XcmFwcGVyLmFwcGVuZENoaWxkKG9wdEluRGF0ZUFjdGlvbik7XG4gICAgICBvcHRJbldyYXBwZXIuYXBwZW5kQ2hpbGQob3B0SW5EYXRlV3JhcHBlcik7XG4gICAgICBvcHRJbldyYXBwZXIuYXBwZW5kQ2hpbGQob3B0SW5EYXRlQWN0aW9uV3JhcHBlcik7XG5cbiAgICAgIHdyYXBwZXJEb21PYmouYXBwZW5kQ2hpbGQob3B0SW5XcmFwcGVyKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZENsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93Jyk7XG4gICAgICB9LCAyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWhhc0NsYXNzKHdyYXBwZXJEb21PYmosICdjbC1zaG93JykpIHtcbiAgICAgICAgYWRkQ2xhc3Mod3JhcHBlckRvbU9iaiwgJ2NsLXNob3cnKTtcbiAgICAgIH1cbiAgICAgIHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtb3B0aW4tZGF0ZS1sYWJlbCcpLmlubmVySFRNTCA9IGxhYmVsO1xuICAgICAgcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1vcHRpbi1kYXRlJykuaW5uZXJIVE1MID0gZGF0ZTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZW1vdmVVbnVzZWRFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBkZWZhdWx0TGF5b3V0V3JhcHBlckRvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtZGVmYXVsdC13cmFwcGVyJyk7XG4gICAgdmFyIG9wdEluV3JhcHBlckRvbU9iaiA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbXMtb3B0aW4td3JhcHBlcicpO1xuICAgIHZhciBzdW1CZXN0RG9tT2JqID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1zdW0tYmVzdC13cmFwcGVyJyk7XG4gICAgdmFyIGZpcnN0VG9Eb21PYmogPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWZpcnN0LXRvLXdyYXBwZXInKTtcblxuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLW1zLWRlZmF1bHQtc3R5bGUnKTtcbiAgICByZW1vdmVDbGFzcyhfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICdjbC1tcy1vcHRpbi1zdHlsZScpO1xuICAgIHJlbW92ZUNsYXNzKF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJ2NsLW1zLXN1bS1iZXN0LXN0eWxlJyk7XG4gICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtbXMtZmlyc3QtdG8tc3R5bGUnKTtcblxuICAgIGlmIChkZWZhdWx0TGF5b3V0V3JhcHBlckRvbU9iaiAhPT0gbnVsbCkge1xuICAgICAgcmVtb3ZlKGRlZmF1bHRMYXlvdXRXcmFwcGVyRG9tT2JqKTtcbiAgICB9XG5cbiAgICBpZiAob3B0SW5XcmFwcGVyRG9tT2JqICE9PSBudWxsKSB7XG4gICAgICByZW1vdmUob3B0SW5XcmFwcGVyRG9tT2JqKTtcbiAgICB9XG5cbiAgICBpZiAoc3VtQmVzdERvbU9iaiAhPT0gbnVsbCkge1xuICAgICAgcmVtb3ZlKHN1bUJlc3REb21PYmopO1xuICAgIH1cblxuICAgIGlmIChmaXJzdFRvRG9tT2JqICE9PSBudWxsKSB7XG4gICAgICByZW1vdmUoZmlyc3RUb0RvbU9iaik7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY2xlYXJBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy51cGRhdGVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLnVwZGF0ZUludGVydmFsKTtcbiAgICB9XG5cbiAgICBfdGhpcy5yZW1vdmVJbmZvQXJlYSgpO1xuXG4gICAgX3RoaXMuc2V0dGluZ3MuYWN0aXZlID0gZmFsc2U7XG4gIH07XG5cbiAgdGhpcy5yZW1vdmVJbmZvQXJlYSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciB3cmFwcGVyRG9tT2JqID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXNob3cnKTtcbiAgICB2YXIgbGF5b3V0ID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1kZWZhdWx0LXdyYXBwZXInKTtcblxuICAgIGlmICh3cmFwcGVyRG9tT2JqICE9PSBudWxsKSByZW1vdmVDbGFzcyh3cmFwcGVyRG9tT2JqLCAnY2wtc2hvdycpO1xuXG4gICAgaWYgKGxheW91dCAhPT0gbnVsbCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZShsYXlvdXQpO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy51cGRhdGVTY29yZUJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy51cGRhdGVJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgX3RoaXMuc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmxvYWRJbmZvQXJlYShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLnNldHRpbmdzLnVwZGF0ZUludGVydmFsVGltZSk7XG4gIH07XG5cbiAgdGhpcy5sb2FkSW5mb0FyZWEgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmFjdGl2ZSAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbiAhPT0gbnVsbCAmJiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5zdGF0dXNDb2RlIDwgNykge1xuICAgICAgaWYgKHR5cGVvZiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbiA9PT0gJ2Jvb2xlYW4nICYmICFfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5jb21wZXRpdGlvbi5hY3RpdmVDb21wZXRpdGlvbi5vcHRpbikge1xuICAgICAgICBfdGhpcy5sYXlvdXRSZXF1aXJlc09wdEluKCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdHJhdGVneS50eXBlID09PSAnU3VtQmVzdCcpIHtcbiAgICAgICAgX3RoaXMubGF5b3V0U3VtQmVzdE9mKCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3QgIT09IG51bGwgJiYgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdHJhdGVneS50eXBlID09PSAnRmlyc3RUbycpIHtcbiAgICAgICAgX3RoaXMubGF5b3V0Rmlyc3RUb09yRW1wdHkoX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuY29tcGV0aXRpb24uYWN0aXZlQ29udGVzdC5zdHJhdGVneSk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLmNvbXBldGl0aW9uLmFjdGl2ZUNvbnRlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICBfdGhpcy5sYXlvdXREZWZhdWx0T3JFbXB0eSgpO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMubGF5b3V0RGVmYXVsdE9yRW1wdHkoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuY2xlYXJBbGwoKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5ldmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZHJhZ0VsZW1lbnQoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCBxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW1zLWljb24nKSwgX3RoaXMuc2V0dGluZ3Mub3ZlcmxheUNvbnRhaW5lciwgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYmluZENvbnRhaW5lciwgZnVuY3Rpb24gKG5ld1RvcCwgbmV3TGVmdCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc3RvcEFjdGl2aXR5KCk7XG4gICAgICBpZiAobmV3VG9wIDw9IDUpIHtcbiAgICAgICAgYWRkQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtdmVydGljYWwtbWluaScpO1xuICAgICAgfSBlbHNlIGlmIChuZXdMZWZ0IDw9IDUpIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnY2wtdmVydGljYWwtbWluaScpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXR0aW5ncy5kcmFnZ2luZyA9IHRydWU7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQucmVzdGFydEFjdGl2aXR5KCk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuY2xpY2tlZE1pbmlTY29yZUJvYXJkKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5pbml0TGF5b3V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmFjdGl2ZSA9IHRydWU7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5iaW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLmxheW91dCgpKTtcbiAgICAgIF90aGlzLnNldHRpbmdzLm92ZXJsYXlDb250YWluZXIgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5iaW5kQ29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzLm92ZXJsYXlMYXlvdXQoKSk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5pbmZvQ29udGFpbmVyID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLCAnLmNsLXdpZGdldC1tcy1pbmZvcm1hdGlvbi13cmFwcGVyJyk7XG5cbiAgICAgIF90aGlzLmV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5sb2FkU2NvcmVCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuaW5pdExheW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5sb2FkSW5mb0FyZWEoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy51cGRhdGVTY29yZUJvYXJkKCk7XG4gICAgICB9KTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVNjb3JlQm9hcmQoKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH0pO1xuICB9O1xufTtcbiIsImltcG9ydCB7IE1lc3NhZ2luZyB9IGZyb20gJy4vTWVzc2FnaW5nJztcbmltcG9ydCByZW1vdmVDbGFzcyBmcm9tICcuLi91dGlscy9yZW1vdmVDbGFzcyc7XG5pbXBvcnQgcXVlcnkgZnJvbSAnLi4vdXRpbHMvcXVlcnknO1xuaW1wb3J0IHN0cmlwSHRtbCBmcm9tICcuLi91dGlscy9zdHJpcEh0bWwnO1xuaW1wb3J0IGFkZENsYXNzIGZyb20gJy4uL3V0aWxzL2FkZENsYXNzJztcblxuZXhwb3J0IGNvbnN0IE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB0aGlzLnNldHRpbmdzID0ge1xuICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICBkZXRhaWxzQ29udGFpbmVyOiBudWxsLFxuICAgIGxiV2lkZ2V0OiBudWxsLFxuICAgIGV2ZW50U3RyZWFtOiBbXSxcbiAgICBjaGVja1RpbWVvdXQ6IDIwMDAsXG4gICAgb25EaXNwbGF5Q2hlY2tUaW1lb3V0OiAxMDAwMCxcbiAgICBjaGVja0ludGVydmFsOiBudWxsLFxuICAgIGF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWw6IG51bGwsXG4gICAgYXV0b05vdGlmaWNhdGlvbkhpZGVUaW1lOiAxMDAwMCxcbiAgICBkaXNwbGF5SW5Qcm9ncmVzczogZmFsc2VcbiAgfTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZm9yICh2YXIgb3B0IGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5nc1tvcHRdID0gb3B0aW9uc1tvcHRdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMubGF5b3V0V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB2YXIgaW5mb3JtYXRpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGluZm9ybWF0aW9uVG9wV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpbmZvcm1hdGlvbkRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25EZXRhaWxzTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25EZXRhaWxzRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgaW5mb3JtYXRpb25DbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtd3JhcHBlcicpO1xuICAgIGljb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWljb24td3JhcHBlcicpO1xuICAgIGljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaWNvbicpO1xuICAgIGluZm9ybWF0aW9uVG9wV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi10b3Atd3JhcHBlcicpO1xuICAgIGluZm9ybWF0aW9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi13cmFwcGVyJyk7XG4gICAgaW5mb3JtYXRpb25EZXRhaWxzQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtd3JhcHBlcicpO1xuICAgIGluZm9ybWF0aW9uRGV0YWlsc0xhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLWRldGFpbHMtbGFiZWwnKTtcbiAgICBpbmZvcm1hdGlvbkRldGFpbHNEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLWRlc2NyaXB0aW9uJyk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tY2xvc2Utd3JhcHBlcicpO1xuICAgIGluZm9ybWF0aW9uQ2xvc2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tY2xvc2UnKTtcblxuICAgIGluZm9ybWF0aW9uQ2xvc2UuaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCk7JztcbiAgICBpbmZvcm1hdGlvbkNsb3NlLmlubmVySFRNTCA9ICd4JztcblxuICAgIGluZm9ybWF0aW9uRGV0YWlsc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbkRldGFpbHNMYWJlbCk7XG4gICAgaW5mb3JtYXRpb25EZXRhaWxzQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uRGV0YWlsc0Rlc2NyaXB0aW9uKTtcblxuICAgIGluZm9ybWF0aW9uV3JhcHBlckNsb3NlLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uQ2xvc2UpO1xuICAgIGluZm9ybWF0aW9uV3JhcHBlci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbldyYXBwZXJDbG9zZSk7XG4gICAgaW5mb3JtYXRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uRGV0YWlsc0NvbnRhaW5lcik7XG4gICAgaW5mb3JtYXRpb25Ub3BXcmFwcGVyLmFwcGVuZENoaWxkKGluZm9ybWF0aW9uV3JhcHBlcik7XG4gICAgaWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChpY29uV3JhcHBlcik7XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbmZvcm1hdGlvblRvcFdyYXBwZXIpO1xuXG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH07XG5cbiAgdmFyIHByb2Nlc3NlZCA9IHt9O1xuICB0aGlzLnN0YXJ0U1NFID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZSA9IG5ldyBNZXNzYWdpbmcoe1xuICAgICAgc3NlVXJsOiBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5tZW1iZXJTU0UucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCksXG4gICAgICBoZWFydGJlYXQ6IF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5nYXRld2F5RG9tYWluICsgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MudXJpLm1lbWJlclNTRUhlYXJ0YmVhdC5yZXBsYWNlKCc6c3BhY2UnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5zcGFjZU5hbWUpLnJlcGxhY2UoJzppZCcsIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLm1lbWJlcklkKSxcbiAgICAgIGFqYXg6IHtcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICBhcGlLZXk6IHtcbiAgICAgICAgICAnWC1BUEktS0VZJzogX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYXBpS2V5XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGRhdGFLZXkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzZWRbZGF0YUtleV0gPT09ICd1bmRlZmluZWQnIHx8ICh0eXBlb2YgcHJvY2Vzc2VkW2RhdGFLZXldICE9PSAndW5kZWZpbmVkJyAmJiAocHJvY2Vzc2VkW2RhdGFLZXldICsgMTAwMDApIDwgY3VycmVudFRpbWUpKSB7XG4gICAgICAgICAgcHJvY2Vzc2VkW0pTT04uc3RyaW5naWZ5KGRhdGEpXSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtLnB1c2goZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblN0YXJ0dXBFcnJvcjogZnVuY3Rpb24gKHNldHRpbmdzKSB7XG4gICAgICB9LFxuICAgICAgZGVidWc6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmF1dG9Ob3RpZmljYXRpb25IaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuYXV0b05vdGlmaWNhdGlvbkhpZGVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmhpZGVOb3RpZmljYXRpb24oKTtcbiAgICB9LCBfdGhpcy5zZXR0aW5ncy5hdXRvTm90aWZpY2F0aW9uSGlkZVRpbWUpO1xuICB9O1xuXG4gIHRoaXMuaGlkZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmF1dG9Ob3RpZmljYXRpb25IaWRlSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zZXR0aW5ncy5hdXRvTm90aWZpY2F0aW9uSGlkZUludGVydmFsKTtcbiAgICB9XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5kaXNwbGF5SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIHJlbW92ZUNsYXNzKHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24td3JhcHBlcicpLCAnY2wtc2hvdycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSwgMjAwKTtcbiAgfTtcblxuICB0aGlzLnNob3dBY2hpZXZlbWVudE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgbGFiZWwgPSBxdWVyeShfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLCAnLmNsLXdpZGdldC1ub3RpZi1pbmZvcm1hdGlvbi1kZXRhaWxzLWxhYmVsJyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gcXVlcnkoX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy1kZXNjcmlwdGlvbicpO1xuICAgIHZhciBkZXNjcmlwdGlvblRleHQgPSBzdHJpcEh0bWwoZGF0YS5kYXRhLmRlc2NyaXB0aW9uKTtcblxuICAgIGxhYmVsLmlubmVySFRNTCA9IChkYXRhLmRhdGEubmFtZS5sZW5ndGggPiAyMykgPyBkYXRhLmRhdGEubmFtZS5zdWJzdHIoMCwgMjMpICsgJy4uLicgOiBkYXRhLmRhdGEubmFtZTtcbiAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSAoZGVzY3JpcHRpb25UZXh0Lmxlbmd0aCA+IDYwKSA/IGRlc2NyaXB0aW9uVGV4dC5zdWJzdHIoMCwgNjApICsgJy4uLicgOiBkZXNjcmlwdGlvblRleHQ7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5kZXRhaWxzQ29udGFpbmVyLmRhdGFzZXQuaWQgPSBkYXRhLmRhdGEuaWQ7XG5cbiAgICBfdGhpcy5zZXR0aW5ncy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhZGRDbGFzcyhxdWVyeShfdGhpcy5zZXR0aW5ncy5jb250YWluZXIsICcuY2wtd2lkZ2V0LW5vdGlmLWluZm9ybWF0aW9uLXdyYXBwZXInKSwgJ2NsLXNob3cnKTtcbiAgICB9LCAyMDApO1xuXG4gICAgX3RoaXMuYXV0b05vdGlmaWNhdGlvbkhpZGUoKTtcbiAgfTtcblxuICB0aGlzLmV2ZW50U3RyZWFtQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChfdGhpcy5zZXR0aW5ncy5jaGVja0ludGVydmFsKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuc2V0dGluZ3MuY2hlY2tJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtLmxlbmd0aCA+IDAgJiYgIV90aGlzLnNldHRpbmdzLmRpc3BsYXlJblByb2dyZXNzKSB7XG4gICAgICB2YXIgZGF0YSA9IF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtWzBdO1xuICAgICAgdmFyIGluZGV4ID0gX3RoaXMuc2V0dGluZ3MuZXZlbnRTdHJlYW0uaW5kZXhPZihkYXRhKTtcblxuICAgICAgaWYgKHR5cGVvZiBkYXRhLmFjaGlldmVtZW50SWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmRpc3BsYXlJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuZ2V0QWNoaWV2ZW1lbnQoZGF0YS5hY2hpZXZlbWVudElkLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIF90aGlzLnNob3dBY2hpZXZlbWVudE5vdGlmaWNhdGlvbihkYXRhKTtcblxuICAgICAgICAgIF90aGlzLnNldHRpbmdzLmNoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50U3RyZWFtQ2hlY2soKTtcbiAgICAgICAgICB9LCBfdGhpcy5zZXR0aW5ncy5vbkRpc3BsYXlDaGVja1RpbWVvdXQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5zZXR0aW5ncy5ldmVudFN0cmVhbS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YS5ub3RpZmljYXRpb25JZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX3RoaXMuc2V0dGluZ3MuY2hlY2tJbnRlcnZhbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLmV2ZW50U3RyZWFtQ2hlY2soKTtcbiAgICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuY2hlY2tUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmNoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5ldmVudFN0cmVhbUNoZWNrKCk7XG4gICAgICAgIH0sIF90aGlzLnNldHRpbmdzLmNoZWNrVGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIF90aGlzLnNldHRpbmdzLmV2ZW50U3RyZWFtLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLnNldHRpbmdzLmNoZWNrSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuZXZlbnRTdHJlYW1DaGVjaygpO1xuICAgICAgfSwgX3RoaXMuc2V0dGluZ3MuY2hlY2tUaW1lb3V0KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyID09PSBudWxsKSB7XG4gICAgICBfdGhpcy5zdGFydFNTRSgpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuY29udGFpbmVyID0gX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3MuYmluZENvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5sYXlvdXRXcmFwcGVyKCkpO1xuICAgICAgX3RoaXMuc2V0dGluZ3MuZGV0YWlsc0NvbnRhaW5lciA9IHF1ZXJ5KF90aGlzLnNldHRpbmdzLmNvbnRhaW5lciwgJy5jbC13aWRnZXQtbm90aWYtaW5mb3JtYXRpb24tZGV0YWlscy13cmFwcGVyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRlcm1pbmF0ZSBTU0VcbiAgICAgIF90aGlzLnNldHRpbmdzLnNzZUluc3RhbmNlLmNsb3NlQ2hhbmVsKCk7XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgbWVtYmVyXG4gICAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZS5zZXR0aW5ncy5zc2VVcmwgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5tZW1iZXJTU0UucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCk7XG4gICAgICBfdGhpcy5zZXR0aW5ncy5zc2VJbnN0YW5jZS5zZXR0aW5ncy5oZWFydGJlYXQgPSBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy51cmkuZ2F0ZXdheURvbWFpbiArIF90aGlzLnNldHRpbmdzLmxiV2lkZ2V0LnNldHRpbmdzLnVyaS5tZW1iZXJTU0VIZWFydGJlYXQucmVwbGFjZSgnOnNwYWNlJywgX3RoaXMuc2V0dGluZ3MubGJXaWRnZXQuc2V0dGluZ3Muc3BhY2VOYW1lKS5yZXBsYWNlKCc6aWQnLCBfdGhpcy5zZXR0aW5ncy5sYldpZGdldC5zZXR0aW5ncy5tZW1iZXJJZCk7XG5cbiAgICAgIC8vIHJlLWluc3RhbnRpYXRlIFNTRVxuICAgICAgX3RoaXMuc2V0dGluZ3Muc3NlSW5zdGFuY2Uub3BlbkNoYW5lbCgpO1xuICAgIH1cblxuICAgIF90aGlzLmV2ZW50U3RyZWFtQ2hlY2soKTtcbiAgfTtcbn07XG4iLCIvLyBkZWZhdWx0IGRvbWFpblxuXG4vLyB2YXIgYXBpVVJMID0gXCJodHRwOi8vMTkyLjE2OC4xLjg6OTk5OFwiO1xuXG5jb25zdCBhcGlVUkwgPSAnaHR0cHM6Ly9nYXRld2F5LmNvbXBldGl0aW9ubGFicy5jb20nO1xuXG5jb25zdCBjTGFicyA9IHtcbiAgYXBpOiB7XG4gICAgdXJsOiBhcGlVUkxcbiAgfSxcbiAgY2xhc3NTZWxlY3RvcjogL15cXC4oW1xcdy1dKykkLywgLy8gY2xhc3Mgc3RyaW5nIGV4cHJlc3Npb24gY2hlY2tcbiAgaWRTZWxlY3RvcjogL14jW1xcd1xcZFxcLVxcX1xcJlxcIVxcQFxcKl0rJC8sIC8vIElEIHN0cmluZyBleHByZXNzaW9uIGNoZWNrXG4gIHRhZ1NlbGVjdG9yOiAvXltcXHctXSskLyAvLyBUQUcgc3RyaW5nIGV4cHJlc3Npb24gY2hlY2tcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNMYWJzO1xuIiwiaW1wb3J0IHsgYWRkQ2xhc3MsIGhhc0NsYXNzLCBpc2lPU0RldmljZSwgaXNNb2JpbGVUYWJsZXQsIHJlbW92ZUNsYXNzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG4vLyB2YXIgc2Nyb2xsT2JqMiA9IG51bGw7XG5sZXQgbW92ZW1lbnRJbnRlcnZhbDtcblxuY29uc3QgZHJhZ0VsZW1lbnQgPSBmdW5jdGlvbiAoZWxtbnQsIGRyYWdnYWJsZUVsLCBvdmVybGF5Q29udGFpbmVyLCBjb250YWluZXIsIGRyYWdnaW5nLCBmaW5pc2hEcmFnZ2luZywgbW9iaWxlVG91Y2gpIHtcbiAgdmFyIHBvczEgPSAwO1xuICB2YXIgcG9zMiA9IDA7XG4gIHZhciBwb3MzID0gMDtcbiAgdmFyIHBvczQgPSAwO1xuICB2YXIgaXNNb2JpbGUgPSBpc01vYmlsZVRhYmxldCgpO1xuICB2YXIgaXNpT1MgPSBpc2lPU0RldmljZSgpO1xuICB2YXIgaXNQYXJlbnRXaW5kb3cgPSBlbG1udC5wYXJlbnROb2RlLm5vZGVOYW1lID09PSAnQk9EWSc7XG4gIHZhciBtYXhMZWZ0ID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVyV2lkdGggOiBjb250YWluZXIub2Zmc2V0V2lkdGgpO1xuICB2YXIgbWF4VG9wID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gIHZhciB0b3VjaFN0YXJ0OyB2YXIgbW92aW5nID0gbnVsbDtcbiAgLy8gc2Nyb2xsT2JqMiA9IHF1ZXJ5KFwiLnNjcm9sbC1yZXNcIik7XG5cbiAgaWYgKG1vdmVtZW50SW50ZXJ2YWwpIHtcbiAgICBjbGVhclRpbWVvdXQobW92ZW1lbnRJbnRlcnZhbCk7XG4gIH1cblxuICB2YXIgb25XaW5kb3dDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlzVmVydGljYWwgPSBoYXNDbGFzcyhlbG1udCwgJ2NsLXZlcnRpY2FsLW1pbmknKTtcbiAgICB2YXIgbWF4TGVmdCA9IChpc1BhcmVudFdpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogY29udGFpbmVyLm9mZnNldFdpZHRoKTtcbiAgICB2YXIgbWF4VG9wID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gICAgdmFyIG9mZnNldE1heExlZnQgPSBtYXhMZWZ0IC0gcGFyc2VJbnQoZWxtbnQub2Zmc2V0V2lkdGggKyAoaXNWZXJ0aWNhbCA/IGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoIC8gNyA6IGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoIC8gMS42KSk7XG4gICAgdmFyIG9mZnNldE1heFRvcCA9IG1heFRvcCAtIHBhcnNlSW50KGVsbW50Lm9mZnNldEhlaWdodCArIChpc1ZlcnRpY2FsID8gZHJhZ2dhYmxlRWwub2Zmc2V0SGVpZ2h0IC8gMS4yIDogZHJhZ2dhYmxlRWwub2Zmc2V0SGVpZ2h0IC8gNCkpO1xuICAgIHZhciBlbFRvcCA9IHBhcnNlSW50KGVsbW50LnN0eWxlLnRvcCk7XG4gICAgdmFyIGVsTGVmdCA9IHBhcnNlSW50KGVsbW50LnN0eWxlLmxlZnQpO1xuXG4gICAgaWYgKGVsVG9wID4gb2Zmc2V0TWF4VG9wICYmIG9mZnNldE1heFRvcCA+IDUpIHtcbiAgICAgIGVsbW50LnN0eWxlLnRvcCA9IG9mZnNldE1heFRvcCArICdweCc7XG4gICAgfVxuICAgIGlmIChlbExlZnQgPiBvZmZzZXRNYXhMZWZ0ICYmIG9mZnNldE1heExlZnQgPiA1KSB7XG4gICAgICBlbG1udC5zdHlsZS5sZWZ0ID0gb2Zmc2V0TWF4TGVmdCArICdweCc7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc01vYmlsZSkge1xuICAgIC8qIGxpc3RlbiB0byB0aGUgdG91Y2hNb3ZlIGV2ZW50LFxuICAgICAgZXZlcnkgdGltZSBpdCBmaXJlcywgZ3JhYiB0aGUgbG9jYXRpb25cbiAgICAgIG9mIHRvdWNoIGFuZCBhc3NpZ24gaXQgdG8gYm94ICovXG5cbiAgICB2YXIganVzdEFUb3VjaCA9IGZhbHNlO1xuICAgIGRyYWdnYWJsZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAganVzdEFUb3VjaCA9IHRydWU7XG5cbiAgICAgIGlmICh0b3VjaFN0YXJ0KSBjbGVhclRpbWVvdXQodG91Y2hTdGFydCk7XG5cbiAgICAgIG1heExlZnQgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGNvbnRhaW5lci5vZmZzZXRXaWR0aCk7XG4gICAgICBtYXhUb3AgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBjb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcblxuICAgICAgdG91Y2hTdGFydCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBqdXN0QVRvdWNoID0gZmFsc2U7XG4gICAgICB9LCAxMDApO1xuICAgIH0sIHsgcGFzc2l2ZTogaXNpT1MgfSk7XG5cbiAgICBkcmFnZ2FibGVFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcG9zMyA9IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcbiAgICAgIHBvczQgPSBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAvLyBtb3ZpbmcgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgZWxlbWVudERyYWcoZSk7XG4gICAgfSwgeyBwYXNzaXZlOiBpc2lPUyB9KTtcblxuICAgIGRyYWdnYWJsZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIGN1cnJlbnQgYm94IHBvc2l0aW9uLlxuICAgICAgY2xvc2VEcmFnRWxlbWVudChlKTtcbiAgICAgIG1vdmluZyA9IG51bGw7XG5cbiAgICAgIGlmIChqdXN0QVRvdWNoICYmIHR5cGVvZiBtb2JpbGVUb3VjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtb2JpbGVUb3VjaCgpO1xuICAgICAgfVxuICAgIH0sIHsgcGFzc2l2ZTogaXNpT1MgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgb25XaW5kb3dDaGFuZ2UoKTtcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBwcmVzZW50LCB0aGUgaGVhZGVyIGlzIHdoZXJlIHlvdSBtb3ZlIHRoZSBESVYgZnJvbTpcbiAgICBkcmFnZ2FibGVFbC5vbm1vdXNlZG93biA9IGRyYWdNb3VzZURvd247XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIG9uV2luZG93Q2hhbmdlKCk7XG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmFnTW91c2VEb3duIChlKSB7XG4gICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIG1heExlZnQgPSAoaXNQYXJlbnRXaW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGNvbnRhaW5lci5vZmZzZXRXaWR0aCk7XG4gICAgbWF4VG9wID0gKGlzUGFyZW50V2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG5cbiAgICBvdmVybGF5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgLy8gZ2V0IHRoZSBtb3VzZSBjdXJzb3IgcG9zaXRpb24gYXQgc3RhcnR1cDpcbiAgICBwb3MzID0gZS5jbGllbnRYO1xuICAgIHBvczQgPSBlLmNsaWVudFk7XG4gICAgZG9jdW1lbnQub25tb3VzZXVwID0gY2xvc2VEcmFnRWxlbWVudDtcbiAgICAvLyBjYWxsIGEgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIGN1cnNvciBtb3ZlczpcbiAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGVsZW1lbnREcmFnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYWRkaXRpb25hbCBvZmZzZXQgdG8gbWF4IGxlZnQgYW5kIHRvcCBiYXNlZCBvbiBvcmllbnRhdGlvbiBhbmQgY29udGFpbmVyIHdpZHRoICh3aWxsIGJlIGFmZmVjdGVkIGJ5IENTUyBzdHlsaW5nIHNvIG5lZWRzIHRvIGJlIGFkanVzdGVkIGFjY29yZGluZ2x5KVxuICAgKiAtIGVsbW50ID0+IGlzIHRoZSBtYWluIGNvbnRhaW5lciB0aGF0IGhhcyB0aGUgcG9zaXRpb25pbmcgYXBwbGllZCB0b1xuICAgKiAtIGRyYWdnYWJsZUVsID0+IGtleSBlbGVtZW50IHRoYXQgaXMgbWVhbiBmb3IgZHJhZ2dpbmdcbiAgICovXG4gIHZhciBjaGVja01heE1pblJlc3RyYWludHMgPSBmdW5jdGlvbiAobmV3VG9wLCBuZXdMZWZ0LCBvZmZzZXRNYXhMZWZ0LCBvZmZzZXRNYXhUb3ApIHtcbiAgICB2YXIgLy8gbWluTGVmdCA9IChpc1ZlcnRpY2FsID8gZWxtbnQub2Zmc2V0V2lkdGgvNCA6IDAgKSwgLy8gYXR0ZW1wdCB0byByZXN0cmljdCB0aGUgY29udGFpbmVyIHRvIGdvIG91dCBvZiBib3VuZHMgYnkgYSBmZXcgcGl4ZWxzLCBuZWVkcyBzb21lIHdvcmtcbiAgICAgIG1pbkxlZnQgPSAwO1xuICAgIHZhciB0b3AgPSAobmV3VG9wIDw9IDAgPyAwIDogbmV3VG9wKTtcbiAgICB2YXIgbGVmdCA9IChuZXdMZWZ0IDw9IG1pbkxlZnQgPyBtaW5MZWZ0IDogbmV3TGVmdCk7XG5cbiAgICBpZiAobGVmdCA+PSBvZmZzZXRNYXhMZWZ0KSB7XG4gICAgICBsZWZ0ID0gb2Zmc2V0TWF4TGVmdDtcbiAgICB9XG4gICAgaWYgKHRvcCA+PSBvZmZzZXRNYXhUb3ApIHtcbiAgICAgIHRvcCA9IG9mZnNldE1heFRvcDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiB0b3AsXG4gICAgICBsZWZ0OiBsZWZ0XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbGVtZW50RHJhZyAoZSkge1xuICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSBuZXcgY3Vyc29yIHBvc2l0aW9uOlxuICAgIHZhciBwb3NYID0gKGlzTW9iaWxlKSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUuY2xpZW50WDtcbiAgICB2YXIgcG9zWSA9IChpc01vYmlsZSkgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLmNsaWVudFk7XG4gICAgdmFyIGlzVmVydGljYWwgPSBoYXNDbGFzcyhlbG1udCwgJ2NsLXZlcnRpY2FsLW1pbmknKTtcbiAgICB2YXIgb2Zmc2V0TWF4TGVmdCA9IG1heExlZnQgLSBwYXJzZUludChlbG1udC5vZmZzZXRXaWR0aCArIChpc1ZlcnRpY2FsID8gZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyA3IDogZHJhZ2dhYmxlRWwub2Zmc2V0V2lkdGggLyAxLjYpKTtcbiAgICB2YXIgb2Zmc2V0TWF4VG9wID0gbWF4VG9wIC0gcGFyc2VJbnQoZWxtbnQub2Zmc2V0SGVpZ2h0ICsgKGlzVmVydGljYWwgPyBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQgLyAxLjIgOiBkcmFnZ2FibGVFbC5vZmZzZXRIZWlnaHQgLyA0KSk7XG5cbiAgICBwb3MxID0gcG9zMyAtIHBvc1g7XG4gICAgcG9zMiA9IHBvczQgLSBwb3NZO1xuICAgIHBvczMgPSBwYXJzZUludChwb3NYKTtcbiAgICBwb3M0ID0gcGFyc2VJbnQocG9zWSk7XG4gICAgbW92aW5nID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICBjaGVja01vdmVtZW50KCk7XG5cbiAgICBpZiAoIWhhc0NsYXNzKGVsbW50LCAnY2wtYmVpbmctbW92ZWQnKSkgYWRkQ2xhc3MoZWxtbnQsICdjbC1iZWluZy1tb3ZlZCcpO1xuXG4gICAgdmFyIG5ld1RvcCA9IChpc01vYmlsZSkgPyAocG9zWSAtIHBhcnNlSW50KGRyYWdnYWJsZUVsLm9mZnNldEhlaWdodCAvIDIpKSA6IChlbG1udC5vZmZzZXRUb3AgLSBwb3MyKTtcbiAgICB2YXIgbmV3TGVmdCA9IChpc01vYmlsZSkgPyAocG9zWCAtIHBhcnNlSW50KGRyYWdnYWJsZUVsLm9mZnNldFdpZHRoIC8gMikpIDogKGVsbW50Lm9mZnNldExlZnQgLSBwb3MxKTtcbiAgICB2YXIgbGVmdFRvcENoZWNrID0gY2hlY2tNYXhNaW5SZXN0cmFpbnRzKG5ld1RvcCwgbmV3TGVmdCwgb2Zmc2V0TWF4TGVmdCwgb2Zmc2V0TWF4VG9wKTsgLy8gc2V0IHRoZSBlbGVtZW50J3MgbmV3IHBvc2l0aW9uOlxuXG4gICAgLy8gc2Nyb2xsT2JqMi5pbm5lckhUTUwgPSBsZWZ0VG9wQ2hlY2sudG9wICsgXCItXCIgKyBsZWZ0VG9wQ2hlY2subGVmdCArIFwiIDogXCIrIG5ld1RvcCArIFwiLVwiICsgbmV3TGVmdCArIFwiIDogXCIgKyAocG9zWCA8IDAgfHwgcG9zWSA8IDAgfHwgcG9zWCA+IG1heExlZnQgfHwgcG9zWSA+IG1heFRvcCkgKyBcIi1cIiArIChuZXdUb3AgPiBvZmZzZXRNYXhUb3AgfHwgbmV3TGVmdCA+IG9mZnNldE1heExlZnQpO1xuICAgIC8vIHNjcm9sbE9iajIuaW5uZXJIVE1MID0gbGVmdFRvcENoZWNrLnRvcCArIFwiLVwiICsgbGVmdFRvcENoZWNrLmxlZnQgKyBcIiA6IFwiKyBuZXdUb3AgK1wiLVwiKyBuZXdMZWZ0ICsgXCIgOiBcIiArIChwb3NYIDwgMCB8fCBwb3NZIDwgMCB8fCBwb3NYID4gbWF4TGVmdCB8fCBwb3NZID4gbWF4VG9wKSArIFwiLVwiICsgKG5ld1RvcCA+IG9mZnNldE1heFRvcCB8fCBuZXdMZWZ0ID4gb2Zmc2V0TWF4TGVmdCk7XG5cbiAgICBpZiAocG9zWCA8IDAgfHwgcG9zWSA8IDAgfHwgcG9zWCA+IG1heExlZnQgfHwgcG9zWSA+IG1heFRvcCkge1xuICAgICAgY2xvc2VEcmFnRWxlbWVudChlKTtcbiAgICB9IGVsc2UgaWYgKG5ld1RvcCA+IG9mZnNldE1heFRvcCB8fCBuZXdMZWZ0ID4gb2Zmc2V0TWF4TGVmdCkge1xuICAgICAgY2xvc2VEcmFnRWxlbWVudChlKTtcbiAgICB9IGVsc2UgaWYgKGxlZnRUb3BDaGVjay50b3AgPiBvZmZzZXRNYXhUb3AgfHwgbGVmdFRvcENoZWNrLmxlZnQgPiBvZmZzZXRNYXhMZWZ0KSB7XG4gICAgICBjbG9zZURyYWdFbGVtZW50KGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbG1udC5zdHlsZS50b3AgPSBsZWZ0VG9wQ2hlY2sudG9wICsgJ3B4JztcbiAgICAgIGVsbW50LnN0eWxlLmxlZnQgPSBsZWZ0VG9wQ2hlY2subGVmdCArICdweCc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkcmFnZ2luZyA9PT0gJ2Z1bmN0aW9uJykgZHJhZ2dpbmcobmV3VG9wLCBuZXdMZWZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQgKGUpIHtcbiAgICBvdmVybGF5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN0b3AgbW92aW5nIHdoZW4gbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkOlxuICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcbiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcbiAgICB9XG4gICAgbW92aW5nID0gbnVsbDtcblxuICAgIHJlbW92ZUNsYXNzKGVsbW50LCAnY2wtYmVpbmctbW92ZWQnKTtcblxuICAgIGlmICh0eXBlb2YgZmluaXNoRHJhZ2dpbmcgPT09ICdmdW5jdGlvbicpIGZpbmlzaERyYWdnaW5nKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja01vdmVtZW50ICgpIHtcbiAgICBpZiAobW92ZW1lbnRJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KG1vdmVtZW50SW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIG1vdmVtZW50SW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChtb3ZpbmcgIT09IG51bGwgJiYgbW92aW5nICsgMzAwMCA8IG5ldyBEYXRlKCkuZ2V0VGltZSgpICYmICFpc01vYmlsZSkge1xuICAgICAgICBjbG9zZURyYWdFbGVtZW50KCk7XG4gICAgICB9IGVsc2UgaWYgKG1vdmluZyAhPT0gbnVsbCkge1xuICAgICAgICBjaGVja01vdmVtZW50KCk7XG4gICAgICB9XG4gICAgfSwgMzAwMCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRyYWdFbGVtZW50O1xuIiwiLy8gZ2xvYmFsIHRpbWVvdXQgaGFuZGxpbmdcblxudHJ5IHtcbiAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0R2xvYmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgd2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeSA9IFtdO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0R2xvYmFsID0gZnVuY3Rpb24gKGlkLCBmdW5jLCB0aW1lcikge1xuICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgd2luZG93Lm1hcE9iamVjdCh3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5LCBmdW5jdGlvbiAoaW5zdGFuY2UsIGtleSwgY291bnQpIHtcbiAgICAgICAgaWYgKGlkID09PSBpbnN0YW5jZS5pZCkge1xuICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3aW5kb3cubWFwT2JqZWN0KHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnksIGZ1bmN0aW9uIChpbnN0YW5jZSwga2V5LCBjb3VudCkge1xuICAgICAgICAgICAgaWYgKGlkID09PSBpbnN0YW5jZS5pZCkge1xuICAgICAgICAgICAgICB3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5LnNwbGljZShrZXksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmdW5jKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aW1lcik7XG5cbiAgICAgICAgd2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeS5wdXNoKHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgZnVuYzogZnVuYyxcbiAgICAgICAgICB0aW1lcjogdGltZXIsXG4gICAgICAgICAgaW50ZXJ2YWw6IGludGVydmFsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBpbnRlcnZhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dEdsb2JhbCAtIElEIFsnICsgaWQgKyAnXSBhbHJlYWR5IGluIHVzZScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY2xvc2VUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICB3aW5kb3cubWFwT2JqZWN0KHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnksIGZ1bmN0aW9uIChpbnN0YW5jZSwga2V5LCBjb3VudCkge1xuICAgICAgICAgIGlmIChpbnN0YW5jZS5pbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnN0YW5jZS5pbnRlcnZhbCk7XG4gICAgICAgICAgICBpbnN0YW5jZS5pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlRW5hYmxlVGltZW91dHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAod2luZG93Ll9zZXRUaW1lb3V0R2xvYmFsUmVwb3NpdG9yeS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0bXAgPSBbXTtcbiAgICAgICAgd2luZG93Lm1hcE9iamVjdCh3aW5kb3cuX3NldFRpbWVvdXRHbG9iYWxSZXBvc2l0b3J5LCBmdW5jdGlvbiAoaW5zdGFuY2UsIGtleSwgY291bnQpIHtcbiAgICAgICAgICB0bXAucHVzaChpbnN0YW5jZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5fc2V0VGltZW91dEdsb2JhbFJlcG9zaXRvcnkgPSBbXTtcbiAgICAgICAgd2luZG93Lm1hcE9iamVjdCh0bXAsIGZ1bmN0aW9uIChpbnN0YW5jZSwga2V5LCBjb3VudCkge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0R2xvYmFsKGluc3RhbmNlLmlkLCBpbnN0YW5jZS5mdW5jLCBpbnN0YW5jZS50aW1lcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgd2luZG93QWN0aXZpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGlkZGVuID0gJ2hpZGRlbic7XG5cbiAgICAgICAgLy8gU3RhbmRhcmRzOlxuICAgICAgICBpZiAoaGlkZGVuIGluIGRvY3VtZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ21vekhpZGRlbicpIGluIGRvY3VtZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96dmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ3dlYmtpdEhpZGRlbicpIGluIGRvY3VtZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0dmlzaWJpbGl0eWNoYW5nZScsIG9uY2hhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaGlkZGVuID0gJ21zSGlkZGVuJykgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtc3Zpc2liaWxpdHljaGFuZ2UnLCBvbmNoYW5nZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoJ29uZm9jdXNpbicgaW4gZG9jdW1lbnQpIHsgLy8gSUUgOSBhbmQgbG93ZXI6XG4gICAgICAgICAgZG9jdW1lbnQub25mb2N1c2luID0gZG9jdW1lbnQub25mb2N1c291dCA9IG9uY2hhbmdlO1xuICAgICAgICB9IGVsc2UgeyAvLyBBbGwgb3RoZXJzOlxuICAgICAgICAgIHdpbmRvdy5vbnBhZ2VzaG93ID0gd2luZG93Lm9ucGFnZWhpZGUgPSB3aW5kb3cub25mb2N1cyA9IHdpbmRvdy5vbmJsdXIgPSBvbmNoYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uY2hhbmdlIChldnQpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0gJyc7XG4gICAgICAgICAgdmFyIHYgPSAndmlzaWJsZSc7XG4gICAgICAgICAgdmFyIGggPSAnaGlkZGVuJztcbiAgICAgICAgICB2YXIgZXZ0TWFwID0ge1xuICAgICAgICAgICAgZm9jdXM6IHYsIGZvY3VzaW46IHYsIHBhZ2VzaG93OiB2LCBibHVyOiBoLCBmb2N1c291dDogaCwgcGFnZWhpZGU6IGhcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZXZ0ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICBpZiAoZXZ0LnR5cGUgaW4gZXZ0TWFwKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBldnRNYXBbZXZ0LnR5cGVdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0dXMgPSB0aGlzW2hpZGRlbl0gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICAgIHJlRW5hYmxlVGltZW91dHMoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIGNsb3NlVGltZW91dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgaW5pdGlhbCBzdGF0ZSAoYnV0IG9ubHkgaWYgYnJvd3NlciBzdXBwb3J0cyB0aGUgUGFnZSBWaXNpYmlsaXR5IEFQSSlcbiAgICAgICAgaWYgKGRvY3VtZW50W2hpZGRlbl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG9uY2hhbmdlKHsgdHlwZTogZG9jdW1lbnRbaGlkZGVuXSA/ICdibHVyJyA6ICdmb2N1cycgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfTtcblxuICAgIHdpbmRvd0FjdGl2aXR5KCk7XG4gIH1cbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufVxuIiwiaW1wb3J0IGNzc1ZhcnMgZnJvbSAnY3NzLXZhcnMtcG9ueWZpbGwnO1xuXG5jc3NWYXJzKHtcbiAgaW5jbHVkZTogJ2xpbmtbcmVsPXN0eWxlc2hlZXRdLHN0eWxlJyxcbiAgd2F0Y2g6IHRydWUsXG4gIG9ubHlMZWdhY3k6IGZhbHNlXG59KTtcbiIsIi8vXG5pZiAoIXdpbmRvdy5jb25zb2xlKSB7XG4gIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24gKCkge1xuICB9O1xuXG4gIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LmNvbnNvbGUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihlcnIpO1xuICAgIH07XG4gICAgd2luZG93LmNvbnNvbGUucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIHdpbmRvdy5jb25zb2xlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihlcnIpO1xuICAgIH07XG4gIH1cbn1cblxuLy9cbnRyeSB7XG4gIEV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCB8fCAoRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucmV0dXJuVmFsdWUgPSAhMTtcbiAgfSk7XG59IGNhdGNoIChlcnIpIHtcbiAgY29uc29sZS5sb2coZXJyKTtcbn1cblxuLy9cbnRyeSB7XG4gIEV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gfHwgKEV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSAhMDtcbiAgfSk7XG59IGNhdGNoIChlcnIpIHtcbiAgY29uc29sZS5sb2coZXJyKTtcbn1cblxuLy9cbnRyeSB7XG4gIHR5cGVvZiBtYXBPYmplY3QgIT09ICdmdW5jdGlvbicgJiYgKHdpbmRvdy5tYXBPYmplY3QgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgIGlmIChlICE9PSBudWxsKSB7XG4gICAgICB2YXIgbiA9IDA7XG4gICAgICBmb3IgKHZhciByIGluIGUpIGUuaGFzT3duUHJvcGVydHkocikgJiYgKHQoZVtyXSwgciwgbiksIG4rKyk7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIHJldHVybiBjb25zb2xlLmxvZygncmV0dXJuZWQgb2JqZWN0IGlzIG51bGwnLCB0eXBlb2YgZSksICExO1xuICB9KTtcbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufVxuXG4vL1xudHJ5IHtcbiAgaWYgKCFFbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgdmFyIGV2ZW50TGlzdGVuZXJzID0gW107IHZhciBhZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgIHZhciBuOyB2YXIgciA9IHRoaXM7XG4gICAgICBpZiAobiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUudGFyZ2V0ID0gZS5zcmNFbGVtZW50LCBlLmN1cnJlbnRUYXJnZXQgPSByLCBlLnBhZ2VYID0gZXZlbnQuY2xpZW50WCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwgZS5wYWdlWSA9IGV2ZW50LmNsaWVudFkgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCwgdC5oYW5kbGVFdmVudCA/IHQuaGFuZGxlRXZlbnQoZSkgOiB0LmNhbGwociwgZSk7XG4gICAgICB9LCBlID09PSAnRE9NQ29udGVudExvYWRlZCcpIHtcbiAgICAgICAgdmFyIG8gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgJiYgbihlKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBvKSwgZXZlbnRMaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgIHR5cGU6IGUsXG4gICAgICAgICAgbGlzdGVuZXI6IHQsXG4gICAgICAgICAgd3JhcHBlcjogb1xuICAgICAgICB9KSwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgdmFyIGkgPSBuZXcgRXZlbnQoKTtcbiAgICAgICAgICBpLnNyY0VsZW1lbnQgPSB3aW5kb3csIG8oaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB0aGlzLmF0dGFjaEV2ZW50KCdvbicgKyBlLCBuKSwgZXZlbnRMaXN0ZW5lcnMucHVzaCh7IG9iamVjdDogdGhpcywgdHlwZTogZSwgbGlzdGVuZXI6IHQsIHdyYXBwZXI6IG4gfSk7XG4gICAgfTsgdmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBldmVudExpc3RlbmVycy5sZW5ndGg7KSB7XG4gICAgICAgIHZhciByID0gZXZlbnRMaXN0ZW5lcnNbbl07XG4gICAgICAgIGlmIChyLm9iamVjdCA9PSB0aGlzICYmIHIudHlwZSA9PSBlICYmIHIubGlzdGVuZXIgPT0gdCkge1xuICAgICAgICAgIGUgPT0gJ0RPTUNvbnRlbnRMb2FkZWQnID8gdGhpcy5kZXRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgci53cmFwcGVyKSA6IHRoaXMuZGV0YWNoRXZlbnQoJ29uJyArIGUsIHIud3JhcHBlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgKytuO1xuICAgICAgfVxuICAgIH07XG4gICAgRWxlbWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyLCBIVE1MRG9jdW1lbnQgJiYgKEhUTUxEb2N1bWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIEhUTUxEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXIpLCBXaW5kb3cgJiYgKFdpbmRvdy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIsIFdpbmRvdy5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXIpO1xuICB9XG4gIEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSB8fCAoRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgfSwgTm9kZUxpc3QucHJvdG90eXBlLnJlbW92ZSA9IEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgZSA9IDAsIHQgPSB0aGlzLmxlbmd0aDsgdCA+IGU7IGUrKykgdGhpc1tlXSAmJiB0aGlzW2VdLnBhcmVudEVsZW1lbnQgJiYgdGhpc1tlXS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXNbZV0pO1xuICB9KTtcbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufVxudHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJyAmJiAodHlwZW9mIHdpbmRvdy5KU09OICE9PSAnb2JqZWN0JyAmJiAod2luZG93LkpTT04gPSB7fSksIChmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBmIChlKSB7XG4gICAgcmV0dXJuIGUgPCAxMCA/ICcwJyArIGUgOiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVvdGUgKGUpIHtcbiAgICByZXR1cm4gZXNjYXBhYmxlLmxhc3RJbmRleCA9IDAsIGVzY2FwYWJsZS50ZXN0KGUpID8gJ1wiJyArIGUucmVwbGFjZShlc2NhcGFibGUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdCA9IG1ldGFbZV07XG4gICAgICByZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6ICdcXFxcdScgKyAoJzAwMDAnICsgZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICAgIH0pICsgJ1wiJyA6ICdcIicgKyBlICsgJ1wiJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0ciAoZSwgdCkge1xuICAgIHZhciBuOyB2YXIgcjsgdmFyIG87IHZhciBpOyB2YXIgYTsgdmFyIHAgPSBnYXA7IHZhciB1ID0gdFtlXTtcbiAgICBzd2l0Y2ggKHUgJiYgdHlwZW9mIHUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB1LnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJyAmJiAodSA9IHUudG9KU09OKGUpKSwgdHlwZW9mIHJlcCA9PT0gJ2Z1bmN0aW9uJyAmJiAodSA9IHJlcC5jYWxsKHQsIGUsIHUpKSwgdHlwZW9mIHUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiBxdW90ZSh1KTtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBpc0Zpbml0ZSh1KSA/IFN0cmluZyh1KSA6ICdudWxsJztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgIHJldHVybiBTdHJpbmcodSk7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoIXUpIHJldHVybiAnbnVsbCc7XG4gICAgICAgIGlmIChnYXAgKz0gaW5kZW50LCBhID0gW10sIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICBmb3IgKGkgPSB1Lmxlbmd0aCwgbiA9IDA7IGkgPiBuOyBuICs9IDEpIGFbbl0gPSBzdHIobiwgdSkgfHwgJ251bGwnO1xuICAgICAgICAgIHJldHVybiBvID0gYS5sZW5ndGggPT09IDAgPyAnW10nIDogZ2FwID8gJ1tcXG4nICsgZ2FwICsgYS5qb2luKCcsXFxuJyArIGdhcCkgKyAnXFxuJyArIHAgKyAnXScgOiAnWycgKyBhLmpvaW4oJywnKSArICddJywgZ2FwID0gcCwgbztcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwICYmIHR5cGVvZiByZXAgPT09ICdvYmplY3QnKSBmb3IgKGkgPSByZXAubGVuZ3RoLCBuID0gMDsgaSA+IG47IG4gKz0gMSkgdHlwZW9mIHJlcFtuXSA9PT0gJ3N0cmluZycgJiYgKHIgPSByZXBbbl0sIG8gPSBzdHIociwgdSksIG8gJiYgYS5wdXNoKHF1b3RlKHIpICsgKGdhcCA/ICc6ICcgOiAnOicpICsgbykpOyBlbHNlIGZvciAociBpbiB1KSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSwgcikgJiYgKG8gPSBzdHIociwgdSksIG8gJiYgYS5wdXNoKHF1b3RlKHIpICsgKGdhcCA/ICc6ICcgOiAnOicpICsgbykpO1xuICAgICAgICByZXR1cm4gbyA9IGEubGVuZ3RoID09PSAwID8gJ3t9JyA6IGdhcCA/ICd7XFxuJyArIGdhcCArIGEuam9pbignLFxcbicgKyBnYXApICsgJ1xcbicgKyBwICsgJ30nIDogJ3snICsgYS5qb2luKCcsJykgKyAnfScsIGdhcCA9IHAsIG87XG4gICAgfVxuICB9XG5cbiAgdHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyAmJiAoRGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSkgPyB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLScgKyBmKHRoaXMuZ2V0VVRDTW9udGgoKSArIDEpICsgJy0nICsgZih0aGlzLmdldFVUQ0RhdGUoKSkgKyAnVCcgKyBmKHRoaXMuZ2V0VVRDSG91cnMoKSkgKyAnOicgKyBmKHRoaXMuZ2V0VVRDTWludXRlcygpKSArICc6JyArIGYodGhpcy5nZXRVVENTZWNvbmRzKCkpICsgJ1onIDogbnVsbDtcbiAgfSwgU3RyaW5nLnByb3RvdHlwZS50b0pTT04gPSBOdW1iZXIucHJvdG90eXBlLnRvSlNPTiA9IEJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCk7XG4gIH0pO1xuICB2YXIgY3gsIGVzY2FwYWJsZSwgZ2FwLCBpbmRlbnQsIG1ldGEsIHJlcDtcbiAgdHlwZW9mIHdpbmRvdy5KU09OLnN0cmluZ2lmeSAhPT0gJ2Z1bmN0aW9uJyAmJiAoZXNjYXBhYmxlID0gL1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4OWZcXHUwMGFkXFx1MDYwMC1cXHUwNjA0XFx1MDcwZlxcdTE3YjRcXHUxN2I1XFx1MjAwYy1cXHUyMDBmXFx1MjAyOC1cXHUyMDJmXFx1MjA2MC1cXHUyMDZmXFx1ZmVmZlxcdWZmZjAtXFx1ZmZmZl0vZywgbWV0YSA9IHtcbiAgICAnXFxiJzogJ1xcXFxiJyxcbiAgICAnXHQnOiAnXFxcXHQnLFxuICAgICdcXG4nOiAnXFxcXG4nLFxuICAgICdcXGYnOiAnXFxcXGYnLFxuICAgICdcXHInOiAnXFxcXHInLFxuICAgICdcIic6ICdcXFxcXCInLFxuICAgICdcXFxcJzogJ1xcXFxcXFxcJ1xuICB9LCB3aW5kb3cuSlNPTi5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIHZhciByO1xuICAgIGlmIChnYXAgPSAnJywgaW5kZW50ID0gJycsIHR5cGVvZiBuID09PSAnbnVtYmVyJykgZm9yIChyID0gMDsgbiA+IHI7IHIgKz0gMSkgaW5kZW50ICs9ICcgJzsgZWxzZSB0eXBlb2YgbiA9PT0gJ3N0cmluZycgJiYgKGluZGVudCA9IG4pO1xuICAgIGlmIChyZXAgPSB0LCB0ICYmIHR5cGVvZiB0ICE9PSAnZnVuY3Rpb24nICYmICh0eXBlb2YgdCAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHQubGVuZ3RoICE9PSAnbnVtYmVyJykpIHRocm93IG5ldyBFcnJvcignSlNPTi5zdHJpbmdpZnknKTtcbiAgICByZXR1cm4gc3RyKCcnLCB7ICcnOiBlIH0pO1xuICB9KSwgdHlwZW9mIHdpbmRvdy5KU09OLnBhcnNlICE9PSAnZnVuY3Rpb24nICYmIChjeCA9IC9bXFx1MDAwMFxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nLCB3aW5kb3cuSlNPTi5wYXJzZSA9IGZ1bmN0aW9uICh0ZXh0LCByZXZpdmVyKSB7XG4gICAgZnVuY3Rpb24gd2FsayAoZSwgdCkge1xuICAgICAgdmFyIG47IHZhciByOyB2YXIgbyA9IGVbdF07XG4gICAgICBpZiAobyAmJiB0eXBlb2YgbyA9PT0gJ29iamVjdCcpIGZvciAobiBpbiBvKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgbikgJiYgKHIgPSB3YWxrKG8sIG4pLCB2b2lkIDAgIT09IHIgPyBvW25dID0gciA6IGRlbGV0ZSBvW25dKTtcbiAgICAgIHJldHVybiByZXZpdmVyLmNhbGwoZSwgdCwgbyk7XG4gICAgfVxuXG4gICAgdmFyIGo7XG4gICAgaWYgKHRleHQgPSBTdHJpbmcodGV4dCksIGN4Lmxhc3RJbmRleCA9IDAsIGN4LnRlc3QodGV4dCkgJiYgKHRleHQgPSB0ZXh0LnJlcGxhY2UoY3gsIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gJ1xcXFx1JyArICgnMDAwMCcgKyBlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7XG4gICAgfSkpLCAvXltcXF0sOnt9XFxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFxcXCg/OltcIlxcXFxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLCAnQCcpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLCAnXScpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OlxccypcXFspKy9nLCAnJykpKSByZXR1cm4gaiA9IGV2YWwoJygnICsgdGV4dCArICcpJyksIHR5cGVvZiByZXZpdmVyID09PSAnZnVuY3Rpb24nID8gd2Fsayh7ICcnOiBqIH0sICcnKSA6IGo7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdKU09OLnBhcnNlJyk7XG4gIH0pO1xufSgpKSk7XG5cbi8vXG52YXIgX3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG50cnkge1xuICBfc2xpY2UuY2FsbChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xufSBjYXRjaCAoZSkge1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAodCwgZSkge1xuICAgIGlmIChlID0gdHlwZW9mIGUgIT09ICd1bmRlZmluZWQnID8gZSA6IHRoaXMubGVuZ3RoLCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcykgPT09ICdbb2JqZWN0IEFycmF5XScpIHJldHVybiBfc2xpY2UuY2FsbCh0aGlzLCB0LCBlKTtcbiAgICB2YXIgcjsgdmFyIGk7IHZhciBjID0gW107IHZhciBsID0gdGhpcy5sZW5ndGg7IHZhciBvID0gdCB8fCAwO1xuICAgIG8gPSBvID49IDAgPyBvIDogbCArIG87XG4gICAgdmFyIGEgPSBlIHx8IGw7XG4gICAgaWYgKGUgPCAwICYmIChhID0gbCArIGUpLCBpID0gYSAtIG8sIGkgPiAwKSBpZiAoYyA9IG5ldyBBcnJheShpKSwgdGhpcy5jaGFyQXQpIGZvciAociA9IDA7IGkgPiByOyByKyspIGNbcl0gPSB0aGlzLmNoYXJBdChvICsgcik7IGVsc2UgZm9yIChyID0gMDsgaSA+IHI7IHIrKykgY1tyXSA9IHRoaXNbbyArIHJdO1xuICAgIHJldHVybiBjO1xuICB9O1xufVxuXG4vLyBbRXZlbnRTb3VyY2VdIFBvbHlmaWxsIGZpeDogaHR0cHM6Ly9naXRodWIuY29tL3JlbXkvcG9seWZpbGxzL2Jsb2IvbWFzdGVyL0V2ZW50U291cmNlLmpzXG5cbihmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gIGlmICgnRXZlbnRTb3VyY2UnIGluIGdsb2JhbCkgcmV0dXJuO1xuICB2YXIgcmVUcmltID0gL14oXFxzfFxcdTAwQTApK3woXFxzfFxcdTAwQTApKyQvZztcbiAgdmFyIEV2ZW50U291cmNlID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHZhciBldmVudHNvdXJjZSA9IHRoaXM7IHZhciBpbnRlcnZhbCA9IDUwMDsgLyogcG9sbGluZyBpbnRlcnZhbCAgKi8gdmFyIGxhc3RFdmVudElkID0gbnVsbDsgdmFyIGNhY2hlID0gJyc7XG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcbiAgICB9XG4gICAgdGhpcy5VUkwgPSB1cmw7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DT05ORUNUSU5HO1xuICAgIHRoaXMuX3BvbGxUaW1lciA9IG51bGw7XG4gICAgdGhpcy5feGhyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIHBvbGxBZ2FpbiAoaW50ZXJ2YWwpIHtcbiAgICAgIGV2ZW50c291cmNlLl9wb2xsVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9sbC5jYWxsKGV2ZW50c291cmNlKTtcbiAgICAgIH0sIGludGVydmFsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb2xsICgpIHtcbiAgICAgIHRyeSB7IC8qIGZvcmNlIGhpZGluZyBvZiB0aGUgZXJyb3IgbWVzc2FnZS4uLiBpbnNhbmU/ICovXG4gICAgICAgIGlmIChldmVudHNvdXJjZS5yZWFkeVN0YXRlID09PSBldmVudHNvdXJjZS5DTE9TRUQpIHJldHVybjsgLyogTk9URTogSUU3IGFuZCB1cHdhcmRzIHN1cHBvcnQgKi9cbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbignR0VUJywgZXZlbnRzb3VyY2UuVVJMLCB0cnVlKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICd0ZXh0L2V2ZW50LXN0cmVhbScpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICduby1jYWNoZScpOyAvKiB3ZSBtdXN0IG1ha2UgdXNlIG9mIHRoaXMgb24gdGhlIHNlcnZlciBzaWRlIGlmIHdlJ3JlIHdvcmtpbmcgd2l0aCBBbmRyb2lkIC0gYmVjYXVzZSB0aGV5IGRvbid0IHRyaWdnZXIgcmVhZHljaGFuZ2UgdW50aWwgdGhlIHNlcnZlciBjb25uZWN0aW9uIGlzIGNsb3NlZCAqL1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xuICAgICAgICBpZiAobGFzdEV2ZW50SWQgIT0gbnVsbCkgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0xhc3QtRXZlbnQtSUQnLCBsYXN0RXZlbnRJZCk7XG4gICAgICAgIGNhY2hlID0gJyc7XG4gICAgICAgIHhoci50aW1lb3V0ID0gNTAwMDA7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSAzIHx8ICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLnN0YXR1cyA9PSAyMDApKSB7IC8qIG9uIHN1Y2Nlc3MgKi9cbiAgICAgICAgICAgIGlmIChldmVudHNvdXJjZS5yZWFkeVN0YXRlID09IGV2ZW50c291cmNlLkNPTk5FQ1RJTkcpIHtcbiAgICAgICAgICAgICAgZXZlbnRzb3VyY2UucmVhZHlTdGF0ZSA9IGV2ZW50c291cmNlLk9QRU47XG4gICAgICAgICAgICAgIGV2ZW50c291cmNlLmRpc3BhdGNoRXZlbnQoJ29wZW4nLCB7IHR5cGU6ICdvcGVuJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXNwb25zZVRleHQgPSAnJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2VUZXh0IHx8ICcnO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfSAvKiBwcm9jZXNzIHRoaXMucmVzcG9uc2VUZXh0ICovXG4gICAgICAgICAgICB2YXIgcGFydHMgPSByZXNwb25zZVRleHQuc3Vic3RyKGNhY2hlLmxlbmd0aCkuc3BsaXQoJ1xcbicpOyB2YXIgZXZlbnRUeXBlID0gJ21lc3NhZ2UnOyB2YXIgZGF0YSA9IFtdOyB2YXIgaSA9IDA7XG4gICAgICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICAgICAgY2FjaGUgPSByZXNwb25zZVRleHQ7IC8qIFRPRE8gaGFuZGxlICdldmVudCcgKGZvciBidWZmZXIgbmFtZSksIHJldHJ5ICovXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxpbmUgPSBwYXJ0c1tpXS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKCdldmVudCcpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gbGluZS5yZXBsYWNlKC9ldmVudDo/XFxzKi8sICcnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluZGV4T2YoJ3JldHJ5JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0cnkgPSBwYXJzZUludChsaW5lLnJlcGxhY2UoL3JldHJ5Oj9cXHMqLywgJycpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHJldHJ5KSkge1xuICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSByZXRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pbmRleE9mKCdkYXRhJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2gobGluZS5yZXBsYWNlKC9kYXRhOj9cXHMqLywgJycpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmluZGV4T2YoJ2lkOicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQgPSBsaW5lLnJlcGxhY2UoL2lkOj9cXHMqLywgJycpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5kZXhPZignaWQnKSA9PT0gMCkgeyAvKiB0aGlzIHJlc2V0cyB0aGUgaWQgKi9cbiAgICAgICAgICAgICAgICBsYXN0RXZlbnRJZCA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBNZXNzYWdlRXZlbnQoZGF0YS5qb2luKCdcXG4nKSwgZXZlbnRzb3VyY2UudXJsLCBsYXN0RXZlbnRJZCk7XG4gICAgICAgICAgICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KGV2ZW50VHlwZSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gJ21lc3NhZ2UnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkgcG9sbEFnYWluKGludGVydmFsKTsgLyogZG9uJ3QgbmVlZCB0byBwb2xsIGFnYWluLCBiZWNhdXNlIHdlJ3JlIGxvbmctbG9hZGluZyAqL1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzb3VyY2UucmVhZHlTdGF0ZSAhPT0gZXZlbnRzb3VyY2UuQ0xPU0VEKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7IC8qIGFuZCBzb21lIG90aGVyIHN0YXR1cyBkaXNwYXRjaCBlcnJvciAqL1xuICAgICAgICAgICAgICBldmVudHNvdXJjZS5yZWFkeVN0YXRlID0gZXZlbnRzb3VyY2UuQ09OTkVDVElORztcbiAgICAgICAgICAgICAgZXZlbnRzb3VyY2UuZGlzcGF0Y2hFdmVudCgnZXJyb3InLCB7IHR5cGU6ICdlcnJvcicgfSk7XG4gICAgICAgICAgICAgIHBvbGxBZ2FpbihpbnRlcnZhbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gMCkgeyAvKiBsaWtlbHkgYWJvcnRlZCAqL1xuICAgICAgICAgICAgICBwb2xsQWdhaW4oaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICh0cnVlIHx8IHhoci5yZWFkeVN0YXRlID09PSAzKSB4aHIuYWJvcnQoKTtcbiAgICAgICAgfSwgeGhyLnRpbWVvdXQpO1xuICAgICAgICBldmVudHNvdXJjZS5feGhyID0geGhyO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBpbiBhbiBhdHRlbXB0IHRvIHNpbGVuY2UgdGhlIGVycm9ycyAqL1xuICAgICAgICBldmVudHNvdXJjZS5kaXNwYXRjaEV2ZW50KCdlcnJvcicsIHsgdHlwZTogJ2Vycm9yJywgZGF0YTogZS5tZXNzYWdlIH0pOyAvKiA/Pz8gKi9cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcG9sbCgpOyAvKiBpbml0IG5vdyAqL1xuICB9O1xuICBFdmVudFNvdXJjZS5wcm90b3R5cGUgPSB7XG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHsgLyogY2xvc2VzIHRoZSBjb25uZWN0aW9uIC0gZGlzYWJsaW5nIHRoZSBwb2xsaW5nICovXG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLkNMT1NFRDtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcG9sbFRpbWVyKTtcbiAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgIH0sXG4gICAgQ09OTkVDVElORzogMCxcbiAgICBPUEVOOiAxLFxuICAgIENMT1NFRDogMixcbiAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAodHlwZSwgZXZlbnQpIHtcbiAgICAgIHZhciBoYW5kbGVycyA9IHRoaXNbJ18nICsgdHlwZSArICdIYW5kbGVycyddO1xuICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBoYW5kbGVyc1tpXS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXNbJ29uJyArIHR5cGVdKSB7XG4gICAgICAgIHRoaXNbJ29uJyArIHR5cGVdLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgIGlmICghdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ10pIHtcbiAgICAgICAgdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ10gPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXNbJ18nICsgdHlwZSArICdIYW5kbGVycyddLnB1c2goaGFuZGxlcik7XG4gICAgfSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgaGFuZGxlcikge1xuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpc1snXycgKyB0eXBlICsgJ0hhbmRsZXJzJ107XG4gICAgICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSBoYW5kbGVycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAoaGFuZGxlcnNbaV0gPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9uZXJyb3I6IG51bGwsXG4gICAgb25tZXNzYWdlOiBudWxsLFxuICAgIG9ub3BlbjogbnVsbCxcbiAgICByZWFkeVN0YXRlOiAwLFxuICAgIFVSTDogJydcbiAgfTtcbiAgdmFyIE1lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChkYXRhLCBvcmlnaW4sIGxhc3RFdmVudElkKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLmxhc3RFdmVudElkID0gbGFzdEV2ZW50SWQgfHwgJyc7XG4gIH07XG4gIE1lc3NhZ2VFdmVudC5wcm90b3R5cGUgPSB7IGRhdGE6IG51bGwsIHR5cGU6ICdtZXNzYWdlJywgbGFzdEV2ZW50SWQ6ICcnLCBvcmlnaW46ICcnIH07XG4gIGlmICgnbW9kdWxlJyBpbiBnbG9iYWwpIG1vZHVsZS5leHBvcnRzID0gRXZlbnRTb3VyY2U7XG4gIGdsb2JhbC5FdmVudFNvdXJjZSA9IEV2ZW50U291cmNlO1xufSkod2luZG93KTtcbiIsIi8qKlxuICogQXBwL0FwcGVuZCBuZXcgY2xhc3Mgc3RyaW5nIHRvIHRoZSBwcm92aWRlZCBET00gZWxlbWVudFxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHt7Y2xhc3NMaXN0fXwqfVxuICovXG5jb25zdCBhZGRDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgdHJ5IHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS50cmFjZSgpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhZGRDbGFzcztcbiIsImNvbnN0IGFwcGVuZE5leHQgPSBmdW5jdGlvbiAoZWwsIG5ld05vZGUpIHtcbiAgaWYgKGVsLm5leHRTaWJsaW5nKSB7XG4gICAgZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgZWwubmV4dFNpYmxpbmcpO1xuICB9IGVsc2Uge1xuICAgIGVsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFwcGVuZE5leHQ7XG4iLCJpbXBvcnQgY0xhYnMgZnJvbSAnLi4vbW9kdWxlcy9jTGFicyc7XG5pbXBvcnQgaGFzQ2xhc3MgZnJvbSAnLi9oYXNDbGFzcyc7XG5cbi8qKlxuICogSXRlcmF0ZSB1cCB0aGUgdHJlZSBvZiBET00gZWxlbWVudHMgdG8gZmluZCB0aGUgY2xvc2VzIG1hdGNoXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHBhcmFtIHNlbGVjdG9yXG4gKiBAcmV0dXJucyB7bnVsbCB8IFBhcmVudE5vZGV9XG4gKi9cbmNvbnN0IGNsb3Nlc3QgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgc2VsZWN0b3JDbGFzc1N0cmluZyA9IHNlbGVjdG9yLmdldEF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICB2YXIgc2VsZWN0b3JJZFN0cmluZyA9IHNlbGVjdG9yLmlkO1xuXG4gICAgaWYgKHNlbGVjdG9ySWRTdHJpbmcgIT09IG51bGwgJiYgc2VsZWN0b3JJZFN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICBzZWxlY3RvciA9ICcjJyArIHNlbGVjdG9ySWRTdHJpbmc7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RvckNsYXNzU3RyaW5nICE9PSBudWxsICYmIHNlbGVjdG9yQ2xhc3NTdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZWN0b3IgPSAnLicgKyBzZWxlY3RvckNsYXNzU3RyaW5nLnNwbGl0KCcgJylbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3Iubm9kZU5hbWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB0cnkge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwgJiYgdHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoc2VsZWN0b3IubWF0Y2goY0xhYnMuY2xhc3NTZWxlY3RvcikgJiYgaGFzQ2xhc3MoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy5pZFNlbGVjdG9yKSAmJiBlbGVtZW50LmlkID09PSBzZWxlY3Rvci5yZXBsYWNlKCcjJywgJycpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy50YWdTZWxlY3RvcikgJiYgZWxlbWVudC5ub2RlTmFtZSA9PT0gc2VsZWN0b3IudG9VcHBlckNhc2UoKSkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xvc2VzdDtcbiIsIi8qKlxuICogUHJlcGVuZHMgMCB0aGUgcHJvdmlkZWQgbnVtYmVyIGFuZCByZXR1cm5zIHRoZSBmb3JtYXRlZCBlbGVtZW50IGFzIGEgc3RyaW5nXG4gKiBAcGFyYW0gbnVtXG4gKiBAcGFyYW0gc2l6ZSB7bnVtYmVyfVxuICogQHJldHVybnMge3N0cmluZ30gMSA9PiAwMDFcbiAqL1xuY29uc3QgZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zID0gZnVuY3Rpb24gKG51bSwgc2l6ZSkge1xuICB2YXIgcyA9IFN0cmluZyhudW0pO1xuICB3aGlsZSAocy5sZW5ndGggPCBzaXplKSBzID0gJzAnICsgcztcbiAgcmV0dXJuIHM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmb3JtYXROdW1iZXJMZWFkaW5nWmVyb3M7XG4iLCJjb25zdCBnZXRPZmZzZXQgPSBmdW5jdGlvbiAoZWwpIHtcbiAgdmFyIF94ID0gMDtcbiAgdmFyIF95ID0gMDtcbiAgd2hpbGUgKGVsICYmICFpc05hTihlbC5vZmZzZXRMZWZ0KSAmJiAhaXNOYU4oZWwub2Zmc2V0VG9wKSkge1xuICAgIF94ICs9IGVsLm9mZnNldExlZnQgLSBlbC5zY3JvbGxMZWZ0O1xuICAgIF95ICs9IGVsLm9mZnNldFRvcCAtIGVsLnNjcm9sbFRvcDtcbiAgICBlbCA9IGVsLm9mZnNldFBhcmVudDtcbiAgfVxuICByZXR1cm4geyB0b3A6IF95LCBsZWZ0OiBfeCB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0T2Zmc2V0O1xuIiwiLyoqXG4gKiBQcm92aWRlcyBhbiBhYmlsaXR5IHRvIGNoZWNrIGlmIGEgRE9NIGVsZW1lbnQgY29udGFpbnMgYSBjbGFzcyBzdHJpbmdcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcGFyYW0gY2xhc3NOYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBfaGFzQ2xhc3MgKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBjbGFzc05hbWUgPSBjbGFzc05hbWUucmVwbGFjZSgnLicsICcnKTtcblxuICB0cnkge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAodHlwZW9mIGUuc3RhY2sgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZyhlLnN0YWNrKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coZSwgZWxlbWVudCwgY2xhc3NOYW1lKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5jb25zdCBoYXNDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIF9oYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICB9IGVsc2UgaWYgKGNsYXNzTmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgdmFyIGhhc0NsYXNzID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSBpbiBjbGFzc05hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lW2ldID09PSAnc3RyaW5nJyAmJiBfaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lW2ldKSkge1xuICAgICAgICBoYXNDbGFzcyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNDbGFzcztcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGFzQ2xhc3M7XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIHNpemVvZiB9IGZyb20gJy4vc2l6ZW9mJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNFbGVtZW50IH0gZnJvbSAnLi9pc0VsZW1lbnQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvYmplY3RDb3VudCB9IGZyb20gJy4vb2JqZWN0Q291bnQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyByZW1vdmUgfSBmcm9tICcuL3JlbW92ZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG9iamVjdEl0ZXJhdG9yIH0gZnJvbSAnLi9vYmplY3RJdGVyYXRvcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGFkZENsYXNzIH0gZnJvbSAnLi9hZGRDbGFzcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJlbW92ZUNsYXNzIH0gZnJvbSAnLi9yZW1vdmVDbGFzcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGhhc0NsYXNzIH0gZnJvbSAnLi9oYXNDbGFzcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0cmluZ0NvbnRhaW5zIH0gZnJvbSAnLi9zdHJpbmdDb250YWlucyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZvcm1hdE51bWJlckxlYWRpbmdaZXJvcyB9IGZyb20gJy4vZm9ybWF0TnVtYmVyTGVhZGluZ1plcm9zJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaXBIdG1sIH0gZnJvbSAnLi9zdHJpcEh0bWwnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjbG9zZXN0IH0gZnJvbSAnLi9jbG9zZXN0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNNb2JpbGVUYWJsZXQgfSBmcm9tICcuL2lzTW9iaWxlVGFibGV0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZ2V0T2Zmc2V0IH0gZnJvbSAnLi9nZXRPZmZzZXQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc2lPU0RldmljZSB9IGZyb20gJy4vaXNpT1NEZXZpY2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBhcHBlbmROZXh0IH0gZnJvbSAnLi9hcHBlbmROZXh0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcXVlcnkgfSBmcm9tICcuL3F1ZXJ5JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdHJpbSB9IGZyb20gJy4vdHJpbSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG1lcmdlT2JqZWN0cyB9IGZyb20gJy4vbWVyZ2VPYmplY3RzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2Nyb2xsRW5hYmxlZCB9IGZyb20gJy4vc2Nyb2xsRW5hYmxlZCc7XG4iLCIvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBpdCBpcyBhIERPTSBlbGVtZW50XG4gKlxuICogQHBhcmFtIG8ge09iamVjdH1cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmNvbnN0IGlzRWxlbWVudCA9IGZ1bmN0aW9uIChvKSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIEhUTUxFbGVtZW50ID09PSAnb2JqZWN0J1xuICAgICAgPyBvIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgIDogLyogRE9NMiAqLyBvICYmIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBvICE9PSBudWxsICYmIG8ubm9kZVR5cGUgPT09IDEgJiYgdHlwZW9mIG8ubm9kZU5hbWUgPT09ICdzdHJpbmcnXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc0VsZW1lbnQ7XG4iLCIvLyBhIGNoZWNrIHRvIHRlc3QgaWYgdGhlIGRldmljZSBpcyBhIG1vYmlsZSBvciB0YWJsZXRcbmltcG9ydCBzdHJpbmdDb250YWlucyBmcm9tICcuL3N0cmluZ0NvbnRhaW5zJztcblxuY29uc3QgaXNNb2JpbGVUYWJsZXQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBjaGVjayA9IGZhbHNlO1xuXG4gIChmdW5jdGlvbiAoYSkge1xuICAgIGlmICgvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChhKSB8fCAvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KGEuc3Vic3RyKDAsIDQpKSkgY2hlY2sgPSB0cnVlO1xuICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhKTtcblxuICAvLyBjdXN0b20gc29sdXRpb24gYmVjYXVzZSBsYXRlc3QgaU9TIDEzIHVzZXJBZ2VudCBkb2Vzbid0IHJldHVybiBjb3JyZWN0IG1vYmlsZSBpbmZvcm1hdGlvblxuICBpZiAoIWNoZWNrKSB7XG4gICAgY2hlY2sgPSBzdHJpbmdDb250YWlucyh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLCAnbWFjaW50b3NoJykgJiYgKCdvbnRvdWNoZW5kJyBpbiBkb2N1bWVudCk7XG4gIH1cblxuICByZXR1cm4gY2hlY2s7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc01vYmlsZVRhYmxldDtcbiIsIi8vIGNoZWNrIGlmIGlPU1xuY29uc3QgaXNpT1NEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVAoYWR8aG9uZXxvZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGlzaU9TRGV2aWNlO1xuIiwiaW1wb3J0IHNpemVvZiBmcm9tICcuL3NpemVvZic7XG5cbmNvbnN0IG1lcmdlT2JqZWN0cyA9IGZ1bmN0aW9uIChvYmoxLCBvYmoyLCBhcnJheVR5cGUpIHtcbiAgdmFyIG9iajMgPSAodHlwZW9mIGFycmF5VHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgYXJyYXlUeXBlID09PSBmYWxzZSkgPyB7fSA6IFtdO1xuXG4gIGZvciAoY29uc3QgaSBpbiBvYmoxKSB7XG4gICAgb2JqM1tpXSA9IG9iajFbaV07XG4gIH1cblxuICBmb3IgKGNvbnN0IGsgaW4gb2JqMikge1xuICAgIGlmICh0eXBlb2Ygb2JqMVtrXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIG9iajNba10gPSBvYmoyW2tdO1xuICAgIH0gZWxzZSBpZiAob2JqMVtrXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBvYmozW2tdID0gb2JqMltrXTsgLy8gYXJyYXlzIGdldCBvdmVyd3JpdHRlbiBhbmQgbm90IGV4dGVuZGVkXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqMVtrXSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9iajFba10gPT09ICdvYmplY3QnICYmIG9iajFba10gIT09IG51bGwgJiYgdHlwZW9mIG9iajFba10ubm9kZVR5cGUgPT09ICd1bmRlZmluZWQnICYmIHNpemVvZihvYmoxW2tdKSA+IDApIHtcbiAgICAgIG9iajNba10gPSBtZXJnZU9iamVjdHMob2JqMVtrXSwgb2JqMltrXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqMVtrXSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9iajFba10gPT09ICdvYmplY3QnKSB7XG4gICAgICBvYmozW2tdID0gb2JqMltrXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2ZhaWwnKTtcbiAgICB9XG5cbiAgICBpZiAob2JqM1trXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgb2JqM1trXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqMztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lcmdlT2JqZWN0cztcbiIsIi8qKlxuICogUmV0dXJucyBhIGNvdW50IG9mIG9iamVjdCBmcm9tIGEgcXVlcnkgcmVzdWx0XG4gKiBAcGFyYW1vYmogIHtPYmplY3R9IGFueXRoaW5nIG9yIEFycmF5IG9iamVjdFxuICovXG5jb25zdCBvYmplY3RDb3VudCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKG9iaiAhPT0gbnVsbCAmJiBvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgb2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICByZXR1cm4gb2JqLmxlbmd0aDtcbiAgfSBlbHNlIGlmIChvYmogIT09IG51bGwpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgb2JqZWN0Q291bnQ7XG4iLCIvKipcbiAqIE9iamVjdCBpdGVyYXRvciAtIGJlc3QgdXNhZ2UgaXMgZm9yIGEgbGlzdCBvZiBET00gZWxlbWVudHNcbiAqIEBwYXJhbSBvYmpcbiAqIEBwYXJhbSBjYWxsYmFja1xuICovXG5jb25zdCBvYmplY3RJdGVyYXRvciA9IGZ1bmN0aW9uIChvYmosIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb2JqICE9PSAndW5kZWZpbmVkJyAmJiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iai5sZW5ndGggIT09ICd1bmRlZmluZWQnICYmIG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIGNhbGxiYWNrKG9ialtrZXldLCBrZXksIGNvdW50LCBvYmoubGVuZ3RoKTtcblxuICAgICAgY291bnQrKztcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqICE9PSBudWxsKSB7XG4gICAgY2FsbGJhY2sob2JqLCAwLCAwLCAxKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgb2JqZWN0SXRlcmF0b3I7XG4iLCJpbXBvcnQgY0xhYnMgZnJvbSAnLi4vbW9kdWxlcy9jTGFicyc7XG5pbXBvcnQgdHJpbSBmcm9tICcuL3RyaW0nO1xuXG4vKipcbiAqIFF1ZXJ5IHNlbGVjdG9yLCBzdXBwb3J0cyBDU1MgZWxlbWVudCBzZWxlY3Rpb25cbiAqXG4gKiBTdXBwb3J0czpcbiAqICAtIENsYXNzIHNlbGVjdGlvbjogXCIuZWxlbWVudFwiXG4gKiAgLSBJRCBzZWxlY3Rpb246IFwiI2VsZW1lbnRcIlxuICogIC0gVGFnIHNlbGVjdGlvbjogXCJkaXZcIlxuICogIC0gTXVsdGkgZGVwdGggc2VsZWN0aW9uOiAnLmVsZW1lbnQgdWwgbGknXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFwib3B0aW9uYWxcIlxuICogQHBhcmFtIHtTdHJpbmd9IENTUyBlbGVtZW50IHNlbGVjdG9yXG4gKiBAcmV0dXJucyB7KE9iamVjdHxudWxsfEFycmF5KX0gZGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBzZWxlY3RvciByZXN1bHRzIGNhbiB2YXJ5IChudWxsLCBub2RlLCBOb2RlTGlzdCBhcnJheSlcbiAqL1xuY29uc3QgcXVlcnkgPSBmdW5jdGlvbiAoZG9jLCBzZWxlY3Rvcikge1xuICB2YXIgcmVzdWx0O1xuXG4gIHZhciB0bXBEb2MgPSBkb2M7IHZhciB0bXBTZWxlY3RvciA9IHNlbGVjdG9yOyAvLyB1c2VkIGZvciBkZWJ1ZyBvbmx5XG5cbiAgaWYgKHR5cGVvZiBkb2MgPT09ICdzdHJpbmcnICYmIHNlbGVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICBzZWxlY3RvciA9IGRvYztcbiAgICBkb2MgPSBkb2N1bWVudDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGRvYyAhPT0gbnVsbCkge1xuICAgICAgc2VsZWN0b3IgPSB0cmltKHNlbGVjdG9yKTsgLy9cblxuICAgICAgaWYgKHNlbGVjdG9yLm1hdGNoKGNMYWJzLmNsYXNzU2VsZWN0b3IpKSB7XG4gICAgICAgIHJlc3VsdCA9IGRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHNlbGVjdG9yLnJlcGxhY2UoJy4nLCAnJykpO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3Rvci5tYXRjaChjTGFicy5pZFNlbGVjdG9yKSkge1xuICAgICAgICByZXN1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3Rvci5yZXBsYWNlKCcjJywgJycpKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0b3IubWF0Y2goY0xhYnMudGFnU2VsZWN0b3IpKSB7XG4gICAgICAgIHJlc3VsdCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBkb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQubm9kZVR5cGUpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQgIT09IG51bGwgJiYgcmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIGNvbnNvbGUubG9nKHRtcFNlbGVjdG9yKTtcbiAgICBjb25zb2xlLmxvZyh0bXBEb2MpO1xuICAgIGNvbnNvbGUubG9nKGRvYywgc2VsZWN0b3IpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBxdWVyeTtcbiIsIi8qKlxuICogUmVtb3ZlcyBhbiBIVE1MIERPTSBlbGVtZW50XG4gKiBAcGFyYW1vYmogZWwge09iamVjdH0gRE9NIGVsZW1lbnRcbiAqL1xuY29uc3QgcmVtb3ZlID0gZnVuY3Rpb24gKGVsKSB7XG4gIGlmIChlbCAhPT0gbnVsbCkge1xuICAgIGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCByZW1vdmU7XG4iLCIvKipcbiAqIFJlbW92ZSBjbGFzcyBzdHJpbmcgZnJvbSBwcm92aWRlZCBET00gZWxlbWVudFxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHt7Y2xhc3NMaXN0fXwqfVxuICovXG5jb25zdCByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgdHJ5IHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgIC8vIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgLy8gY29uc29sZS50cmFjZSgpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCByZW1vdmVDbGFzcztcbiIsImNvbnN0IHNjcm9sbEVuYWJsZWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHJldHVybiAoZG9jICE9PSBudWxsKSA/IChkb2Muc2Nyb2xsSGVpZ2h0ID4gZG9jLm9mZnNldEhlaWdodCkgOiBmYWxzZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbEVuYWJsZWQ7XG4iLCJpbXBvcnQgaXNFbGVtZW50IGZyb20gJy4vaXNFbGVtZW50JztcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBzaXplIG9mIGFuIE9iamVjdCBvciBhcnJheVxuICpcbiAqIEBwYXJhbSBvYmoge09iamVjdH1cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuY29uc3Qgc2l6ZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICBsZXQgc2l6ZSA9IDA7IGxldCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgc2l6ZSsrO1xuICB9XG5cbiAgaWYgKHNpemUgPT09IDAgJiYgaXNFbGVtZW50KG9iaikpIHtcbiAgICBzaXplID0gMTtcbiAgfVxuXG4gIHJldHVybiBzaXplO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc2l6ZW9mO1xuIiwiLyoqXG4gKiBBIGNoZWNrIGlmIGEgc3RyaW5nIGNvbnRhaW5zIGFuIGVudHJ5IG9mIHNlYXJjaGVkIGZvciB0ZXJtXG4gKiBAcGFyYW0gc3RyIHtzdHJpbmd9XG4gKiBAcGFyYW0gcGFydGlhbCB7c3RyaW5nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IHN0cmluZ0NvbnRhaW5zID0gZnVuY3Rpb24gKHN0ciwgcGFydGlhbCkge1xuICByZXR1cm4gKHN0ci5pbmRleE9mKHBhcnRpYWwpID4gLTEpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5nQ29udGFpbnM7XG4iLCIvKipcbiAqIFJlbW92ZXMgSFRNTCB0YWdzIGZyb20gdGhlIHByb3ZpZGVkIGlucHV0IGFuZCByZXR1cm5zIG9ubHkgdGhlIHRleHRcbiAqIC0gdGhpcyBpcyBhIHZlcnkgYmFzaWMgaW1wbGVtZW50YXRpb24gYW5kIHNob3VsZCBiZSB1c2VkIGNhcmVmdWxseVxuICogQHBhcmFtIGh0bWwge3N0cmluZ31cbiAqIEByZXR1cm5zIHtzdHJpbmcgfCBzdHJpbmd9XG4gKi9cbmNvbnN0IHN0cmlwSHRtbCA9IGZ1bmN0aW9uIChodG1sKSB7XG4gIHZhciB0bXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgdG1wLmlubmVySFRNTCA9IGh0bWw7XG4gIHJldHVybiB0bXAudGV4dENvbnRlbnQgfHwgdG1wLmlubmVyVGV4dCB8fCAnJztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmlwSHRtbDtcbiIsImNvbnN0IHRyaW0gPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdHJpbTtcbiJdLCJzb3VyY2VSb290IjoiIn0=